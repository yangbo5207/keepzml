1:"$Sreact.fragment"
2:I[51790,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","7177","static/chunks/app/layout-42df43a67d50e5c7.js"],"default"]
3:I[73974,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","7177","static/chunks/app/layout-42df43a67d50e5c7.js"],"default"]
4:I[15244,[],""]
5:I[43866,[],""]
6:I[14547,[],"ClientSegmentRoot"]
7:I[51691,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","5145","static/chunks/app/reactprinciple/layout-6c274ea642a13cbd.js"],"default"]
9:I[98087,["8150","static/chunks/7cfd557f-0718c923d48595ad.js","7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","8173","static/chunks/8173-1aab990e083a60ce.js","3152","static/chunks/3152-e813ba8dd61cd947.js","8993","static/chunks/8993-346b19653c98ecf2.js","3429","static/chunks/app/reactprinciple/(0.eventloop)/4.raf/layout-a516672b60cd8dac.js"],"default"]
c:I[55675,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","5495","static/chunks/5495-c9afbde98032192a.js","2756","static/chunks/2756-7b2130b3332992d3.js","3018","static/chunks/app/reactprinciple/(0.eventloop)/4.raf/page-7a1d0acdcac0152e.js"],"default"]
10:I[14124,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","5495","static/chunks/5495-c9afbde98032192a.js","2756","static/chunks/2756-7b2130b3332992d3.js","3018","static/chunks/app/reactprinciple/(0.eventloop)/4.raf/page-7a1d0acdcac0152e.js"],"default"]
14:I[86213,[],"OutletBoundary"]
16:I[86213,[],"MetadataBoundary"]
18:I[86213,[],"ViewportBoundary"]
1a:I[34835,[],""]
:HL["/_next/static/media/569ce4b8f30dc480-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/93f479601ee12b01-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/d498c84e4ab246b3.css","style"]
:HL["/_next/static/css/0a9e87861d5bb349.css","style"]
:HL["/_next/static/css/738174a5e4c964fb.css","style"]
:HL["/_next/static/css/9abb76f7827dc954.css","style"]
:HL["/_next/static/css/b55814aba7c65cf0.css","style"]
0:{"P":null,"b":"CjNL7BUtK97CMNhOLFT6L","p":"","c":["","reactprinciple","4.raf"],"i":false,"f":[[["",{"children":["reactprinciple",{"children":["(0.eventloop)",{"children":["4.raf",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d498c84e4ab246b3.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/0a9e87861d5bb349.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/738174a5e4c964fb.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","3",{"rel":"stylesheet","href":"/_next/static/css/9abb76f7827dc954.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"zh","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","meta",null,{"charSet":"UTF-8"}],["$","link",null,{"href":"https://framerusercontent.com/images/YRd2KCq4G2aXNg15aHvl7AtcGQ.png","rel":"icon","media":"(prefers-color-scheme: light)"}],["$","link",null,{"rel":"stylesheet","href":"https://rsms.me/inter/inter.css"}],["$","link",null,{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css","integrity":"sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV","crossOrigin":"anonymous"}],["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1.0 maximum-scale=1, user-scalable=no"}],["$","meta",null,{"name":"mobile-web-app-capable","content":"yes"}],["$","meta",null,{"name":"apple-mobile-web-app-status-bar-style","content":"black-translucent"}]]}],["$","body",null,{"className":"__variable_4d318d __variable_ea5f4b antialiased","children":["$","$L2",null,{"children":[["$","$L3",null,{}],["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}]}]]}]]}],{"children":["reactprinciple",["$","$1","c",{"children":[null,["$","$L6",null,{"Component":"$7","slots":{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","reactprinciple","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@8"}]]}],{"children":["(0.eventloop)",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","reactprinciple","children","(0.eventloop)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["4.raf",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/b55814aba7c65cf0.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L9",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","reactprinciple","children","(0.eventloop)","children","4.raf","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[[["$","p",null,{"children":"刷新率（Refresh Rate）是指显示器每秒更新屏幕内容的次数，单位为赫兹（Hz）。"}],"\n",["$","p",null,{"children":"对于前端开发而言，我们需要重点关注刷新率的原因是因为它与动画与页面渲染息息相关。页面渲染并不一定是 JavaScript 代码执行完毕之后就一定会立即渲染。而是按照刷新率的频率一帧一帧的渲染。"}],"\n",["$","p",null,{"children":["对于大多数显示器而言，能够支持的刷新率是 ",["$","code",null,{"children":"60Hz"}],"。也就是说，一秒钟能刷新 60 次。"]}],"\n",["$","p",null,{"children":["此时，一帧的时间为 ",["$","code",null,{"children":"1000 / 60 = 16.67ms"}]]}],"\n",["$","p",null,{"children":"为了确保我们的页面不会卡顿，流畅刷新，我们应该尽量确保在一帧的时间内执行完所有的 JavaScript 逻辑。如果 JavaScript 逻辑执行时间太长，就会造成页面卡顿。"}],"\n",["$","p",null,{"children":["渲染线程提供了两个与刷新率有关的事件触发的时机，分别是 ",["$","code",null,{"children":"requestAnimationFrame"}]," 和 ",["$","code",null,{"children":"requestIdleCallback"}],"。"]}],"\n",["$","h3",null,{"id":"1-requestanimationframe","children":[["$","em",null,{"children":"1、"}]," requestAnimationFrame"]}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"requestAnimationFrame"}]," 是渲染线程提供的一个生命周期函数，它的回调函数会在浏览器的下一帧渲染之前执行。"]}],"\n","$La","\n",["$","p",null,{"children":"也就意味着，我们可以利用它来实现与浏览器刷新率保持一致的流畅动画。"}],"\n",["$","h3",null,{"id":"2-requestidlecallback","children":[["$","em",null,{"children":"2、"}]," requestIdleCallback"]}],"\n",["$","p",null,{"children":["渲染线程提供的另外一个生命周期函数是 ",["$","code",null,{"children":"requestIdleCallback"}],"，它的回调函数会在浏览器的空闲时间执行。"]}],"\n",["$","p",null,{"children":["因此，我们可以把一些",["$","strong",null,{"children":"耗时的任务"}],"放到 ",["$","code",null,{"children":"requestIdleCallback"}]," 中执行，从而保证页面的流畅渲染。"]}],"\n","$Lb","\n",["$","p",null,{"children":["这里需要特别注意的是，每一帧的结尾都有一次执行 ",["$","code",null,{"children":"requestIdleCallback"}]," 回调的机会，但是我们可以在回调中判断剩余时间是否足够我们执行一个任务。如果剩余时间不够，我们可以把任务放到下一帧去执行。"]}],"\n",["$","h3",null,{"id":"3-执行队列","children":[["$","em",null,{"children":"3、"}]," 执行队列"]}],"\n",["$","p",null,{"children":["这里有一个比较好玩的情况，如下例所示，当我们点击按钮之后，会定义两个 ",["$","code",null,{"children":"requestAnimationFrame"}]," 任务。此时，底层的处理机制是什么样的呢？"]}],"\n",["$","p",null,{"children":"我们先来观察一下演示效果与代码"}],"\n",["$","$Lc",null,{}],"\n","$Ld","\n",["$","p",null,{"children":["我们会发现，当我们点击按钮之后，会依次执行两个 ",["$","code",null,{"children":"requestAnimationFrame"}]," 任务。这里的疑问是，底层是如何做到的呢？"]}],"\n",["$","p",null,{"children":["这里就需要引入一个执行队列的概念。 我们可以用如下的方式来模拟 ",["$","code",null,{"children":"requestAnimationFrame"}]," 的原理。"]}],"\n","$Le","\n",["$","p",null,{"children":["最后由主线程来控制依次执行队列中的任务。由于这是一个队列，因此按照",["$","strong",null,{"children":"先进先出"}],"的方式来执行任务。"]}],"\n","$Lf","\n",["$","h3",null,{"id":"3-复杂一点的例子","children":[["$","em",null,{"children":"3、"}]," 复杂一点的例子"]}],"\n",["$","p",null,{"children":"我们接着来看一个复杂一点的例子。"}],"\n",["$","p",null,{"children":["我们依然定义两个 ",["$","code",null,{"children":"requestAnimationFrame"}]," 任务。第一个任务中，我们嵌套了一个新的 ",["$","code",null,{"children":"requestAnimationFrame"}]," 任务。我们需要考虑的是，它的执行时机是什么时候。"]}],"\n",["$","p",null,{"children":"在第二个任务中，我们使用 while 循环来模拟一个耗时的任务。将主线程卡住。观察一下最终的执行结果。"}],"\n",["$","$L10",null,{}],"\n","$L11","\n",["$","p",null,{"children":"执行结果为"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["首先快速执行了 ",["$","code",null,{"children":"raf_1"}]," 和 ",["$","code",null,{"children":"raf_2"}]]}],"\n",["$","li",null,{"children":"然后卡顿了 1 秒钟"}],"\n",["$","li",null,{"children":["最后执行了 ",["$","code",null,{"children":"raf_1_3"}]]}],"\n"]}],"\n",["$","p",null,{"children":"那么它的底层机制是什么样子的呢？"}],"\n",["$","p",null,{"children":["在每一轮事件循环中，会把当前执行队列中的所有任务全部执行完毕。但是，如果在执行这些任务的过程中，产生了新的 ",["$","code",null,{"children":"raf 任务"}],"，则会丢入到下一轮的执行队列中去，等待下一轮执行。而不是直接在当前这一轮执行。"]}],"\n",["$","p",null,{"children":"具体的代码演示如下所示"}],"\n","$L12","\n",["$","p",null,{"children":"循环执行该任务队列结束后，标记设置为 false。"}],"\n","$L13","\n",["$","h3",null,{"id":"4-总结","children":[["$","em",null,{"children":"4、"}]," 总结"]}],"\n",["$","p",null,{"children":"执行队列的运行机制，是事件循环中非常重要的一部分。其他的异步队列如果我没有做特别的讲解也会是类似的逻辑。因此一定要彻底消化掌握。"}]],null,["$","$L14",null,{"children":"$L15"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","jqcMekmS1q9aJN2ucduZh",{"children":[["$","$L16",null,{"children":"$L17"}],["$","$L18",null,{"children":"$L19"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]]}],false]],"m":"$undefined","G":["$1a","$undefined"],"s":false,"S":true}
8:{}
19:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
17:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"usehook - 前端顶级精英俱乐部"}],["$","meta","2",{"name":"description","content":"最好的前端学习网站, react, react19, react hooks, zustand"}],["$","meta","3",{"name":"author","content":"这波能反杀"}],["$","meta","4",{"name":"keywords","content":"react, react19, react hooks, zustand"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
15:null
1b:I[34034,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","5495","static/chunks/5495-c9afbde98032192a.js","2756","static/chunks/2756-7b2130b3332992d3.js","3018","static/chunks/app/reactprinciple/(0.eventloop)/4.raf/page-7a1d0acdcac0152e.js"],"default"]
1c:I[65470,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","5495","static/chunks/5495-c9afbde98032192a.js","2756","static/chunks/2756-7b2130b3332992d3.js","3018","static/chunks/app/reactprinciple/(0.eventloop)/4.raf/page-7a1d0acdcac0152e.js"],"CodeTabHeader"]
1d:I[65703,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","5495","static/chunks/5495-c9afbde98032192a.js","2756","static/chunks/2756-7b2130b3332992d3.js","3018","static/chunks/app/reactprinciple/(0.eventloop)/4.raf/page-7a1d0acdcac0152e.js"],"CodeTabsInner"]
a:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-5)"},"children":"requestAnimationFrame"}],["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"(()"}]," ",["$","span","3",{"style":{"color":"var(--ch-7)"},"children":"=>"}]," ",["$","span","5",{"style":{"color":"var(--ch-4)"},"children":"{"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"console."}],["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"log"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","4",{"style":{"color":"var(--ch-8)"},"children":"'requestAnimationFrame'"}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":")"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"})"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
b:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":14,"height":14,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-terminal","children":[["$","polyline","akl6gq",{"points":"4 17 10 11 4 5"}],["$","line","q2wloq",{"x1":"12","x2":"20","y1":"19","y2":"19"}],"$undefined"]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-5)"},"children":"requestIdleCallback"}],["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"(callback)"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
e:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"const"}]," ",["$","span","2",{"style":{"color":"var(--ch-2)"},"children":"taskQueue"}]," ",["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","6",{"style":{"color":"var(--ch-4)"},"children":"[]"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-1)"},"children":"// requestAnimationFrame 执行时，将定义好的任务放入队列中"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"function"}]," ",["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"requestAnimationFrame"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","4",{"style":{"color":"var(--ch-3)"},"children":"callback"}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":") {"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"taskQueue."}],["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"push"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"(callback)"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","6,6",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[6,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
f:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"let"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"task"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"while"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"(task"}]," ",["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","6",{"style":{"color":"var(--ch-4)"},"children":"taskQueue."}],["$","span","7",{"style":{"color":"var(--ch-5)"},"children":"shift"}],["$","span","8",{"style":{"color":"var(--ch-4)"},"children":"()) {"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-5)"},"children":"task"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"()"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
12:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"let"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"nextQueue"}]," ",["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","6",{"style":{"color":"var(--ch-4)"},"children":"[]"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"let"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"taskQueue"}]," ",["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","6",{"style":{"color":"var(--ch-4)"},"children":"nextQueue"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"let"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"loop"}]," ",["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","6",{"style":{"color":"var(--ch-2)"},"children":"true"}]," ",["$","span","8",{"style":{"color":"var(--ch-1)"},"children":"// 循环标记，表示正在执行队列"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"function"}]," ",["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"requestAnimationFrame"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","4",{"style":{"color":"var(--ch-3)"},"children":"callback"}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":") {"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","6,6",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[6,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"if"}]," ",["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"(loop) {"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","7,7",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[7,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"return"}]," ",["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"nextQueue."}],["$","span","4",{"style":{"color":"var(--ch-5)"},"children":"push"}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":"(callback)"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","8,8",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[8,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"}"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","9,9",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[9,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"taskQueue."}],["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"push"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"(callback)"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","10,10",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[10,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
13:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"let"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"task"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"while"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"(task"}]," ",["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","6",{"style":{"color":"var(--ch-4)"},"children":"taskQueue."}],["$","span","7",{"style":{"color":"var(--ch-5)"},"children":"shift"}],["$","span","8",{"style":{"color":"var(--ch-4)"},"children":"()) {"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-5)"},"children":"task"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"()"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","6,6",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[6,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","7,7",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[7,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-1)"},"children":"// 循环结束，标记设置为 false"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","8,8",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[8,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"loop"}]," ",["$","span","2",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","4",{"style":{"color":"var(--ch-2)"},"children":"false"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
d:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L1b",null,{"children":[["$","$L1c",null,{"tabs":[{"meta":"index.tsx -c","value":"import Button from 'components/ui/button'\n\nexport default function Counter() {\n  function __click() {\n    requestAnimationFrame(() => {\n      console.log('raf_1')\n    })\n\n    requestAnimationFrame(() => {\n      console.log('raf_2')\n    })\n  }\n  return (\n    <div className=''>\n      <Button onClick={__click}>执行两个 requestAnimationFrame task</Button>\n    </div>\n  )\n}","lang":"tsx"}]}],["$","$L1d",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import Button from 'components/ui/button'\n\nexport default function Counter() {\n  function __click() {\n    requestAnimationFrame(() => {\n      console.log('raf_1')\n    })\n\n    requestAnimationFrame(() => {\n      console.log('raf_2')\n    })\n  }\n  return (\n    <div className=''>\n      <Button onClick={__click}>执行两个 requestAnimationFrame task</Button>\n    </div>\n  )\n}","lang":"tsx","code":"import Button from 'components/ui/button'\n\nexport default function Counter() {\n  function __click() {\n    requestAnimationFrame(() => {\n      console.log('raf_1')\n    })\n\n    requestAnimationFrame(() => {\n      console.log('raf_2')\n    })\n  }\n  return (\n    <div className=''>\n      <Button onClick={__click}>执行两个 requestAnimationFrame task</Button>\n    </div>\n  )\n}","tokens":[["import","var(--ch-7)"]," ",["Button","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'components/ui/button'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Counter","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["function","var(--ch-7)"]," ",["__click","var(--ch-5)"],["() {","var(--ch-4)"],"\n    ",["requestAnimationFrame","var(--ch-5)"],["(()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n      ",["console.","var(--ch-4)"],["log","var(--ch-5)"],["(","var(--ch-4)"],["'raf_1'","var(--ch-8)"],[")","var(--ch-4)"],"\n    ",["})","var(--ch-4)"],"\n\n    ",["requestAnimationFrame","var(--ch-5)"],["(()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n      ",["console.","var(--ch-4)"],["log","var(--ch-5)"],["(","var(--ch-4)"],["'raf_2'","var(--ch-8)"],[")","var(--ch-4)"],"\n    ",["})","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["''","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["Button","var(--ch-6)"]," ",["onClick","var(--ch-2)"],["={","var(--ch-7)"],["__click","var(--ch-4)"],["}","var(--ch-7)"],[">执行两个 requestAnimationFrame task</","var(--ch-4)"],["Button","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
11:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L1b",null,{"children":[["$","$L1c",null,{"tabs":[{"meta":"index.tsx -c","value":"import Button from 'components/ui/button'\n\nexport default function Counter() {\n  function __click() {\n    requestAnimationFrame(() => {\n      console.log('raf_1')\n\n      requestAnimationFrame(() => {\n        console.log('raf_1_3')\n      })\n    })\n\n    requestAnimationFrame(() => {\n      console.log('raf_2')\n      let currnet = Date.now()\n      while (Date.now() - currnet < 1000) {\n        // 卡住 1000ms\n      }\n    })\n  }\n  return (\n    <div className=''>\n      <Button onClick={__click}>执行两个 requestAnimationFrame task</Button>\n    </div>\n  )\n}","lang":"tsx"}]}],["$","$L1d",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import Button from 'components/ui/button'\n\nexport default function Counter() {\n  function __click() {\n    requestAnimationFrame(() => {\n      console.log('raf_1')\n\n      requestAnimationFrame(() => {\n        console.log('raf_1_3')\n      })\n    })\n\n    requestAnimationFrame(() => {\n      console.log('raf_2')\n      let currnet = Date.now()\n      while (Date.now() - currnet < 1000) {\n        // 卡住 1000ms\n      }\n    })\n  }\n  return (\n    <div className=''>\n      <Button onClick={__click}>执行两个 requestAnimationFrame task</Button>\n    </div>\n  )\n}","lang":"tsx","code":"import Button from 'components/ui/button'\n\nexport default function Counter() {\n  function __click() {\n    requestAnimationFrame(() => {\n      console.log('raf_1')\n\n      requestAnimationFrame(() => {\n        console.log('raf_1_3')\n      })\n    })\n\n    requestAnimationFrame(() => {\n      console.log('raf_2')\n      let currnet = Date.now()\n      while (Date.now() - currnet < 1000) {\n        // 卡住 1000ms\n      }\n    })\n  }\n  return (\n    <div className=''>\n      <Button onClick={__click}>执行两个 requestAnimationFrame task</Button>\n    </div>\n  )\n}","tokens":[["import","var(--ch-7)"]," ",["Button","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'components/ui/button'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Counter","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["function","var(--ch-7)"]," ",["__click","var(--ch-5)"],["() {","var(--ch-4)"],"\n    ",["requestAnimationFrame","var(--ch-5)"],["(()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n      ",["console.","var(--ch-4)"],["log","var(--ch-5)"],["(","var(--ch-4)"],["'raf_1'","var(--ch-8)"],[")","var(--ch-4)"],"\n\n      ",["requestAnimationFrame","var(--ch-5)"],["(()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n        ",["console.","var(--ch-4)"],["log","var(--ch-5)"],["(","var(--ch-4)"],["'raf_1_3'","var(--ch-8)"],[")","var(--ch-4)"],"\n      ",["})","var(--ch-4)"],"\n    ",["})","var(--ch-4)"],"\n\n    ",["requestAnimationFrame","var(--ch-5)"],["(()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n      ",["console.","var(--ch-4)"],["log","var(--ch-5)"],["(","var(--ch-4)"],["'raf_2'","var(--ch-8)"],[")","var(--ch-4)"],"\n      ",["let","var(--ch-7)"]," ",["currnet","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["Date.","var(--ch-4)"],["now","var(--ch-5)"],["()","var(--ch-4)"],"\n      ",["while","var(--ch-7)"]," ",["(Date.","var(--ch-4)"],["now","var(--ch-5)"],["()","var(--ch-4)"]," ",["-","var(--ch-7)"]," ",["currnet","var(--ch-4)"]," ",["<","var(--ch-7)"]," ",["1000","var(--ch-2)"],[") {","var(--ch-4)"],"\n        ",["// 卡住 1000ms","var(--ch-1)"],"\n      ",["}","var(--ch-4)"],"\n    ",["})","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["''","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["Button","var(--ch-6)"]," ",["onClick","var(--ch-2)"],["={","var(--ch-7)"],["__click","var(--ch-4)"],["}","var(--ch-7)"],[">执行两个 requestAnimationFrame task</","var(--ch-4)"],["Button","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
