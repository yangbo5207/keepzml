1:"$Sreact.fragment"
2:I[51790,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","7177","static/chunks/app/layout-42df43a67d50e5c7.js"],"default"]
3:I[73974,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","7177","static/chunks/app/layout-42df43a67d50e5c7.js"],"default"]
4:I[15244,[],""]
5:I[43866,[],""]
6:I[14547,[],"ClientSegmentRoot"]
7:I[17773,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","2625","static/chunks/app/zustand/layout-eac68b55b319d885.js"],"default"]
9:I[98087,["8150","static/chunks/7cfd557f-0718c923d48595ad.js","7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","8173","static/chunks/8173-1aab990e083a60ce.js","3152","static/chunks/3152-e813ba8dd61cd947.js","8993","static/chunks/8993-6412cbf42ee52bf5.js","617","static/chunks/app/zustand/(0.preface)/4.concurrent/layout-8f15c1137956df97.js"],"default"]
a:I[93755,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4062","static/chunks/app/zustand/(0.preface)/4.concurrent/page-91ef328794fcc464.js"],"default"]
c:I[68684,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4062","static/chunks/app/zustand/(0.preface)/4.concurrent/page-91ef328794fcc464.js"],"default"]
e:I[86213,[],"OutletBoundary"]
10:I[86213,[],"MetadataBoundary"]
12:I[86213,[],"ViewportBoundary"]
14:I[34835,[],""]
:HL["/_next/static/media/569ce4b8f30dc480-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/93f479601ee12b01-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/d498c84e4ab246b3.css","style"]
:HL["/_next/static/css/894ed73796737685.css","style"]
:HL["/_next/static/css/738174a5e4c964fb.css","style"]
:HL["/_next/static/css/17904d092d77f54f.css","style"]
:HL["/_next/static/css/9f294032a6ebc240.css","style"]
0:{"P":null,"b":"8vpj1b2koMmhyjYqr9f0d","p":"","c":["","zustand","4.concurrent"],"i":false,"f":[[["",{"children":["zustand",{"children":["(0.preface)",{"children":["4.concurrent",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d498c84e4ab246b3.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/894ed73796737685.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/738174a5e4c964fb.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","3",{"rel":"stylesheet","href":"/_next/static/css/17904d092d77f54f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"zh","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","meta",null,{"charSet":"UTF-8"}],["$","link",null,{"href":"https://framerusercontent.com/images/YRd2KCq4G2aXNg15aHvl7AtcGQ.png","rel":"icon","media":"(prefers-color-scheme: light)"}],["$","link",null,{"rel":"stylesheet","href":"https://rsms.me/inter/inter.css"}],["$","link",null,{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css","integrity":"sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV","crossOrigin":"anonymous"}],["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1.0 maximum-scale=1, user-scalable=no"}],["$","meta",null,{"name":"mobile-web-app-capable","content":"yes"}],["$","meta",null,{"name":"apple-mobile-web-app-status-bar-style","content":"black-translucent"}]]}],["$","body",null,{"className":"__variable_4d318d __variable_ea5f4b antialiased","children":["$","$L2",null,{"children":[["$","$L3",null,{}],["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}]}]]}]]}],{"children":["zustand",["$","$1","c",{"children":[null,["$","$L6",null,{"Component":"$7","slots":{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","zustand","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@8"}]]}],{"children":["(0.preface)",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","zustand","children","(0.preface)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["4.concurrent",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9f294032a6ebc240.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L9",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","zustand","children","(0.preface)","children","4.concurrent","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[[["$","p",null,{"children":"在 React 中，能否与并发模式有机结合，是判断一个状态管理库是否合格的重要标准，经过验证，我们发现 zustand 在这一方面表现的非常好。"}],"\n",["$","p",null,{"children":"首先，我们先来看一个正常的并发模式的案例，这个案例在之前我们已经学习过"}],"\n",["$","$La",null,{}],"\n","$Lb","\n",["$","p",null,{"children":"然后观察一下同样的案例，使用 zustand 来存储状态"}],"\n",["$","$Lc",null,{}],"\n","$Ld"],null,["$","$Le",null,{"children":"$Lf"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","Yz4Jrr1FSXJmJ9CxaHCK4",{"children":[["$","$L10",null,{"children":"$L11"}],["$","$L12",null,{"children":"$L13"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]]}],false]],"m":"$undefined","G":["$14","$undefined"],"s":false,"S":true}
8:{}
15:I[34034,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4062","static/chunks/app/zustand/(0.preface)/4.concurrent/page-91ef328794fcc464.js"],"default"]
16:I[65470,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4062","static/chunks/app/zustand/(0.preface)/4.concurrent/page-91ef328794fcc464.js"],"CodeTabHeader"]
17:I[65703,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4062","static/chunks/app/zustand/(0.preface)/4.concurrent/page-91ef328794fcc464.js"],"CodeTabsInner"]
b:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L15",null,{"children":[["$","$L16",null,{"tabs":[{"meta":"index.tsx -c","value":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\nimport Number from './number'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className=''>\n      <div className='flex items-center'>\n        <Expensive counter={deferred} />\n        <div className='flex-1 text-center'>\n          <Number value={counter} />\n          <div>高优先级任务</div>\n        </div>\n      </div>\n      <div className='text-right mt-8'>\n        <button className='button' onClick={__clickHanler}>counter++</button>\n      </div>\n\n    </div>\n  )\n}","lang":"tsx"},{"meta":"expensive.tsx -c","value":"import { memo } from 'react'\nimport SlowItem from './slow-item'\nimport Number from './number'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='text-red-500 flex-1'>\n      <div className='flex-1 text-center'>\n        <Number value={counter} />\n        <div>耗时任务</div>\n      </div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","lang":"tsx"},{"meta":"slow-item.tsx -c","value":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","lang":"tsx"}]}],["$","$L17",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\nimport Number from './number'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className=''>\n      <div className='flex items-center'>\n        <Expensive counter={deferred} />\n        <div className='flex-1 text-center'>\n          <Number value={counter} />\n          <div>高优先级任务</div>\n        </div>\n      </div>\n      <div className='text-right mt-8'>\n        <button className='button' onClick={__clickHanler}>counter++</button>\n      </div>\n\n    </div>\n  )\n}","lang":"tsx","code":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\nimport Number from './number'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className=''>\n      <div className='flex items-center'>\n        <Expensive counter={deferred} />\n        <div className='flex-1 text-center'>\n          <Number value={counter} />\n          <div>高优先级任务</div>\n        </div>\n      </div>\n      <div className='text-right mt-8'>\n        <button className='button' onClick={__clickHanler}>counter++</button>\n      </div>\n\n    </div>\n  )\n}","tokens":[["import","var(--ch-7)"]," ",["{ useState, useDeferredValue }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Expensive","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./expensive'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Number","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./number'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Index","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["[","var(--ch-4)"],["counter","var(--ch-2)"],[",","var(--ch-4)"]," ",["setCounter","var(--ch-2)"],["]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["useState","var(--ch-5)"],["(","var(--ch-4)"],["0","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["deferred","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useDeferredValue","var(--ch-5)"],["(counter)","var(--ch-4)"],"\n\n  ",["function","var(--ch-7)"]," ",["__clickHanler","var(--ch-5)"],["() {","var(--ch-4)"],"\n    ",["setCounter","var(--ch-5)"],["(counter","var(--ch-4)"]," ",["+","var(--ch-7)"]," ",["1","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["''","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex items-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["Expensive","var(--ch-6)"]," ",["counter","var(--ch-2)"],["={","var(--ch-7)"],["deferred","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex-1 text-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n          ",["<","var(--ch-4)"],["Number","var(--ch-6)"]," ",["value","var(--ch-2)"],["={","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n          ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">高优先级任务</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'text-right mt-8'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["button","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'button'","var(--ch-8)"]," ",["onClick","var(--ch-2)"],["={","var(--ch-7)"],["__clickHanler","var(--ch-4)"],["}","var(--ch-7)"],[">counter++</","var(--ch-4)"],["button","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"expensive.tsx -c","value":"import { memo } from 'react'\nimport SlowItem from './slow-item'\nimport Number from './number'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='text-red-500 flex-1'>\n      <div className='flex-1 text-center'>\n        <Number value={counter} />\n        <div>耗时任务</div>\n      </div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","lang":"tsx","code":"import { memo } from 'react'\nimport SlowItem from './slow-item'\nimport Number from './number'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='text-red-500 flex-1'>\n      <div className='flex-1 text-center'>\n        <Number value={counter} />\n        <div>耗时任务</div>\n      </div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","tokens":[["import","var(--ch-7)"]," ",["{ memo }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["SlowItem","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./slow-item'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Number","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./number'","var(--ch-8)"],"\n\n",["const","var(--ch-7)"]," ",["Expensive","var(--ch-5)"]," ",["=","var(--ch-7)"]," ",["({","var(--ch-4)"]," ",["counter","var(--ch-3)"]," ",["}","var(--ch-4)"],[":","var(--ch-7)"]," ",["{","var(--ch-4)"]," ",["counter","var(--ch-3)"],[":","var(--ch-7)"]," ",["number","var(--ch-2)"]," ",["})","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n  ",["let","var(--ch-7)"]," ",["items","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["[]","var(--ch-4)"],"\n  ",["for","var(--ch-7)"]," ",["(","var(--ch-4)"],["let","var(--ch-7)"]," ",["i","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["0","var(--ch-2)"],["; i","var(--ch-4)"]," ",["<","var(--ch-7)"]," ",["200","var(--ch-2)"],["; i","var(--ch-4)"],["++","var(--ch-7)"],[") {","var(--ch-4)"],"\n    ",["items.","var(--ch-4)"],["push","var(--ch-5)"],["(<","var(--ch-4)"],["SlowItem","var(--ch-6)"]," ",["key","var(--ch-2)"],["={","var(--ch-7)"],["i","var(--ch-4)"],["}","var(--ch-7)"]," ",["counter","var(--ch-2)"],["={","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>);","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'text-red-500 flex-1'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex-1 text-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["Number","var(--ch-6)"]," ",["value","var(--ch-2)"],["={","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">耗时任务</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["ul","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'h-32 hidden'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["{","var(--ch-7)"],["items","var(--ch-4)"],["}","var(--ch-7)"],"\n      ",["</","var(--ch-4)"],["ul","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[");","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n\n",["export default","var(--ch-7)"]," ",["memo","var(--ch-5)"],["(","var(--ch-3)"],["Expensive","var(--ch-4)"],[")","var(--ch-3)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"slow-item.tsx -c","value":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","lang":"tsx","code":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","tokens":[["function","var(--ch-7)"]," ",["SlowItem","var(--ch-5)"],["({","var(--ch-4)"]," ",["counter","var(--ch-3)"]," ",["}","var(--ch-4)"],[":","var(--ch-7)"]," ",["{","var(--ch-4)"]," ",["counter","var(--ch-3)"],[":","var(--ch-7)"]," ",["number","var(--ch-2)"]," ",["}) {","var(--ch-4)"],"\n  ",["let","var(--ch-7)"]," ",["startTime","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["performance.","var(--ch-4)"],["now","var(--ch-5)"],["();","var(--ch-4)"],"\n  ",["while","var(--ch-7)"]," ",["(performance.","var(--ch-4)"],["now","var(--ch-5)"],["()","var(--ch-4)"]," ",["-","var(--ch-7)"]," ",["startTime","var(--ch-4)"]," ",["<","var(--ch-7)"]," ",["1","var(--ch-2)"],[") {","var(--ch-4)"],"\n    ",["// Do nothing for 1 ms per item to emulate extremely slow code","var(--ch-1)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["li","var(--ch-6)"],[">","var(--ch-4)"],["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["li","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n\n",["export default","var(--ch-7)"]," ",["SlowItem","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
d:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L15",null,{"children":[["$","$L16",null,{"tabs":[{"meta":"index.tsx -c","value":"import { useDeferredValue } from 'react'\nimport Expensive from './expensive'\nimport Number from './number'\nimport { useStore } from './store'\n\nexport default function Index() {\n  const counter = useStore(state => state.counter)\n  const increment = useStore(state => state.increment)\n  const deferred = useDeferredValue(counter)\n\n  return (\n    <div className=''>\n      <div className='flex items-center'>\n        <Expensive counter={deferred} />\n        <div className='flex-1 text-center'>\n          <Number value={counter} />\n          <div>高优先级任务</div>\n        </div>\n      </div>\n      <div className='text-right mt-8'>\n        <button className='button' onClick={increment}>counter++</button>\n      </div>\n\n    </div>\n  )\n}","lang":"tsx"},{"meta":"store.ts -c","value":"import { create } from 'zustand'\n\ntype Store = {\n  counter: number,\n  increment: () => void\n}\n\nexport const useStore = create<Store>((set) => ({\n  counter: 0,\n  increment: () => set(state => ({counter: state.counter + 1})),\n}))","lang":"tsx"},{"meta":"expensive.tsx -c","value":"import { memo } from 'react'\nimport SlowItem from './slow-item'\nimport Number from './number'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='text-red-500 flex-1'>\n      <div className='flex-1 text-center'>\n        <Number value={counter} />\n        <div>耗时任务</div>\n      </div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","lang":"tsx"},{"meta":"slow-item.tsx -c","value":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","lang":"tsx"}]}],["$","$L17",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import { useDeferredValue } from 'react'\nimport Expensive from './expensive'\nimport Number from './number'\nimport { useStore } from './store'\n\nexport default function Index() {\n  const counter = useStore(state => state.counter)\n  const increment = useStore(state => state.increment)\n  const deferred = useDeferredValue(counter)\n\n  return (\n    <div className=''>\n      <div className='flex items-center'>\n        <Expensive counter={deferred} />\n        <div className='flex-1 text-center'>\n          <Number value={counter} />\n          <div>高优先级任务</div>\n        </div>\n      </div>\n      <div className='text-right mt-8'>\n        <button className='button' onClick={increment}>counter++</button>\n      </div>\n\n    </div>\n  )\n}","lang":"tsx","code":"import { useDeferredValue } from 'react'\nimport Expensive from './expensive'\nimport Number from './number'\nimport { useStore } from './store'\n\nexport default function Index() {\n  const counter = useStore(state => state.counter)\n  const increment = useStore(state => state.increment)\n  const deferred = useDeferredValue(counter)\n\n  return (\n    <div className=''>\n      <div className='flex items-center'>\n        <Expensive counter={deferred} />\n        <div className='flex-1 text-center'>\n          <Number value={counter} />\n          <div>高优先级任务</div>\n        </div>\n      </div>\n      <div className='text-right mt-8'>\n        <button className='button' onClick={increment}>counter++</button>\n      </div>\n\n    </div>\n  )\n}","tokens":[["import","var(--ch-7)"]," ",["{ useDeferredValue }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Expensive","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./expensive'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Number","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./number'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["{ useStore }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./store'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Index","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["counter","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useStore","var(--ch-5)"],["(","var(--ch-4)"],["state","var(--ch-3)"]," ",["=>","var(--ch-7)"]," ",["state.counter)","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["increment","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useStore","var(--ch-5)"],["(","var(--ch-4)"],["state","var(--ch-3)"]," ",["=>","var(--ch-7)"]," ",["state.increment)","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["deferred","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useDeferredValue","var(--ch-5)"],["(counter)","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["''","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex items-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["Expensive","var(--ch-6)"]," ",["counter","var(--ch-2)"],["={","var(--ch-7)"],["deferred","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex-1 text-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n          ",["<","var(--ch-4)"],["Number","var(--ch-6)"]," ",["value","var(--ch-2)"],["={","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n          ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">高优先级任务</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'text-right mt-8'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["button","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'button'","var(--ch-8)"]," ",["onClick","var(--ch-2)"],["={","var(--ch-7)"],["increment","var(--ch-4)"],["}","var(--ch-7)"],[">counter++</","var(--ch-4)"],["button","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"store.ts -c","value":"import { create } from 'zustand'\n\ntype Store = {\n  counter: number,\n  increment: () => void\n}\n\nexport const useStore = create<Store>((set) => ({\n  counter: 0,\n  increment: () => set(state => ({counter: state.counter + 1})),\n}))","lang":"tsx","code":"import { create } from 'zustand'\n\ntype Store = {\n  counter: number,\n  increment: () => void\n}\n\nexport const useStore = create<Store>((set) => ({\n  counter: 0,\n  increment: () => set(state => ({counter: state.counter + 1})),\n}))","tokens":[["import","var(--ch-7)"]," ",["{ create }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'zustand'","var(--ch-8)"],"\n\n",["type","var(--ch-7)"]," ",["Store","var(--ch-3)"]," ",["=","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n  ",["counter","var(--ch-3)"],[":","var(--ch-7)"]," ",["number","var(--ch-2)"],[",","var(--ch-4)"],"\n  ",["increment","var(--ch-5)"],[":","var(--ch-7)"]," ",["()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["void","var(--ch-2)"],"\n",["}","var(--ch-4)"],"\n\n",["export const","var(--ch-7)"]," ",["useStore","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["create","var(--ch-5)"],["<","var(--ch-4)"],["Store","var(--ch-3)"],[">((","var(--ch-4)"],["set","var(--ch-3)"],[")","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["({","var(--ch-4)"],"\n  ",["counter:","var(--ch-4)"]," ",["0","var(--ch-2)"],[",","var(--ch-4)"],"\n  ",["increment","var(--ch-5)"],[": ()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["set","var(--ch-5)"],["(","var(--ch-4)"],["state","var(--ch-3)"]," ",["=>","var(--ch-7)"]," ",["({counter: state.counter","var(--ch-4)"]," ",["+","var(--ch-7)"]," ",["1","var(--ch-2)"],["})),","var(--ch-4)"],"\n",["}))","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"expensive.tsx -c","value":"import { memo } from 'react'\nimport SlowItem from './slow-item'\nimport Number from './number'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='text-red-500 flex-1'>\n      <div className='flex-1 text-center'>\n        <Number value={counter} />\n        <div>耗时任务</div>\n      </div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","lang":"tsx","code":"import { memo } from 'react'\nimport SlowItem from './slow-item'\nimport Number from './number'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='text-red-500 flex-1'>\n      <div className='flex-1 text-center'>\n        <Number value={counter} />\n        <div>耗时任务</div>\n      </div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","tokens":[["import","var(--ch-7)"]," ",["{ memo }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["SlowItem","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./slow-item'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Number","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./number'","var(--ch-8)"],"\n\n",["const","var(--ch-7)"]," ",["Expensive","var(--ch-5)"]," ",["=","var(--ch-7)"]," ",["({","var(--ch-4)"]," ",["counter","var(--ch-3)"]," ",["}","var(--ch-4)"],[":","var(--ch-7)"]," ",["{","var(--ch-4)"]," ",["counter","var(--ch-3)"],[":","var(--ch-7)"]," ",["number","var(--ch-2)"]," ",["})","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n  ",["let","var(--ch-7)"]," ",["items","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["[]","var(--ch-4)"],"\n  ",["for","var(--ch-7)"]," ",["(","var(--ch-4)"],["let","var(--ch-7)"]," ",["i","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["0","var(--ch-2)"],["; i","var(--ch-4)"]," ",["<","var(--ch-7)"]," ",["200","var(--ch-2)"],["; i","var(--ch-4)"],["++","var(--ch-7)"],[") {","var(--ch-4)"],"\n    ",["items.","var(--ch-4)"],["push","var(--ch-5)"],["(<","var(--ch-4)"],["SlowItem","var(--ch-6)"]," ",["key","var(--ch-2)"],["={","var(--ch-7)"],["i","var(--ch-4)"],["}","var(--ch-7)"]," ",["counter","var(--ch-2)"],["={","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>);","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'text-red-500 flex-1'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex-1 text-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["Number","var(--ch-6)"]," ",["value","var(--ch-2)"],["={","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">耗时任务</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["ul","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'h-32 hidden'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["{","var(--ch-7)"],["items","var(--ch-4)"],["}","var(--ch-7)"],"\n      ",["</","var(--ch-4)"],["ul","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[");","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n\n",["export default","var(--ch-7)"]," ",["memo","var(--ch-5)"],["(","var(--ch-3)"],["Expensive","var(--ch-4)"],[")","var(--ch-3)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"slow-item.tsx -c","value":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","lang":"tsx","code":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","tokens":[["function","var(--ch-7)"]," ",["SlowItem","var(--ch-5)"],["({","var(--ch-4)"]," ",["counter","var(--ch-3)"]," ",["}","var(--ch-4)"],[":","var(--ch-7)"]," ",["{","var(--ch-4)"]," ",["counter","var(--ch-3)"],[":","var(--ch-7)"]," ",["number","var(--ch-2)"]," ",["}) {","var(--ch-4)"],"\n  ",["let","var(--ch-7)"]," ",["startTime","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["performance.","var(--ch-4)"],["now","var(--ch-5)"],["();","var(--ch-4)"],"\n  ",["while","var(--ch-7)"]," ",["(performance.","var(--ch-4)"],["now","var(--ch-5)"],["()","var(--ch-4)"]," ",["-","var(--ch-7)"]," ",["startTime","var(--ch-4)"]," ",["<","var(--ch-7)"]," ",["1","var(--ch-2)"],[") {","var(--ch-4)"],"\n    ",["// Do nothing for 1 ms per item to emulate extremely slow code","var(--ch-1)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["li","var(--ch-6)"],[">","var(--ch-4)"],["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["li","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n\n",["export default","var(--ch-7)"]," ",["SlowItem","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
13:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
11:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"usehook - 前端顶级精英俱乐部"}],["$","meta","2",{"name":"description","content":"最好的前端学习网站, react, react19, react hooks, zustand"}],["$","meta","3",{"name":"author","content":"这波能反杀"}],["$","meta","4",{"name":"keywords","content":"react, react19, react hooks, zustand"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
f:null
