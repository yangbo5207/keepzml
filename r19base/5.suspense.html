<!DOCTYPE html><html lang="zh"><head><meta charSet="UTF-8"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1, user-scalable=no"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d498c84e4ab246b3.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/0a9e87861d5bb349.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/738174a5e4c964fb.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/9abb76f7827dc954.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b55814aba7c65cf0.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-f2d8f3dc6a2dd1fb.js"/><script src="/_next/static/chunks/4bd1b696-7ee478506e725a9f.js" async=""></script><script src="/_next/static/chunks/1517-0ddfb5deb84e2fb2.js" async=""></script><script src="/_next/static/chunks/main-app-5719cf1fed8b11dc.js" async=""></script><script src="/_next/static/chunks/7525-411280bffc37a107.js" async=""></script><script src="/_next/static/chunks/8173-1aab990e083a60ce.js" async=""></script><script src="/_next/static/chunks/5926-2f921190ce1e6581.js" async=""></script><script src="/_next/static/chunks/3974-a1a1a9aca3315bf5.js" async=""></script><script src="/_next/static/chunks/app/layout-42df43a67d50e5c7.js" async=""></script><script src="/_next/static/chunks/app/r19base/layout-316478d5804649d2.js" async=""></script><script src="/_next/static/chunks/7cfd557f-0718c923d48595ad.js" async=""></script><script src="/_next/static/chunks/4320-eb0b4108191194bc.js" async=""></script><script src="/_next/static/chunks/3152-e813ba8dd61cd947.js" async=""></script><script src="/_next/static/chunks/8993-2dc0c64dff56c673.js" async=""></script><script src="/_next/static/chunks/app/r19base/(1.use)/5.suspense/layout-7e698b00edf80fdd.js" async=""></script><script src="/_next/static/chunks/5495-c9afbde98032192a.js" async=""></script><script src="/_next/static/chunks/2756-7b2130b3332992d3.js" async=""></script><script src="/_next/static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js" async=""></script><meta name="next-size-adjust" content=""/><link href="https://framerusercontent.com/images/YRd2KCq4G2aXNg15aHvl7AtcGQ.png" rel="icon" media="(prefers-color-scheme: light)"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><title>usehook - 前端顶级精英俱乐部</title><meta name="description" content="最好的前端学习网站, react, react19, react hooks, zustand"/><meta name="author" content="这波能反杀"/><meta name="keywords" content="react, react19, react hooks, zustand"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_4d318d __variable_ea5f4b antialiased"><header class="fixed z-50 top-0 flex justify-between min-w-[320px] backdrop-blur-sm w-full bg-gray-50/90 transition bg-white/90"><aside id="vp-aside" class="fixed top-0 h-16 items-center transition bg-gray-50"><div class="px-4"><a class="flex items-center" href="/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"><path fill-rule="evenodd" d="M12 1.5a.75.75 0 0 1 .75.75V4.5a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5ZM5.636 4.136a.75.75 0 0 1 1.06 0l1.592 1.591a.75.75 0 0 1-1.061 1.06l-1.591-1.59a.75.75 0 0 1 0-1.061Zm12.728 0a.75.75 0 0 1 0 1.06l-1.591 1.592a.75.75 0 0 1-1.06-1.061l1.59-1.591a.75.75 0 0 1 1.061 0Zm-6.816 4.496a.75.75 0 0 1 .82.311l5.228 7.917a.75.75 0 0 1-.777 1.148l-2.097-.43 1.045 3.9a.75.75 0 0 1-1.45.388l-1.044-3.899-1.601 1.42a.75.75 0 0 1-1.247-.606l.569-9.47a.75.75 0 0 1 .554-.68ZM3 10.5a.75.75 0 0 1 .75-.75H6a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 10.5Zm14.25 0a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 0 1.5H18a.75.75 0 0 1-.75-.75Zm-8.962 3.712a.75.75 0 0 1 0 1.061l-1.591 1.591a.75.75 0 1 1-1.061-1.06l1.591-1.592a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg><div class="font-bold ml-2">前端码易</div></a></div></aside><div id="vp-content" class="h-15 flex items-center pr-4 lg:pr-0"><div class="flex px-4 md:px-8 2xl:px-24 flex-1"><div class="md:hidden"><a class="flex items-center" href="/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6"><path fill-rule="evenodd" d="M12 1.5a.75.75 0 0 1 .75.75V4.5a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5ZM5.636 4.136a.75.75 0 0 1 1.06 0l1.592 1.591a.75.75 0 0 1-1.061 1.06l-1.591-1.59a.75.75 0 0 1 0-1.061Zm12.728 0a.75.75 0 0 1 0 1.06l-1.591 1.592a.75.75 0 0 1-1.06-1.061l1.59-1.591a.75.75 0 0 1 1.061 0Zm-6.816 4.496a.75.75 0 0 1 .82.311l5.228 7.917a.75.75 0 0 1-.777 1.148l-2.097-.43 1.045 3.9a.75.75 0 0 1-1.45.388l-1.044-3.899-1.601 1.42a.75.75 0 0 1-1.247-.606l.569-9.47a.75.75 0 0 1 .554-.68ZM3 10.5a.75.75 0 0 1 .75-.75H6a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 10.5Zm14.25 0a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 0 1.5H18a.75.75 0 0 1-.75-.75Zm-8.962 3.712a.75.75 0 0 1 0 1.061l-1.591 1.591a.75.75 0 1 1-1.061-1.06l1.591-1.592a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg><div class="font-bold ml-2">前端码易</div></a></div><a class="hidden lg:flex text-gray-600 text-[14px] items-center py-2 px-3 rounded-md hover:bg-gray-100 transition cursor-pointer" href="/reactprinciple"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ghost font-bold"><path d="M9 10h.01"></path><path d="M15 10h.01"></path><path d="M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"></path></svg><span class="ml-1 text-sm font-bold">React 原理面试</span></a><a class="hidden lg:flex text-[14px] items-center py-2 px-3 rounded-md hover:bg-gray-100 transition cursor-pointer text-blue-600" href="/r19base"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell-dot font-bold"><path d="M10.268 21a2 2 0 0 0 3.464 0"></path><path d="M13.916 2.314A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.74 7.327A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673 9 9 0 0 1-.585-.665"></path><circle cx="18" cy="8" r="3"></circle></svg><span class="ml-1 text-sm font-bold">React 19 . 基础</span></a><a class="hidden lg:flex text-gray-600 text-[14px] items-center py-2 px-3 rounded-md hover:bg-gray-100 transition cursor-pointer" href="/r19plus"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell-electric font-bold"><path d="M18.8 4A6.3 8.7 0 0 1 20 9"></path><path d="M9 9h.01"></path><circle cx="9" cy="9" r="7"></circle><rect width="10" height="6" x="4" y="16" rx="2"></rect><path d="M14 19c3 0 4.6-1.6 4.6-1.6"></path><circle cx="20" cy="16" r="2"></circle></svg><span class="ml-1 text-sm font-bold">React 19 . 尊享</span></a><a class="hidden lg:flex text-gray-600 text-[14px] items-center py-2 px-3 rounded-md hover:bg-gray-100 transition cursor-pointer" href="/supercss"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap font-bold"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"></path></svg><span class="ml-1 text-sm font-bold">超级 CSS</span></a></div><aside id="hp-aside" class="hidden lg:flex h-16 items-center pr-6 space-x-4"><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-round-plus"><path d="M2 21a8 8 0 0 1 13.292-6"></path><circle cx="10" cy="8" r="5"></circle><path d="M19 16v6"></path><path d="M22 19h-6"></path></svg><div class="ml-2">交流群</div></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><a class="flex items-center px-8 py-1 rounded bg-blue-500 text-white" href="https://xinyuzone.cn/connect/oauth2/authorize?appid=e89ookqtbk74&amp;redirect_uri=https%3A%2F%2Fusehook.cn%2F&amp;response_type=code&amp;scope=openapi_userinfo#xinyu_redirect"><div>登录</div></a></aside><div class="lg:hidden flex items-center text-gray-700"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"></path></svg></div></div></header><div class="pt-16 md:flex"><aside id="vp-aside" class="fixed top-0 left-0 bottom-0 overflow-y-scroll bg-gray-50 hidden md:block"><div class="px-6 w-full"><div class="flex items-center pb-8 pt-24 sticky top-0 bg-gray-50 border-b border-b-gray-200 mb-8"><div class="flex items-center justify-between p-1 border mr-3 rounded-md border-blue-200"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder-down text-blue-500"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"></path><path d="M12 10v6"></path><path d="m15 13-3 3-3-3"></path></svg></div><div class="text-sm"><div>当前版本</div><div class="text-gray-500">React@19.0.0</div></div></div><nav class="pb-8"><div class="pb-12"><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/0.live"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">0、直播录屏地址</div><label class="border px-2 rounded-full text-xs bg-green-100 text-green-500 border-green-200 ml-2">new</label></li></a></div><div class="text-xs text-gray-400 first:pt-0 pb-4 pt-8" style="opacity:0;transform:translateX(-30px)">前言</div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/1.change"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">1、开发方式变革</div><label class="border px-2 rounded-full text-xs bg-orange-100 text-orange-500 border-orange-200 ml-2">试读</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/2.layers"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">2、三个层次</div><label class="border px-2 rounded-full text-xs bg-orange-100 text-orange-500 border-orange-200 ml-2">试读</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/3.create"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">3、创建项目</div><label class="border px-2 rounded-full text-xs bg-orange-100 text-orange-500 border-orange-200 ml-2">试读</label></li></a></div><div class="text-xs text-gray-400 first:pt-0 pb-4 pt-8" style="opacity:0;transform:translateX(-30px)">use(promise)</div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/4.usebase"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">4、use 基础知识</div><label class="border px-2 rounded-full text-xs bg-orange-100 text-orange-500 border-orange-200 ml-2">试读</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="transition cursor-pointer text-blue-700" href="/r19base/5.suspense"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">5、Suspense</div><label class="border px-2 rounded-full text-xs bg-orange-100 text-orange-500 border-orange-200 ml-2">试读</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/6.update"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">6、点击之后按钮获取数据</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/7.initandupdate"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">7、初始获取数据并更新</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/8.updatetolist"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">8、新增数据到列表</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/9.loadmore"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">9、列表加载更多</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/10.search"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">10、搜索</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/11.tabs"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">11、tab 简单切换</div><label class="text-gray-500 bg-gray-100 border-gray-200 border px-2 rounded-full text-xs ml-2">1</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/12.tabshard"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">12、tab 缓存切换</div><label class="border px-2 rounded-full text-xs bg-blue-100 text-blue-500 border-blue-200 ml-2">2</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/13.tabscount"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">13、父元素获取子元素数据</div><label class="border px-2 rounded-full text-xs bg-fuchsia-100 text-fuchsia-500 border-fuchsia-200 ml-2">3</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/14.nest"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">14、Suspense 嵌套</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/15.withlower"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">15、在低版本中使用</div><label class="border px-2 rounded-full text-xs bg-green-100 text-green-500 border-green-200 ml-2">new</label></li></a></div><div class="text-xs text-gray-400 first:pt-0 pb-4 pt-8" style="opacity:0;transform:translateX(-30px)">use(context)</div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/16.context"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">16、控制反转 IOC</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/17.contextmodal"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">17、自定义弹窗组件</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/18.modify"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">18、context 弹窗更改内容</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/19.skincounter"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">19、皮肤切换次数</div></li></a></div><div class="text-xs text-gray-400 first:pt-0 pb-4 pt-8" style="opacity:0;transform:translateX(-30px)">并发 API</div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/20.deferred"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">20、useDeferredValue</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/21.transition"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">21、useTransition</div></li></a></div><div class="text-xs text-gray-400 first:pt-0 pb-4 pt-8" style="opacity:0;transform:translateX(-30px)">Compiler</div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/22.compiler"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">22、React 19 中引入</div><label class="text-gray-500 bg-gray-100 border-gray-200 border px-2 rounded-full text-xs ml-2">R</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/23.compilerlower"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">23、低版本中引入</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/24.compilerwebpack"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">24、webpack 中引入</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/25.compilerbase"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">25、Compiler 编译原理</div><label class="border px-2 rounded-full text-xs bg-fuchsia-100 text-fuchsia-500 border-fuchsia-200 ml-2">hard</label></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/26.compilercounter"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">26、收益分析 - 递增</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/27.compilerexpensive"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">27、收益分析 - 耗时子组件</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/28.compilertabs"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">28、收益分析 - tabs</div></li></a></div><div class="text-xs text-gray-400 first:pt-0 pb-4 pt-8" style="opacity:0;transform:translateX(-30px)">form action</div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/29.formbase"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">29、form 基础</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/30.formdata"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">30、formdata</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/31.action"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">31、form action</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/32.useformstatus"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">32、useFormStatus</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/33.useActionState"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">33、useActionState</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/34.useoptmistic1"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">34、乐观更新 useOptmistic</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/35.useoptmistic2"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">35、乐观更新 - 案例改进</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/36.useoptmistic3"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">36、信息连续输入</div></li></a></div><div style="opacity:0;transform:translateX(-30px)"><a class="text-gray-700 transition cursor-pointer" href="/r19base/37.useoptmistic4"><li class="py-2 text-xs transition flex items-center justify-between hover:text-blue-700"><div class="line-clamp-1">37、乐观更新 - 点赞</div></li></a></div></div></nav></div></aside><div id="vp-content"><div class="pt-4 md:pt-8 relative flex justify-center"><div id="cp-content" class="px-4 md:px-8 2xl:px-24 pb-24 w-0 flex-1"><div class="keep"><p>在前面一篇文中，我们知道，如果直接使用 use 获取未直接 resolve 的 Promise 中的值，会抛出一个异常。</p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-base typescript"><pre data-theme="github-from-css" data-lang="typescript" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-5)">_api3</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-4)">()</span> <span style="color:var(--ch-7)">=&gt;</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return new</span> <span style="color:var(--ch-2)">Promise</span><span style="color:var(--ch-4)">(</span><span style="color:var(--ch-3)">resolve</span> <span style="color:var(--ch-7)">=&gt;</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-5)">resolve</span><span style="color:var(--ch-4)">({ value:</span> <span style="color:var(--ch-8)">&#x27;_api3&#x27;</span> <span style="color:var(--ch-4)">})</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">})</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-1)">// bad: get an error</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-2)">result</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">use</span><span style="color:var(--ch-4)">(</span><span style="color:var(--ch-5)">_api3</span><span style="color:var(--ch-4)">())</span></div></div></div></div></pre></div></div>
<p>在实践中，大多数情况都是这种并没有直接得到 Promise resolve 的结果状态，那我们应该怎么办呢？这个时候我们可以利用 Suspense 来解决这个问题。</p>
<h3 id="1suspense"><em>1</em>、<strong>Suspense</strong></h3>
<p>Suspense 可以捕获 use 无法读取到数据时抛出的异常，然后此时会在页面上渲染回退组件 <code>fallback</code></p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-base tsx"><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Suspense</span> <span style="color:var(--ch-2)">fallback</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Skeleton</span> <span style="color:var(--ch-4)">/&gt;</span><span style="color:var(--ch-7)">}</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Message</span> <span style="color:var(--ch-2)">promise</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">promise</span><span style="color:var(--ch-7)">}</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">Suspense</span><span style="color:var(--ch-4)">&gt;</span></div></div></div></div></pre></div></div>
<p>接下来看一个简单的演示案例。在这个例子中，为了让 Suspense 捕获更小范围的组件，我们单独定义了一个子组件 <code>Message</code> 来使用 use 获取 promise 中的数据。</p>
<div class="preview border rounded border-gray-200 overflow-hidden my-5"><header class="flex border-b border-gray-200 bg-gray-50 items-center justify-between px-4 py-2"><div class="flex items-center flex-row"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tv-minimal-play"><path d="M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z"></path><path d="M7 21h10"></path><rect width="20" height="14" x="2" y="3" rx="2"></rect></svg><div class="ml-2 text-sm">预览</div></div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw text-gray-500 cursor-pointer"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></header><div class="p-4"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div>
<div class="code-tabs border rounded border-gray-200 overflow-hidden my-5"><div class="flex px-1 py-2 bg-gray-50 gap-1 overflow-auto border-b border-gray-200"><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10 text-blue-700"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>index.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>message.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z"/></svg></span><span>api.ts</span></div></div></div><div class="icon" style="opacity:0;transform:translateY(-10px)"><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ Suspense }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;react&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Message</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./message&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Skeleton</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;components/ui/skeleton&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ getMessage }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./api&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">export default function</span> <span style="color:var(--ch-5)">Page</span><span style="color:var(--ch-3)">()</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-2)">promise</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">getMessage</span><span style="color:var(--ch-4)">()</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">(</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Suspense</span> <span style="color:var(--ch-2)">fallback</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Skeleton</span> <span style="color:var(--ch-4)">/&gt;</span><span style="color:var(--ch-7)">}</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Message</span> <span style="color:var(--ch-2)">promise</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">promise</span><span style="color:var(--ch-7)">}</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">Suspense</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>14<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"></div></div></div></div></pre></div></div></div>
<h3 id="2suspense--use-读取异步接口请求数据"><em>2</em>、<strong>Suspense + use 读取异步接口请求数据</strong></h3>
<p>在开发中更常见的场景是使用 use 读取异步 promise，主要就是<strong>接口请求</strong>。</p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-base tsx"><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Suspense</span> <span style="color:var(--ch-2)">fallback</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Loading</span> <span style="color:var(--ch-4)">/&gt;</span><span style="color:var(--ch-7)">}</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Albums</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">Suspense</span><span style="color:var(--ch-4)">&gt;</span></div></div></div></div></pre></div></div>
<p>在 React 19 中，<code>use(promise)</code> 被设计成完全符合 Suspense 规范的 hook，因此我们可以轻松的结合他们两者来完成页面开发。当 <code>use(promise)</code> 读取数据失败时，会抛出一个异常交给 Suspense 捕获，此时 Suspense 会渲染 <code>fallback</code> 回退组件。当请求成功之后，组件会重新渲染，此时 <code>use(promise)</code> 则可以读取到正确的值。</p>
<p>我们来梳理一下代码流程。</p>
<p>首先，我们定义好一个用于接口请求的函数，该函数执行返回 promise</p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z"/></svg></span><span>api.ts</span></div></div><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ createRandomMessage }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;@/utils&#x27;</span><span style="color:var(--ch-4)">;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">var</span> <span style="color:var(--ch-4)">requestOptions</span><span style="color:var(--ch-7)">:</span> <span style="color:var(--ch-3)">RequestInit</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">method:</span> <span style="color:var(--ch-8)">&#x27;GET&#x27;</span><span style="color:var(--ch-4)">,</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">redirect:</span> <span style="color:var(--ch-8)">&#x27;follow&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">};</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-2)">url</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-8)">&#x27;https://randomuser.me/api/?results=2&amp;inc=name,gender,email,nat,picture&amp;noinfo&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">export async function</span> <span style="color:var(--ch-5)">getMessage</span><span style="color:var(--ch-4)">() {</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">await</span> <span style="color:var(--ch-5)">fetch</span><span style="color:var(--ch-4)">(url, requestOptions)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">{ value:</span> <span style="color:var(--ch-5)">createRandomMessage</span><span style="color:var(--ch-4)">()}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span></div></div></div></div></pre></div></div>
<p>然后我们定义一个子组件 Message，该子组件接受一个 promise 作为参数。然后在子组件内部，我们使用 use 读取该 promise 中的值。</p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>message.tsx</span></div></div><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ Tent }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;lucide-react&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ use }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;react&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ getMessage }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./api&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-5)">Message</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-4)">(</span><span style="color:var(--ch-3)">props</span><span style="color:var(--ch-7)">:</span> <span style="color:var(--ch-4)">{</span> <span style="color:var(--ch-3)">promise</span><span style="color:var(--ch-7)">:</span> <span style="color:var(--ch-3)">ReturnType</span><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-7)">typeof</span> <span style="color:var(--ch-4)">getMessage&gt; })</span> <span style="color:var(--ch-7)">=&gt;</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent;border-left-color:#0ea5e9;background-color:rgb(from #0ea5e9 r g b / 0.13)" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-2)">message</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">use</span><span style="color:var(--ch-4)">(props.promise);</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">(</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">div</span> <span style="color:var(--ch-2)">className</span><span style="color:var(--ch-7)">=</span><span style="color:var(--ch-8)">&#x27;flex border border-gray-200 p-4 rounded items-start&#x27;</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Tent</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">div</span> <span style="color:var(--ch-2)">className</span><span style="color:var(--ch-7)">=</span><span style="color:var(--ch-8)">&#x27;flex-1 ml-3&#x27;</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">        <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">div</span><span style="color:var(--ch-4)">&gt;React introduction&lt;/</span><span style="color:var(--ch-6)">div</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">        <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">div</span> <span style="color:var(--ch-2)">className</span><span style="color:var(--ch-7)">=</span><span style="color:var(--ch-8)">&#x27;text-sm leading-6 mt-2 text-gray-600&#x27;</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">          <span style="color:var(--ch-7)">{</span><span style="color:var(--ch-4)">message.value</span><span style="color:var(--ch-7)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>14<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">        <span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">div</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>15<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">div</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>16<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">div</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>17<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>18<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>19<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>20<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">export default</span> <span style="color:var(--ch-4)">Message</span></div></div></div></div></pre></div></div>
<p>有了这个子组件之后，我们使用 Suspense 包裹捕获该组件的错误，防止错误溢出到更高层级的组件。</p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>index.tsx</span></div></div><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ Suspense }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;react&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Skeleton</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;components/ui/skeleton&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Message</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./message&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ getMessage }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./api&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">export default function</span> <span style="color:var(--ch-5)">Page</span><span style="color:var(--ch-3)">()</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-2)">promise</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">getMessage</span><span style="color:var(--ch-4)">()</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">(</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Suspense</span> <span style="color:var(--ch-2)">fallback</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Skeleton</span> <span style="color:var(--ch-4)">/&gt;</span><span style="color:var(--ch-7)">}</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Message</span> <span style="color:var(--ch-2)">promise</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">promise</span><span style="color:var(--ch-7)">}</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">Suspense</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>14<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"></div></div></div></div></pre></div></div>
<p>完整代码及演示</p>
<div class="preview border rounded border-gray-200 overflow-hidden my-5"><header class="flex border-b border-gray-200 bg-gray-50 items-center justify-between px-4 py-2"><div class="flex items-center flex-row"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tv-minimal-play"><path d="M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z"></path><path d="M7 21h10"></path><rect width="20" height="14" x="2" y="3" rx="2"></rect></svg><div class="ml-2 text-sm">预览</div></div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw text-gray-500 cursor-pointer"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></header><div class="p-4"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div>
<div class="code-tabs border rounded border-gray-200 overflow-hidden my-5"><div class="flex px-1 py-2 bg-gray-50 gap-1 overflow-auto border-b border-gray-200"><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10 text-blue-700"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>index.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>message.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z"/></svg></span><span>api.ts</span></div></div></div><div class="icon" style="opacity:0;transform:translateY(-10px)"><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ Suspense }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;react&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Skeleton</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;components/ui/skeleton&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Message</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./message&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ getMessage }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./api&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">export default function</span> <span style="color:var(--ch-5)">Page</span><span style="color:var(--ch-3)">()</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-2)">promise</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">getMessage</span><span style="color:var(--ch-4)">()</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">(</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Suspense</span> <span style="color:var(--ch-2)">fallback</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Skeleton</span> <span style="color:var(--ch-4)">/&gt;</span><span style="color:var(--ch-7)">}</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Message</span> <span style="color:var(--ch-2)">promise</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">promise</span><span style="color:var(--ch-7)">}</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">Suspense</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>14<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"></div></div></div></div></pre></div></div></div>
<p>当 Message 组件首次渲染时，由于直接读取 promise 导致报错，Suspense 捕获到该异常后，会渲染 <code>fallback</code> 中设置的组件。此时我们设置了一个骨架屏 Skeleton 组件，大家可以多次点击 reload 按钮查看演示效果。</p>
<p>因此，这个案例的视觉表现应该为：首先渲染 Skeleton 组件。然后请求成功之后，渲染 Message 组件。</p>
<h3 id="3suspense-工作原理"><em>3</em>、<strong>Suspense 工作原理</strong></h3>
<p>Suspense 提供了一个加载数据的标准。在源码中，Suspense 的子组件被称为 <code>primary</code>。</p>
<p>当 react 在 beginWork 的过程中（diff 过程），遇到 <code>Suspense</code> 时，首先会尝试加载 <code>primary</code> 组件。如果 <code>primary</code> 组件只是一个普通组件，那么就顺利渲染完成。</p>
<p>如果 <code>primary</code> 组件是一个包含了 use 读取异步 promise 的组件，它会在首次渲染时，<strong>抛出一个异常</strong>。react 捕获到该异常之后，发现是一个我们在语法中约定好的 promise，那么就会将其 <code>then</code> 的回调函数保存下来，并将下一个 <code>next</code> beginWork 的组件重新指定为 <code>Suspense</code>。</p>
<p>此时 promise 在请求阶段，因此再次 beginWork Suspense 组件时，会跳过 <code>primary</code> 的执行而直接渲染 <code>fallback</code></p>
<p>当 <code>primary</code> 中的 promise 执行完成时「resolve」，会执行刚才保存的 <code>then</code> 方法，此时会触发 <code>Suspense</code> 再次执行「调度一个更新任务」。由于此时 <code>primary</code> 中的 promise 已经 resolve，因此此时就可以拿到数据直接渲染 <code>primary</code> 组件。</p>
<p>整个流程可以简单表示为：</p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-base shellscript"><pre data-theme="github-from-css" data-lang="shellscript" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-3)">Suspense</span> <span style="color:var(--ch-4)">-</span><span style="color:var(--ch-7)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-3)">primary</span> <span style="color:var(--ch-4)">-</span><span style="color:var(--ch-7)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-3)">Suspense</span> <span style="color:var(--ch-4)">-</span><span style="color:var(--ch-7)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-3)">fallback</span> <span style="color:var(--ch-4)">-</span><span style="color:var(--ch-7)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-3)">waiting</span> <span style="color:var(--ch-4)">-</span><span style="color:var(--ch-7)">&gt;</span> <span style="color:var(--ch-8)">resolve</span><span style="color:var(--ch-4)">() -</span><span style="color:var(--ch-7)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-3)">Suspense</span> <span style="color:var(--ch-4)">-</span><span style="color:var(--ch-7)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-3)">primary</span> <span style="color:var(--ch-4)">-</span><span style="color:var(--ch-7)">&gt;</span></div></div></div></div></pre></div></div>
<h3 id="4primary-为普通组件时"><em>4</em>、<strong>primary 为普通组件时</strong></h3>
<p>当 <code>primary</code> 为普通组件时，会直接渲染普通组件，如下案例所示。</p>
<div class="preview border rounded border-gray-200 overflow-hidden my-5"><header class="flex border-b border-gray-200 bg-gray-50 items-center justify-between px-4 py-2"><div class="flex items-center flex-row"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tv-minimal-play"><path d="M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z"></path><path d="M7 21h10"></path><rect width="20" height="14" x="2" y="3" rx="2"></rect></svg><div class="ml-2 text-sm">预览</div></div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw text-gray-500 cursor-pointer"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></header><div class="p-4"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div>
<div class="code-tabs border rounded border-gray-200 overflow-hidden my-5"><div class="flex px-1 py-2 bg-gray-50 gap-1 overflow-auto border-b border-gray-200"><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10 text-blue-700"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>index.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>message.tsx</span></div></div></div><div class="icon" style="opacity:0;transform:translateY(-10px)"><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">React, { Suspense }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;react&#x27;</span><span style="color:var(--ch-4)">;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Skeleton</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;components/ui/skeleton&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ createRandomMessage }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;@/utils&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Message</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./message&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">export default function</span> <span style="color:var(--ch-5)">Demo03</span><span style="color:var(--ch-3)">()</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">(</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Suspense</span> <span style="color:var(--ch-2)">fallback</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Skeleton</span> <span style="color:var(--ch-4)">/&gt;</span><span style="color:var(--ch-7)">}</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Message</span> <span style="color:var(--ch-2)">message</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-5)">createRandomMessage</span><span style="color:var(--ch-4)">()</span><span style="color:var(--ch-7)">}</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">Suspense</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"></div></div></div></div></pre></div></div></div>
<h3 id="5新旧实现对比"><em>5</em>、<strong>新旧实现对比</strong></h3>
<p>在前面我们 结合 use 与 Suspense 实现了一个初始化加载的案例。该案例的视觉表现是在初始化时，首先显示 Skeleton 组件，请求成功之后，显示 Message 组件。</p>
<p>刷新页面时重新请求数据渲染，请求过程中显示骨架屏组件 Skeleton</p>
<p>核心代码与演示效果如下，点击刷新按钮重复观察执行效果</p>
<div class="preview border rounded border-gray-200 overflow-hidden my-5"><header class="flex border-b border-gray-200 bg-gray-50 items-center justify-between px-4 py-2"><div class="flex items-center flex-row"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tv-minimal-play"><path d="M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z"></path><path d="M7 21h10"></path><rect width="20" height="14" x="2" y="3" rx="2"></rect></svg><div class="ml-2 text-sm">预览</div></div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw text-gray-500 cursor-pointer"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></header><div class="p-4"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div>
<div class="code-tabs border rounded border-gray-200 overflow-hidden my-5"><div class="flex px-1 py-2 bg-gray-50 gap-1 overflow-auto border-b border-gray-200"><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10 text-blue-700"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>index.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>message.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z"/></svg></span><span>api.ts</span></div></div></div><div class="icon" style="opacity:0;transform:translateY(-10px)"><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ Suspense }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;react&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Skeleton</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;components/ui/skeleton&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Message</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./message&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ getMessage }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./api&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">export default function</span> <span style="color:var(--ch-5)">Page</span><span style="color:var(--ch-3)">()</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-2)">promise</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">getMessage</span><span style="color:var(--ch-4)">()</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">(</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Suspense</span> <span style="color:var(--ch-2)">fallback</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Skeleton</span> <span style="color:var(--ch-4)">/&gt;</span><span style="color:var(--ch-7)">}</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Message</span> <span style="color:var(--ch-2)">promise</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">promise</span><span style="color:var(--ch-7)">}</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;/</span><span style="color:var(--ch-6)">Suspense</span><span style="color:var(--ch-4)">&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>14<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"></div></div></div></div></pre></div></div></div>
<p>这里我们需要关注的是，对比以前必须要借助 <code>state</code> <code>useEffect</code> 的实现方式，体会一下差别</p>
<div class="preview border rounded border-gray-200 overflow-hidden my-5"><header class="flex border-b border-gray-200 bg-gray-50 items-center justify-between px-4 py-2"><div class="flex items-center flex-row"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tv-minimal-play"><path d="M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z"></path><path d="M7 21h10"></path><rect width="20" height="14" x="2" y="3" rx="2"></rect></svg><div class="ml-2 text-sm">预览</div></div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw text-gray-500 cursor-pointer"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></header><div class="p-4"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div>
<div class="code-tabs border rounded border-gray-200 overflow-hidden my-5"><div class="flex px-1 py-2 bg-gray-50 gap-1 overflow-auto border-b border-gray-200"><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10 text-blue-700"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>index.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>message.tsx</span></div></div><div class="relative text-sm transition-colors delay-150 hover:delay-0 pl-2 pr-3 py-1 cursor-pointer"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z"/></svg></span><span>api.ts</span></div></div></div><div class="icon" style="opacity:0;transform:translateY(-10px)"><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">React, { useEffect, useState }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;react&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Skeleton</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;components/ui/skeleton&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">Message</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./message&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">import</span> <span style="color:var(--ch-4)">{ getMessage }</span> <span style="color:var(--ch-7)">from</span> <span style="color:var(--ch-8)">&#x27;./api&#x27;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">export default function</span> <span style="color:var(--ch-5)">Demo04</span><span style="color:var(--ch-3)">()</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-4)">[</span><span style="color:var(--ch-2)">content</span><span style="color:var(--ch-4)">,</span> <span style="color:var(--ch-2)">update</span><span style="color:var(--ch-4)">]</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">useState</span><span style="color:var(--ch-4)">({ value:</span> <span style="color:var(--ch-8)">&#x27;&#x27;</span> <span style="color:var(--ch-4)">})</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-4)">[</span><span style="color:var(--ch-2)">loading</span><span style="color:var(--ch-4)">,</span> <span style="color:var(--ch-2)">setLoading</span><span style="color:var(--ch-4)">]</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">useState</span><span style="color:var(--ch-4)">(</span><span style="color:var(--ch-2)">true</span><span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-5)">useEffect</span><span style="color:var(--ch-4)">(()</span> <span style="color:var(--ch-7)">=&gt;</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-5)">getMessage</span><span style="color:var(--ch-4)">().</span><span style="color:var(--ch-5)">then</span><span style="color:var(--ch-4)">(</span><span style="color:var(--ch-3)">res</span> <span style="color:var(--ch-7)">=&gt;</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-5)">update</span><span style="color:var(--ch-4)">(res)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-5)">setLoading</span><span style="color:var(--ch-4)">(</span><span style="color:var(--ch-2)">false</span><span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>14<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">})</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>15<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">}, []);</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>16<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>17<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">if</span> <span style="color:var(--ch-4)">(loading) {</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>18<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Skeleton</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>19<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>20<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>21<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Message</span> <span style="color:var(--ch-2)">message</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">content.value</span><span style="color:var(--ch-7)">}</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>22<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>23<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"></div></div></div></div></pre></div></div></div>
<p>可以很明显的看出，新的方式使用 use + Suspense ，代码更加简洁。</p>
<p>除此之外，在严格模式下，开发环境组件首次加载会执行两次，因此我们还需要想额外的办法防止重复执行，代码会变得更加冗余。一个很明显的差别就是 <code>Suspense + use</code> 的方式会自动帮助我们弃用第二次的请求数据。而使用 <code>useEffect</code> 则需要我们自己来处理防止重复请求的逻辑。</p>
<h3 id="6总结"><em>6</em>、<strong>总结</strong></h3>
<p>与老版本使用 <code>state</code> + <code>useEffect</code> 完成首页初始化的需求相比，新的开发方式更加的简洁，代码舒适度更高。</p>
<p>不过，在以前的开发方式中，我们可以通过自定义 hook 的方式，把状态与 <code>useEffect</code> 封装成自定义 hook.</p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z"/></svg></span><span>useFetch.ts</span></div></div><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">function</span> <span style="color:var(--ch-5)">useFetch</span><span style="color:var(--ch-4)">() {</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-4)">[</span><span style="color:var(--ch-2)">content</span><span style="color:var(--ch-4)">,</span> <span style="color:var(--ch-2)">update</span><span style="color:var(--ch-4)">]</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">useState</span><span style="color:var(--ch-4)">({value:</span> <span style="color:var(--ch-8)">&#x27;&#x27;</span><span style="color:var(--ch-4)">})</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-4)">[</span><span style="color:var(--ch-2)">loading</span><span style="color:var(--ch-4)">,</span> <span style="color:var(--ch-2)">setLoading</span><span style="color:var(--ch-4)">]</span> <span style="color:var(--ch-7)">=</span> <span style="color:var(--ch-5)">useState</span><span style="color:var(--ch-4)">(</span><span style="color:var(--ch-2)">true</span><span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-5)">useEffect</span><span style="color:var(--ch-4)">(()</span> <span style="color:var(--ch-7)">=&gt;</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-5)">api</span><span style="color:var(--ch-4)">().</span><span style="color:var(--ch-5)">then</span><span style="color:var(--ch-4)">(</span><span style="color:var(--ch-3)">res</span> <span style="color:var(--ch-7)">=&gt;</span> <span style="color:var(--ch-4)">{</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-5)">setLoading</span><span style="color:var(--ch-4)">(</span><span style="color:var(--ch-2)">false</span><span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">      <span style="color:var(--ch-5)">update</span><span style="color:var(--ch-4)">(res)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">})</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">}, [])</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>12<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">{content, loading}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>13<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span></div></div></div></div></pre></div></div>
<p>最终在应用组件中也可以写出非常类似的非常简洁的代码。</p>
<div class="code-wrapper border my-4 border-gray-200 rounded overflow-hidden"><div class="code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50"><div class="flex items-center gap-1 relative z-10"><span><svg fill='#498ba7' height='20' viewBox="0 0 32 32"><path d="M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z"/></svg></span><span>index.tsx</span></div></div><div class="code-base tsx"><button class="button" aria-label="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre data-theme="github-from-css" data-lang="tsx" data-ch="true"><div style="min-width:fit-content"><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>1<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-7)">function</span> <span style="color:var(--ch-5)">Index</span><span style="color:var(--ch-4)">() {</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>2<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">const</span> <span style="color:var(--ch-4)">{</span><span style="color:var(--ch-2)">content</span><span style="color:var(--ch-4)">,</span> <span style="color:var(--ch-2)">loading</span><span style="color:var(--ch-4)">}</span> <span style="color:var(--ch-7)">=</span>  <span style="color:var(--ch-5)">useFetch</span><span style="color:var(--ch-4)">()</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>3<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>4<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">if</span> <span style="color:var(--ch-4)">(loading) {</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>5<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Skeleton</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>6<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">}</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>7<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>8<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-7)">return</span> <span style="color:var(--ch-4)">(</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>9<span class="invisible">0</span></span></span><div class="px-2 flex-1 flex-1 pl-2">    <span style="color:var(--ch-4)">&lt;</span><span style="color:var(--ch-6)">Message</span> <span style="color:var(--ch-2)">message</span><span style="color:var(--ch-7)">={</span><span style="color:var(--ch-4)">content.value</span><span style="color:var(--ch-7)">}</span> <span style="color:var(--ch-4)">/&gt;</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>10<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2">  <span style="color:var(--ch-4)">)</span>
</div></div></div><div style="border-left:solid 2px transparent" class="flex"><div class="flex items-center"><span class="line-number px-4 text-gray-400 text-xs select-none"><span>11<span class="invisible"></span></span></span><div class="px-2 flex-1 flex-1 pl-2"><span style="color:var(--ch-4)">}</span></div></div></div></div></pre></div></div>
<p>这是我们之前版本的最佳实践。注意体会他们之间的区别。相似，但却不同。我们后续会列举更多案例，尽可能用新的开发思路去复现开发过程中会出现的场景。除此之外，Suspense 的实现方案，还能够更好的与并发 API 结合使用，这是老版本实现方案并不具备的优势，在后续的章节中我们会进一步学习。</p></div><div id="diviler_" class="border-b border-gray-300 my-8 border-dashed scroll-mt-24"></div></div><aside id="cp-aside" class="pr-6 relative items-start"><div id="headings" class="w-full sticky top-24 space-y-4 text-gray-700"><a class="block rounded bg-gray-50 p-4 border border-gray-100" target="_blank" href="https://xinyuzone.cn/column/1818097927437131776"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-telescope text-blue-400"><path d="m10.065 12.493-6.18 1.318a.934.934 0 0 1-1.108-.702l-.537-2.15a1.07 1.07 0 0 1 .691-1.265l13.504-4.44"></path><path d="m13.56 11.747 4.332-.924"></path><path d="m16 21-3.105-6.21"></path><path d="M16.485 5.94a2 2 0 0 1 1.455-2.425l1.09-.272a1 1 0 0 1 1.212.727l1.515 6.06a1 1 0 0 1-.727 1.213l-1.09.272a2 2 0 0 1-2.425-1.455z"></path><path d="m6.158 8.633 1.114 4.456"></path><path d="m8 21 3.105-6.21"></path><circle cx="12" cy="13" r="2"></circle></svg><div class="font-bold my-2">JavaScript 核心进阶</div><div class="text-sm leading-6">从构建基础知识体系出发，抓紧核心基础内容，给你地道的前端进阶思维</div></a><a class="block rounded bg-gray-50 p-4 border border-gray-100" target="_blank" href="https://usehook.cn/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mouse-pointer-click text-green-400"><path d="M14 4.1 12 6"></path><path d="m5.1 8-2.9-.8"></path><path d="m6 12-1.9 2"></path><path d="M7.2 2.2 8 5.1"></path><path d="M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z"></path></svg><div class="font-bold my-2">React 19 全解</div><div class="text-sm leading-6">全网第一本系统介绍 React 19 的小册，大量实践案例，给你沉浸式学习体验</div></a><a class="block rounded bg-gray-50 p-4 border border-gray-100" target="_blank" href="https://usehook.cn/advance/index"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plane-takeoff text-red-400"><path d="M2 22h20"></path><path d="M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z"></path></svg><div class="font-bold my-2">React 19 尊享版</div><div class="text-sm leading-6">专为前端资深架构师提供的进阶内容，聚焦项目架构，强化开发效率与开发体验</div></a><div class="rounded bg-gray-100 py-8 text-center text-gray-500"><div class="">成为赞助商</div></div><div class="rounded py-2 border border-gray-200 text-center flex items-center justify-center cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-to-line"><path d="M5 3h14"></path><path d="m18 13-6-6-6 6"></path><path d="M12 7v14"></path></svg><div class="ml-2">滚动到顶部</div></div><div class="rounded py-2 border border-gray-200 text-center flex items-center justify-center cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-down-to-line"><path d="M12 17V3"></path><path d="m6 11 6 6 6-6"></path><path d="M19 21H5"></path></svg><div class="ml-2">滚动到评论</div></div></div></aside></div><button class="rounded border font-medium cursor-pointer transition inline-flex items-center justify-center space-x-1.5 text-[13px] py-1 px-3 bg-white border-sky-300 text-sky-500 hover:border-sky-400 hover:text-sky-600 active:text-sky-700 hover:bg-sky-50 active:bg-sky-100 fixed bottom-6 right-4 md:hidden">目录<span class="absolute flex h-3 w-3 right-[-5px] top-[-5px]"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"></span><span class="relative inline-flex rounded-full h-3 w-3 bg-sky-500"></span></span></button></div></div><script src="/_next/static/chunks/webpack-f2d8f3dc6a2dd1fb.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[51790,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"8173\",\"static/chunks/8173-1aab990e083a60ce.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"3974\",\"static/chunks/3974-a1a1a9aca3315bf5.js\",\"7177\",\"static/chunks/app/layout-42df43a67d50e5c7.js\"],\"default\"]\n3:I[73974,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"8173\",\"static/chunks/8173-1aab990e083a60ce.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"3974\",\"static/chunks/3974-a1a1a9aca3315bf5.js\",\"7177\",\"static/chunks/app/layout-42df43a67d50e5c7.js\"],\"default\"]\n4:I[15244,[],\"\"]\n5:I[43866,[],\"\"]\n6:I[14547,[],\"ClientSegmentRoot\"]\n7:I[34489,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"8173\",\"static/chunks/8173-1aab990e083a60ce.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"3974\",\"static/chunks/3974-a1a1a9aca3315bf5.js\",\"8083\",\"static/chunks/app/r19base/layout-316478d5804649d2.js\"],\"default\"]\n9:I[98087,[\"8150\",\"static/chunks/7cfd557f-0718c923d48595ad.js\",\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"4320\",\"static/chunks/4320-eb0b4108191194bc.js\",\"8173\",\"static/chunks/8173-1aab990e083a60ce.js\",\"3152\",\"static/chunks/3152-e813ba8dd61cd947.js\",\"8993\",\"static/chunks/8993-2dc0c64dff56c673.js\",\"4623\",\"static/chunks/app/r19base/(1.use)/5.suspense/layout-7e698b00edf80fdd.js\"],\"default\"]\nc:I[86601,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"4320\",\"static/chunks/4320-eb0b4108191194bc.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"5495\",\"static/chunks/5495-c9afbde98032192a.js\",\"2756\",\"static/chunks/2756-7b2130b3332992d3.js\",\"8188\",\"static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js\"],\"default\"]\n12:I[7614,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"4320\",\"static/chunks/4320-eb0b4108191194bc.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"5495\",\"static/chunks/5495-c9afbde98032192a.js\",\"2756\",\"static/chunks/2756-7b2130b3332992d3.js\",\"8188\",\"static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js\"],\"default\"]\n15:I[89519,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"432"])</script><script>self.__next_f.push([1,"0\",\"static/chunks/4320-eb0b4108191194bc.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"5495\",\"static/chunks/5495-c9afbde98032192a.js\",\"2756\",\"static/chunks/2756-7b2130b3332992d3.js\",\"8188\",\"static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js\"],\"default\"]\n18:I[15132,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"4320\",\"static/chunks/4320-eb0b4108191194bc.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"5495\",\"static/chunks/5495-c9afbde98032192a.js\",\"2756\",\"static/chunks/2756-7b2130b3332992d3.js\",\"8188\",\"static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js\"],\"default\"]\n1c:I[86213,[],\"OutletBoundary\"]\n1e:I[86213,[],\"MetadataBoundary\"]\n20:I[86213,[],\"ViewportBoundary\"]\n22:I[34835,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/d498c84e4ab246b3.css\",\"style\"]\n:HL[\"/_next/static/css/0a9e87861d5bb349.css\",\"style\"]\n:HL[\"/_next/static/css/738174a5e4c964fb.css\",\"style\"]\n:HL[\"/_next/static/css/9abb76f7827dc954.css\",\"style\"]\n:HL[\"/_next/static/css/b55814aba7c65cf0.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"JAQ3PErsdhKs4ZjQeVKnR\",\"p\":\"\",\"c\":[\"\",\"r19base\",\"5.suspense\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"r19base\",{\"children\":[\"(1.use)\",{\"children\":[\"5.suspense\",{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d498c84e4ab246b3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0a9e87861d5bb349.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/738174a5e4c964fb.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"3\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/9abb76f7827dc954.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"zh\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"charSet\":\"UTF-8\"}],[\"$\",\"link\",null,{\"href\":\"https://framerusercontent.com/images/YRd2KCq4G2aXNg15aHvl7AtcGQ.png\",\"rel\":\"icon\",\"media\":\"(prefers-color-scheme: light)\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://rsms.me/inter/inter.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css\",\"integrity\":\"sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV\",\"crossOrigin\":\"anonymous\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1.0 maximum-scale=1, user-scalable=no\"}],[\"$\",\"meta\",null,{\"name\":\"mobile-web-app-capable\",\"content\":\"yes\"}],[\"$\",\"meta\",null,{\"name\":\"apple-mobile-web-app-status-bar-style\",\"content\":\"black-translucent\"}]]}],[\"$\",\"body\",null,{\"className\":\"__variable_4d318d __variable_ea5f4b antialiased\",\"children\":[\"$\",\"$L2\",null,{\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]}]]}]]}],{\"children\":[\"r19base\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"Component\":\"$7\",\"slots\":{\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"r19base\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]},\"params\":{},\"promise\":\"$@8\"}]]}],{\"children\":[\"(1.use)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"r19base\",\"children\",\"(1.use)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"5.suspense\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b55814aba7c65cf0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L9\",null,{\"pass\":true,\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"r19base\",\"children\",\"(1.use)\",\"children\",\"5.suspense\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"p\",null,{\"children\":\"在前面一篇文中，我们知道，如果直接使用 use 获取未直接 resolve 的 Promise 中的值，会抛出一个异常。\"}],\"\\n\",\"$La\",\"\\n\",[\"$\",\"p\",null,{\"children\":\"在实践中，大多数情况都是这种并没有直接得到 Promise resolve 的结果状态，那我们应该怎么办呢？这个时候我们可以利用 Suspense 来解决这个问题。\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"1suspense\",\"children\":[[\"$\",\"em\",null,{\"children\":\"1\"}],\"、\",[\"$\",\"strong\",null,{\"children\":\"Suspense\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Suspense 可以捕获 use 无法读取到数据时抛出的异常，然后此时会在页面上渲染回退组件 \",[\"$\",\"code\",null,{\"children\":\"fallback\"}]]}],\"\\n\",\"$Lb\",\"\\n\",[\"$\",\"p\",null,{\"children\":[\"接下来看一个简单的演示案例。在这个例子中，为了让 Suspense 捕获更小范围的组件，我们单独定义了一个子组件 \",[\"$\",\"code\",null,{\"children\":\"Message\"}],\" 来使用 use 获取 promise 中的数据。\"]}],\"\\n\",[\"$\",\"$Lc\",null,{}],\"\\n\",\"$Ld\",\"\\n\",[\"$\",\"h3\",null,{\"id\":\"2suspense--use-读取异步接口请求数据\",\"children\":[[\"$\",\"em\",null,{\"children\":\"2\"}],\"、\",[\"$\",\"strong\",null,{\"children\":\"Suspense + use 读取异步接口请求数据\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"在开发中更常见的场景是使用 use 读取异步 promise，主要就是\",[\"$\",\"strong\",null,{\"children\":\"接口请求\"}],\"。\"]}],\"\\n\",\"$Le\",\"\\n\",[\"$\",\"p\",null,{\"children\":[\"在 React 19 中，\",[\"$\",\"code\",null,{\"children\":\"use(promise)\"}],\" 被设计成完全符合 Suspense 规范的 hook，因此我们可以轻松的结合他们两者来完成页面开发。当 \",[\"$\",\"code\",null,{\"children\":\"use(promise)\"}],\" 读取数据失败时，会抛出一个异常交给 Suspense 捕获，此时 Suspense 会渲染 \",[\"$\",\"code\",null,{\"children\":\"fallback\"}],\" 回退组件。当请求成功之后，组件会重新渲染，此时 \",[\"$\",\"code\",null,{\"children\":\"use(promise)\"}],\" 则可以读取到正确的值。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"我们来梳理一下代码流程。\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"首先，我们定义好一个用于接口请求的函数，该函数执行返回 promise\"}],\"\\n\",\"$Lf\",\"\\n\",[\"$\",\"p\",null,{\"children\":\"然后我们定义一个子组件 Message，该子组件接受一个 promise 作为参数。然后在子组件内部，我们使用 use 读取该 promise 中的值。\"}],\"\\n\",\"$L10\",\"\\n\",[\"$\",\"p\",null,{\"children\":\"有了这个子组件之后，我们使用 Suspense 包裹捕获该组件的错误，防止错误溢出到更高层级的组件。\"}],\"\\n\",\"$L11\",\"\\n\",[\"$\",\"p\",null,{\"children\":\"完整代码及演示\"}],\"\\n\",[\"$\",\"$L12\",null,{}],\"\\n\",\"$L13\",\"\\n\",[\"$\",\"p\",null,{\"children\":[\"当 Message 组件首次渲染时，由于直接读取 promise 导致报错，Suspense 捕获到该异常后，会渲染 \",[\"$\",\"code\",null,{\"children\":\"fallback\"}],\" 中设置的组件。此时我们设置了一个骨架屏 Skeleton 组件，大家可以多次点击 reload 按钮查看演示效果。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"因此，这个案例的视觉表现应该为：首先渲染 Skeleton 组件。然后请求成功之后，渲染 Message 组件。\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"3suspense-工作原理\",\"children\":[[\"$\",\"em\",null,{\"children\":\"3\"}],\"、\",[\"$\",\"strong\",null,{\"children\":\"Suspense 工作原理\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Suspense 提供了一个加载数据的标准。在源码中，Suspense 的子组件被称为 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\"。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"当 react 在 beginWork 的过程中（diff 过程），遇到 \",[\"$\",\"code\",null,{\"children\":\"Suspense\"}],\" 时，首先会尝试加载 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\" 组件。如果 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\" 组件只是一个普通组件，那么就顺利渲染完成。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"如果 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\" 组件是一个包含了 use 读取异步 promise 的组件，它会在首次渲染时，\",[\"$\",\"strong\",null,{\"children\":\"抛出一个异常\"}],\"。react 捕获到该异常之后，发现是一个我们在语法中约定好的 promise，那么就会将其 \",[\"$\",\"code\",null,{\"children\":\"then\"}],\" 的回调函数保存下来，并将下一个 \",[\"$\",\"code\",null,{\"children\":\"next\"}],\" beginWork 的组件重新指定为 \",[\"$\",\"code\",null,{\"children\":\"Suspense\"}],\"。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"此时 promise 在请求阶段，因此再次 beginWork Suspense 组件时，会跳过 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\" 的执行而直接渲染 \",[\"$\",\"code\",null,{\"children\":\"fallback\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"当 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\" 中的 promise 执行完成时「resolve」，会执行刚才保存的 \",[\"$\",\"code\",null,{\"children\":\"then\"}],\" 方法，此时会触发 \",[\"$\",\"code\",null,{\"children\":\"Suspense\"}],\" 再次执行「调度一个更新任务」。由于此时 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\" 中的 promise 已经 resolve，因此此时就可以拿到数据直接渲染 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\" 组件。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"整个流程可以简单表示为：\"}],\"\\n\",\"$L14\",\"\\n\",[\"$\",\"h3\",null,{\"id\":\"4primary-为普通组件时\",\"children\":[[\"$\",\"em\",null,{\"children\":\"4\"}],\"、\",[\"$\",\"strong\",null,{\"children\":\"primary 为普通组件时\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"当 \",[\"$\",\"code\",null,{\"children\":\"primary\"}],\" 为普通组件时，会直接渲染普通组件，如下案例所示。\"]}],\"\\n\",[\"$\",\"$L15\",null,{}],\"\\n\",\"$L16\",\"\\n\",[\"$\",\"h3\",null,{\"id\":\"5新旧实现对比\",\"children\":[[\"$\",\"em\",null,{\"children\":\"5\"}],\"、\",[\"$\",\"strong\",null,{\"children\":\"新旧实现对比\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"在前面我们 结合 use 与 Suspense 实现了一个初始化加载的案例。该案例的视觉表现是在初始化时，首先显示 Skeleton 组件，请求成功之后，显示 Message 组件。\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"刷新页面时重新请求数据渲染，请求过程中显示骨架屏组件 Skeleton\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"核心代码与演示效果如下，点击刷新按钮重复观察执行效果\"}],\"\\n\",[\"$\",\"$L12\",null,{}],\"\\n\",\"$L17\",\"\\n\",[\"$\",\"p\",null,{\"children\":[\"这里我们需要关注的是，对比以前必须要借助 \",[\"$\",\"code\",null,{\"children\":\"state\"}],\" \",[\"$\",\"code\",null,{\"children\":\"useEffect\"}],\" 的实现方式，体会一下差别\"]}],\"\\n\",[\"$\",\"$L18\",null,{}],\"\\n\",\"$L19\",\"\\n\",[\"$\",\"p\",null,{\"children\":\"可以很明显的看出，新的方式使用 use + Suspense ，代码更加简洁。\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"除此之外，在严格模式下，开发环境组件首次加载会执行两次，因此我们还需要想额外的办法防止重复执行，代码会变得更加冗余。一个很明显的差别就是 \",[\"$\",\"code\",null,{\"children\":\"Suspense + use\"}],\" 的方式会自动帮助我们弃用第二次的请求数据。而使用 \",[\"$\",\"code\",null,{\"children\":\"useEffect\"}],\" 则需要我们自己来处理防止重复请求的逻辑。\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"6总结\",\"children\":[[\"$\",\"em\",null,{\"children\":\"6\"}],\"、\",[\"$\",\"strong\",null,{\"children\":\"总结\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"与老版本使用 \",[\"$\",\"code\",null,{\"children\":\"state\"}],\" + \",[\"$\",\"code\",null,{\"children\":\"useEffect\"}],\" 完成首页初始化的需求相比，新的开发方式更加的简洁，代码舒适度更高。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"不过，在以前的开发方式中，我们可以通过自定义 hook 的方式，把状态与 \",[\"$\",\"code\",null,{\"children\":\"useEffect\"}],\" 封装成自定义 hook.\"]}],\"\\n\",\"$L1a\",\"\\n\",[\"$\",\"p\",null,{\"children\":\"最终在应用组件中也可以写出非常类似的非常简洁的代码。\"}],\"\\n\",\"$L1b\",\"\\n\",[\"$\",\"p\",null,{\"children\":\"这是我们之前版本的最佳实践。注意体会他们之间的区别。相似，但却不同。我们后续会列举更多案例，尽可能用新的开发思路去复现开发过程中会出现的场景。除此之外，Suspense 的实现方案，还能够更好的与并发 API 结合使用，这是老版本实现方案并不具备的优势，在后续的章节中我们会进一步学习。\"}]],null,[\"$\",\"$L1c\",null,{\"children\":\"$L1d\"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"vI0caMwusqNs2jc7OeBba\",{\"children\":[[\"$\",\"$L1e\",null,{\"children\":\"$L1f\"}],[\"$\",\"$L20\",null,{\"children\":\"$L21\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$22\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"8:{}\n"])</script><script>self.__next_f.push([1,"23:I[86531,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"4320\",\"static/chunks/4320-eb0b4108191194bc.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"5495\",\"static/chunks/5495-c9afbde98032192a.js\",\"2756\",\"static/chunks/2756-7b2130b3332992d3.js\",\"8188\",\"static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js\"],\"CopyButton\"]\n"])</script><script>self.__next_f.push([1,"a:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[null,[\"$\",\"div\",null,{\"className\":\"code-base typescript\",\"children\":[false,[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"typescript\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"_api3\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"()\"}],\" \",[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"return new\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"Promise\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"resolve\"}],\" \",[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"resolve\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"({ value:\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'_api3'\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"})\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"4,4\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[4,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"})\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"5,5\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[5,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"6,6\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[6,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"7,7\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[7,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-1)\"},\"children\":\"// bad: get an error\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"8,8\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[8,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"result\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"use\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"_api3\"}],[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"())\"}]],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[null,[\"$\",\"div\",null,{\"className\":\"code-base tsx\",\"children\":[false,[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"tsx\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Suspense\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"fallback\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"={\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Skeleton\"}],\" \",[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"}\"}],[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Message\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"promise\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"={\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"promise\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"}\"}],\" \",[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c/\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Suspense\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}]],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[null,[\"$\",\"div\",null,{\"className\":\"code-base tsx\",\"children\":[false,[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"tsx\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Suspense\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"fallback\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"={\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Loading\"}],\" \",[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"}\"}],[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Albums\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c/\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Suspense\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}]],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"f:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[[\"$\",\"div\",null,{\"className\":\"code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center gap-1 relative z-10\",\"children\":[[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003csvg fill='#498ba7' height='20' viewBox=\\\"0 0 32 32\\\"\u003e\u003cpath d=\\\"M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z\\\"/\u003e\u003c/svg\u003e\"}}],[\"$\",\"span\",null,{\"children\":\"api.ts\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"code-base tsx\",\"children\":[[\"$\",\"$L23\",null,{\"text\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\"}],[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"tsx\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"import\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{ createRandomMessage }\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"from\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'@/utils'\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\";\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"var\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"requestOptions\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\":\"}],\" \",[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"RequestInit\"}],\" \",[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"4,4\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[4,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"method:\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'GET'\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\",\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"5,5\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[5,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"redirect:\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'follow'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"6,6\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[6,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"};\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"7,7\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[7,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"8,8\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[8,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"url\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"9,9\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[9,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"10,10\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[10,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"export async function\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"getMessage\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"() {\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"11,11\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[11,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"await\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"fetch\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(url, requestOptions)\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"12,12\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[12,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"return\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{ value:\"}],\" \",[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"createRandomMessage\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"()}\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"13,13\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[13,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}\"}]],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"24:T72e,\u003csvg fill='#498ba7' height='20' viewBox=\"0 0 32 32\"\u003e\u003cpath d=\"M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z\"/\u003e\u003c/svg\u003e"])</script><script>self.__next_f.push([1,"10:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[[\"$\",\"div\",null,{\"className\":\"code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center gap-1 relative z-10\",\"children\":[[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$24\"}}],[\"$\",\"span\",null,{\"children\":\"message.tsx\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"code-base tsx\",\"children\":[[\"$\",\"$L23\",null,{\"text\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  // !mark\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\"}],[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"tsx\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"import\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{ Tent }\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"from\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'lucide-react'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"import\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{ use }\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"from\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'react'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"import\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{ getMessage }\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"from\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'./api'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"4,4\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[4,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"5,5\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[5,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"Message\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"props\"}],[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\":\"}],\" \",[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],\" \",[\"$\",\"span\",\"12\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"promise\"}],[\"$\",\"span\",\"13\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\":\"}],\" \",[\"$\",\"span\",\"15\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"ReturnType\"}],[\"$\",\"span\",\"16\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"17\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"typeof\"}],\" \",[\"$\",\"span\",\"19\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"getMessage\u003e })\"}],\" \",[\"$\",\"span\",\"21\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",\"23\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"$1\",\"6\",{\"children\":[[\"$\",\"div\",\"6,6\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"#0ea5e9\",\"backgroundColor\":\"rgb(from #0ea5e9 r g b / 0.13)\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[6,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"message\"}],\" \",[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"use\"}],[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(props.promise);\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}],[\"$\",\"div\",\"7,7\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[7,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"return\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"8,8\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[8,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"div\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"className\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'flex border border-gray-200 p-4 rounded items-start'\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"9,9\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[9,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"      \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Tent\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"10,10\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[10,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"      \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"div\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"className\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'flex-1 ml-3'\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"11,11\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[11,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"        \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"div\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003eReact introduction\u003c/\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"div\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"12,12\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[12,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"        \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"div\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"className\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'text-sm leading-6 mt-2 text-gray-600'\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"13,13\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[13,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"          \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"{\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"message.value\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"}\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"14,14\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[14,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"        \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c/\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"div\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"15,15\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[15,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"      \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c/\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"div\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"16,16\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[16,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c/\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"div\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"17,17\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[17,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\")\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"18,18\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[18,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"19,19\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[19,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"20,20\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[20,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"export default\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"Message\"}]],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"25:T72e,\u003csvg fill='#498ba7' height='20' viewBox=\"0 0 32 32\"\u003e\u003cpath d=\"M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z\"/\u003e\u003c/svg\u003e"])</script><script>self.__next_f.push([1,"11:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[[\"$\",\"div\",null,{\"className\":\"code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center gap-1 relative z-10\",\"children\":[[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$25\"}}],[\"$\",\"span\",null,{\"children\":\"index.tsx\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"code-base tsx\",\"children\":[[\"$\",\"$L23\",null,{\"text\":\"import { Suspense } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\"}],[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"tsx\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"import\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{ Suspense }\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"from\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'react'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"import\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"Skeleton\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"from\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'components/ui/skeleton'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"import\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"Message\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"from\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'./message'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"4,4\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[4,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"import\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{ getMessage }\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"from\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"'./api'\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"5,5\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[5,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"6,6\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[6,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"export default function\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"Page\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"()\"}],\" \",[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"7,7\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[7,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"promise\"}],\" \",[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"getMessage\"}],[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"()\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"8,8\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[8,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"return\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"9,9\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[9,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Suspense\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"fallback\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"={\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Skeleton\"}],\" \",[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"}\"}],[\"$\",\"span\",\"11\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"10,10\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[10,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"      \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Message\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"promise\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"={\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"promise\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"}\"}],\" \",[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"11,11\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[11,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c/\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Suspense\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"12,12\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[12,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\")\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"13,13\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[13,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"14,14\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[14,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"14:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[null,[\"$\",\"div\",null,{\"className\":\"code-base shellscript\",\"children\":[false,[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"shellscript\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"Suspense\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"-\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"primary\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"-\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"Suspense\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"-\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"4,4\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[4,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"fallback\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"-\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"5,5\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[5,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"waiting\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"-\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"resolve\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"() -\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"6,6\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[6,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"Suspense\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"-\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"7,7\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[7,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"primary\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"-\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"\u003e\"}]],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"1a:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[[\"$\",\"div\",null,{\"className\":\"code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center gap-1 relative z-10\",\"children\":[[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003csvg fill='#498ba7' height='20' viewBox=\\\"0 0 32 32\\\"\u003e\u003cpath d=\\\"M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z\\\"/\u003e\u003c/svg\u003e\"}}],[\"$\",\"span\",null,{\"children\":\"useFetch.ts\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"code-base tsx\",\"children\":[[\"$\",\"$L23\",null,{\"text\":\"function useFetch() {\\n  const [content, update] = useState({value: ''})\\n  const [loading, setLoading] = useState(true)\\n\\n  useEffect(() =\u003e {\\n    api().then(res =\u003e {\\n      setLoading(false)\\n      update(res)\\n    })\\n  }, [])\\n\\n  return {content, loading}\\n}\"}],[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"tsx\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"function\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"useFetch\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"() {\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"[\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"content\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\",\"}],\" \",[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"update\"}],[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"]\"}],\" \",[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"12\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"useState\"}],[\"$\",\"span\",\"13\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"({value:\"}],\" \",[\"$\",\"span\",\"15\",{\"style\":{\"color\":\"var(--ch-8)\"},\"children\":\"''\"}],[\"$\",\"span\",\"16\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"})\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"[\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"loading\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\",\"}],\" \",[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"setLoading\"}],[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"]\"}],\" \",[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\" \",[\"$\",\"span\",\"12\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"useState\"}],[\"$\",\"span\",\"13\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],[\"$\",\"span\",\"14\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"true\"}],[\"$\",\"span\",\"15\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\")\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"4,4\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[4,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"5,5\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[5,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"useEffect\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(()\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"6,6\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[6,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"api\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"().\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"then\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-3)\"},\"children\":\"res\"}],\" \",[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"7,7\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[7,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"      \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"setLoading\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"false\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\")\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"8,8\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[8,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"      \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"update\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(res)\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"9,9\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[9,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"})\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"10,10\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[10,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}, [])\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"11,11\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[11,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"12,12\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[12,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"return\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{content, loading}\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"13,13\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[13,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}\"}]],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"26:T72e,\u003csvg fill='#498ba7' height='20' viewBox=\"0 0 32 32\"\u003e\u003cpath d=\"M22 19.4c.1 1.1.2 2.1.2 3.2 0 1.3-.7 2.2-1.7 2.3-.5.1-1.1 0-1.6-.2-1-.5-1.9-1.2-2.9-1.8-.5.4-1 .8-1.6 1.2-.3.2-.7.4-1 .5-1.8.8-3.3-.1-3.4-2.1 0-1 .1-2.1.2-3.2-.6-.2-1.2-.4-1.8-.8-.6-.3-1.1-.7-1.6-1.2-.9-.9-.8-2 .1-2.9.8-.9 1.9-1.3 3-1.7.1 0 .3-.1.4-.1-.1-.7-.2-1.5-.3-2.2 0-.6.1-1.3.2-1.9.3-1.1 1.3-1.6 2.5-1.3 1.2.3 2.1 1 2.9 1.7.2.1.3.3.4.4.8-.6 1.6-1.2 2.5-1.7.6-.4 1.3-.6 2-.4 1 .2 1.6 1.1 1.7 2.4v1.6c0 .5-.2 1-.3 1.6.6.2 1.1.4 1.7.7.8.4 1.6.8 2.1 1.6.5.7.5 1.5 0 2.2-.5.8-1.3 1.2-2.1 1.6-.6.1-1.1.3-1.6.5zm-5.8-.1c.3 0 .8-.1 1.2-.1.3 0 .5-.1.7-.4.5-.8 1-1.6 1.4-2.5.1-.2.1-.5 0-.6-.5-.9-1-1.7-1.5-2.5-.1-.2-.3-.3-.5-.3-.9 0-1.7 0-2.6-.1-.5 0-.9.2-1.2.7-.2.3-.4.6-.6 1-1.1 2-1.1 1.2 0 3.2 1.2 1.9.6 1.5 3.1 1.6zm-5.8-.8c.3-.8.6-1.6.9-2.3v-.4c-.3-.8-.6-1.5-.9-2.3-1 .3-2 .7-2.8 1.3-.9.7-.9 1.6 0 2.3.8.8 1.8 1.1 2.8 1.4zm11.3-5.1c-.4.9-.7 1.7-1 2.5 0 .1-.1.2 0 .2.3.8.6 1.6 1 2.6.9-.5 1.9-.9 2.7-1.4 1.1-.7 1.1-1.7 0-2.4-.8-.7-1.8-1-2.7-1.5zm-10.7-1c.9-.1 1.7-.2 2.5-.4.1 0 .2-.1.2-.1.5-.7 1-1.3 1.6-2-.8-.7-1.6-1.4-2.6-1.8-1.1-.4-1.8 0-2 1.2-.1 1 .1 2 .3 3.1zm10 0c0-.1.1-.3.1-.4.2-1 .4-2.1 0-3.1-.2-.7-.7-1-1.3-.9-1.3.2-2.2 1.1-3.1 1.9.5.7 1 1.3 1.5 1.9l.3.3c.8.1 1.6.2 2.5.3zm-10 7.2c-.2 1.1-.5 2.1-.2 3.2.2 1 .9 1.4 1.9 1.1 1.1-.3 1.9-1.1 2.7-1.8-.5-.7-1-1.3-1.6-2-.1-.1-.2-.2-.3-.2-.8 0-1.6-.1-2.5-.3zm5.6 2.5c.6.8 1.8 1.6 2.6 1.9 1 .3 1.7 0 1.9-1.1.2-1.1 0-2.1-.2-3.2-.9.1-1.8.1-2.6.4-.6.3-.9 1-1.3 1.5-.1.2-.2.3-.4.5zm.6-10.2c-.4-.5-.8-.9-1.2-1.4-.4.5-.7.9-1.2 1.4h2.4zm0 8.2h-2.3c.4.5.8.9 1.2 1.4.3-.5.7-.9 1.1-1.4zm-4.1-1c-.4-.7-.8-1.3-1.2-2.1-.2.6-.4 1.1-.6 1.7.5.2 1.1.3 1.8.4zm7-2.1l-1.2 2.1c.7-.1 1.2-.2 1.8-.3-.1-.6-.3-1.1-.6-1.8zm-8.2-2l1.2-2.1c-.7.1-1.2.2-1.8.3.2.7.3 1.2.6 1.8zm7-2.1c.2.4.4.7.6 1 .2.3.4.6.6 1 .2-.6.4-1.2.6-1.7-.6 0-1.1-.1-1.8-.3z\"/\u003e\u003c/svg\u003e"])</script><script>self.__next_f.push([1,"1b:[\"$\",\"div\",null,{\"className\":\"code-wrapper border my-4 border-gray-200 rounded overflow-hidden\",\"children\":[[\"$\",\"div\",null,{\"className\":\"code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center gap-1 relative z-10\",\"children\":[[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$26\"}}],[\"$\",\"span\",null,{\"children\":\"index.tsx\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"code-base tsx\",\"children\":[[\"$\",\"$L23\",null,{\"text\":\"function Index() {\\n  const {content, loading} =  useFetch()\\n\\n  if (loading) {\\n    return \u003cSkeleton /\u003e\\n  }\\n\\n  return (\\n    \u003cMessage message={content.value} /\u003e\\n  )\\n}\"}],[\"$\",\"pre\",null,{\"data-theme\":\"github-from-css\",\"data-lang\":\"tsx\",\"ref\":\"$undefined\",\"data-ch\":true,\"children\":[\"$\",\"div\",null,{\"style\":{\"minWidth\":\"fit-content\"},\"children\":[[\"$\",\"div\",\"1,1\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[1,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"function\"}],\" \",[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"Index\"}],[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"() {\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"2,2\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[2,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"const\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"{\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"content\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\",\"}],\" \",[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"loading\"}],[\"$\",\"span\",\"8\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}\"}],\" \",[\"$\",\"span\",\"10\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"=\"}],\"  \",[\"$\",\"span\",\"12\",{\"style\":{\"color\":\"var(--ch-5)\"},\"children\":\"useFetch\"}],[\"$\",\"span\",\"13\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"()\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"3,3\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[3,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"4,4\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[4,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"if\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(loading) {\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"5,5\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[5,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"return\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Skeleton\"}],\" \",[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"6,6\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[6,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"7,7\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[7,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"8,8\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[8,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"return\"}],\" \",[\"$\",\"span\",\"3\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"(\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"9,9\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[9,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"0\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"    \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"var(--ch-6)\"},\"children\":\"Message\"}],\" \",[\"$\",\"span\",\"4\",{\"style\":{\"color\":\"var(--ch-2)\"},\"children\":\"message\"}],[\"$\",\"span\",\"5\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"={\"}],[\"$\",\"span\",\"6\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"content.value\"}],[\"$\",\"span\",\"7\",{\"style\":{\"color\":\"var(--ch-7)\"},\"children\":\"}\"}],\" \",[\"$\",\"span\",\"9\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"/\u003e\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"10,10\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[10,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"  \",[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\")\"}],\"\\n\"],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}],[\"$\",\"div\",\"11,11\",{\"style\":{\"borderLeft\":\"solid 2px transparent\",\"borderLeftColor\":\"$undefined\",\"backgroundColor\":\"$undefined\"},\"className\":\"flex\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center\",\"children\":[[\"$\",\"span\",null,{\"className\":\"line-number px-4 text-gray-400 text-xs select-none\",\"children\":[\"$\",\"span\",null,{\"children\":[11,[\"$\",\"span\",null,{\"className\":\"invisible\",\"children\":\"\"}]]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"var(--ch-4)\"},\"children\":\"}\"}]],\"className\":\"px-2 flex-1 flex-1 pl-2\"}]]}]}]]}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"27:I[34034,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"4320\",\"static/chunks/4320-eb0b4108191194bc.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"5495\",\"static/chunks/5495-c9afbde98032192a.js\",\"2756\",\"static/chunks/2756-7b2130b3332992d3.js\",\"8188\",\"static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js\"],\"default\"]\n28:I[65470,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"4320\",\"static/chunks/4320-eb0b4108191194bc.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"5495\",\"static/chunks/5495-c9afbde98032192a.js\",\"2756\",\"static/chunks/2756-7b2130b3332992d3.js\",\"8188\",\"static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js\"],\"CodeTabHeader\"]\n29:I[65703,[\"7525\",\"static/chunks/7525-411280bffc37a107.js\",\"4320\",\"static/chunks/4320-eb0b4108191194bc.js\",\"5926\",\"static/chunks/5926-2f921190ce1e6581.js\",\"5495\",\"static/chunks/5495-c9afbde98032192a.js\",\"2756\",\"static/chunks/2756-7b2130b3332992d3.js\",\"8188\",\"static/chunks/app/r19base/(1.use)/5.suspense/page-e0c724da3e17c82d.js\"],\"CodeTabsInner\"]\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"div\",null,{\"className\":\"code-tabs border rounded border-gray-200 overflow-hidden my-5\",\"children\":[\"$\",\"$L27\",null,{\"children\":[[\"$\",\"$L28\",null,{\"tabs\":[{\"meta\":\"index.tsx -c\",\"value\":\"import { Suspense } from 'react'\\nimport Message from './message'\\nimport Skeleton from 'components/ui/skeleton'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"lang\":\"tsx\"},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\"},{\"meta\":\"api.ts -c\",\"value\":\"import {createRandomMessage} from '@/utils'\\n\\nexport function getMessage() {\\n  return new Promise\u003c{value: string}\u003e(resolve =\u003e {\\n    resolve({ value: createRandomMessage() })\\n  })\\n}\",\"lang\":\"tsx\"}]}],[\"$\",\"$L29\",null,{\"highlighteds\":[{\"meta\":\"index.tsx -c\",\"value\":\"import { Suspense } from 'react'\\nimport Message from './message'\\nimport Skeleton from 'components/ui/skeleton'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"lang\":\"tsx\",\"code\":\"import { Suspense } from 'react'\\nimport Message from './message'\\nimport Skeleton from 'components/ui/skeleton'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ Suspense }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./message'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Skeleton\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'components/ui/skeleton'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ getMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./api'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export default function\",\"var(--ch-7)\"],\" \",[\"Page\",\"var(--ch-5)\"],[\"()\",\"var(--ch-3)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"promise\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"getMessage\",\"var(--ch-5)\"],[\"()\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"Suspense\",\"var(--ch-6)\"],\" \",[\"fallback\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"\u003c\",\"var(--ch-4)\"],[\"Skeleton\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Message\",\"var(--ch-6)\"],\" \",[\"promise\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"promise\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"Suspense\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\"],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\",\"code\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ Tent }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'lucide-react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ use }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ getMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./api'\",\"var(--ch-8)\"],\"\\n\\n\",[\"const\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-5)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],[\"props\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\" \",[\"promise\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"ReturnType\",\"var(--ch-3)\"],[\"\u003c\",\"var(--ch-4)\"],[\"typeof\",\"var(--ch-7)\"],\" \",[\"getMessage\u003e })\",\"var(--ch-4)\"],\" \",[\"=\u003e\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"message\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"use\",\"var(--ch-5)\"],[\"(props.promise);\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex border border-gray-200 p-4 rounded items-start'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Tent\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex-1 ml-3'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003eReact introduction\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'text-sm leading-6 mt-2 text-gray-600'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n          \",[\"{\",\"var(--ch-7)\"],[\"message.value\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],\"\\n        \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\\n\",[\"export default\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"]],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"api.ts -c\",\"value\":\"import {createRandomMessage} from '@/utils'\\n\\nexport function getMessage() {\\n  return new Promise\u003c{value: string}\u003e(resolve =\u003e {\\n    resolve({ value: createRandomMessage() })\\n  })\\n}\",\"lang\":\"tsx\",\"code\":\"import {createRandomMessage} from '@/utils'\\n\\nexport function getMessage() {\\n  return new Promise\u003c{value: string}\u003e(resolve =\u003e {\\n    resolve({ value: createRandomMessage() })\\n  })\\n}\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{createRandomMessage}\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'@/utils'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export function\",\"var(--ch-7)\"],\" \",[\"getMessage\",\"var(--ch-5)\"],[\"() {\",\"var(--ch-4)\"],\"\\n  \",[\"return new\",\"var(--ch-7)\"],\" \",[\"Promise\",\"var(--ch-2)\"],[\"\u003c{\",\"var(--ch-4)\"],[\"value\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"string\",\"var(--ch-2)\"],[\"}\u003e(\",\"var(--ch-4)\"],[\"resolve\",\"var(--ch-3)\"],\" \",[\"=\u003e\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n    \",[\"resolve\",\"var(--ch-5)\"],[\"({ value:\",\"var(--ch-4)\"],\" \",[\"createRandomMessage\",\"var(--ch-5)\"],[\"() })\",\"var(--ch-4)\"],\"\\n  \",[\"})\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"]],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"div\",null,{\"className\":\"code-tabs border rounded border-gray-200 overflow-hidden my-5\",\"children\":[\"$\",\"$L27\",null,{\"children\":[[\"$\",\"$L28\",null,{\"tabs\":[{\"meta\":\"index.tsx -c\",\"value\":\"import { Suspense } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"lang\":\"tsx\"},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  // !mark\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\"},{\"meta\":\"api.ts -c\",\"value\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"lang\":\"tsx\"}]}],[\"$\",\"$L29\",null,{\"highlighteds\":[{\"meta\":\"index.tsx -c\",\"value\":\"import { Suspense } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"lang\":\"tsx\",\"code\":\"import { Suspense } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ Suspense }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Skeleton\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'components/ui/skeleton'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./message'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ getMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./api'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export default function\",\"var(--ch-7)\"],\" \",[\"Page\",\"var(--ch-5)\"],[\"()\",\"var(--ch-3)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"promise\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"getMessage\",\"var(--ch-5)\"],[\"()\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"Suspense\",\"var(--ch-6)\"],\" \",[\"fallback\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"\u003c\",\"var(--ch-4)\"],[\"Skeleton\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Message\",\"var(--ch-6)\"],\" \",[\"promise\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"promise\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"Suspense\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\"],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  // !mark\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\",\"code\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ Tent }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'lucide-react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ use }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ getMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./api'\",\"var(--ch-8)\"],\"\\n\\n\",[\"const\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-5)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],[\"props\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\" \",[\"promise\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"ReturnType\",\"var(--ch-3)\"],[\"\u003c\",\"var(--ch-4)\"],[\"typeof\",\"var(--ch-7)\"],\" \",[\"getMessage\u003e })\",\"var(--ch-4)\"],\" \",[\"=\u003e\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"message\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"use\",\"var(--ch-5)\"],[\"(props.promise);\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex border border-gray-200 p-4 rounded items-start'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Tent\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex-1 ml-3'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003eReact introduction\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'text-sm leading-6 mt-2 text-gray-600'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n          \",[\"{\",\"var(--ch-7)\"],[\"message.value\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],\"\\n        \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\\n\",[\"export default\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"]],\"annotations\":[{\"name\":\"mark\",\"query\":\"\",\"fromLineNumber\":6,\"toLineNumber\":6}],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"api.ts -c\",\"value\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"lang\":\"tsx\",\"code\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ createRandomMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'@/utils'\",\"var(--ch-8)\"],[\";\",\"var(--ch-4)\"],\"\\n\\n\",[\"var\",\"var(--ch-7)\"],\" \",[\"requestOptions\",\"var(--ch-4)\"],[\":\",\"var(--ch-7)\"],\" \",[\"RequestInit\",\"var(--ch-3)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"method:\",\"var(--ch-4)\"],\" \",[\"'GET'\",\"var(--ch-8)\"],[\",\",\"var(--ch-4)\"],\"\\n  \",[\"redirect:\",\"var(--ch-4)\"],\" \",[\"'follow'\",\"var(--ch-8)\"],\"\\n\",[\"};\",\"var(--ch-4)\"],\"\\n\\n\",[\"const\",\"var(--ch-7)\"],\" \",[\"url\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export async function\",\"var(--ch-7)\"],\" \",[\"getMessage\",\"var(--ch-5)\"],[\"() {\",\"var(--ch-4)\"],\"\\n  \",[\"await\",\"var(--ch-7)\"],\" \",[\"fetch\",\"var(--ch-5)\"],[\"(url, requestOptions)\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"{ value:\",\"var(--ch-4)\"],\" \",[\"createRandomMessage\",\"var(--ch-5)\"],[\"()}\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"]],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"16:[\"$\",\"div\",null,{\"className\":\"code-tabs border rounded border-gray-200 overflow-hidden my-5\",\"children\":[\"$\",\"$L27\",null,{\"children\":[[\"$\",\"$L28\",null,{\"tabs\":[{\"meta\":\"index.tsx -c\",\"value\":\"import React, { Suspense } from 'react';\\nimport Skeleton from 'components/ui/skeleton'\\nimport { createRandomMessage } from '@/utils'\\nimport Message from './message'\\n\\nexport default function Demo03() {\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage message={createRandomMessage()} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"lang\":\"tsx\"},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\n\\nconst Message = (props: { message: string }) =\u003e {\\n  const message = props.message;\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e{message}\u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\"}]}],[\"$\",\"$L29\",null,{\"highlighteds\":[{\"meta\":\"index.tsx -c\",\"value\":\"import React, { Suspense } from 'react';\\nimport Skeleton from 'components/ui/skeleton'\\nimport { createRandomMessage } from '@/utils'\\nimport Message from './message'\\n\\nexport default function Demo03() {\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage message={createRandomMessage()} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"lang\":\"tsx\",\"code\":\"import React, { Suspense } from 'react';\\nimport Skeleton from 'components/ui/skeleton'\\nimport { createRandomMessage } from '@/utils'\\nimport Message from './message'\\n\\nexport default function Demo03() {\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage message={createRandomMessage()} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"React, { Suspense }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'react'\",\"var(--ch-8)\"],[\";\",\"var(--ch-4)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Skeleton\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'components/ui/skeleton'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ createRandomMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'@/utils'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./message'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export default function\",\"var(--ch-7)\"],\" \",[\"Demo03\",\"var(--ch-5)\"],[\"()\",\"var(--ch-3)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"Suspense\",\"var(--ch-6)\"],\" \",[\"fallback\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"\u003c\",\"var(--ch-4)\"],[\"Skeleton\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Message\",\"var(--ch-6)\"],\" \",[\"message\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"createRandomMessage\",\"var(--ch-5)\"],[\"()\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"Suspense\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\"],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\n\\nconst Message = (props: { message: string }) =\u003e {\\n  const message = props.message;\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e{message}\u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\",\"code\":\"import { Tent } from 'lucide-react'\\n\\nconst Message = (props: { message: string }) =\u003e {\\n  const message = props.message;\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e{message}\u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ Tent }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'lucide-react'\",\"var(--ch-8)\"],\"\\n\\n\",[\"const\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-5)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],[\"props\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\" \",[\"message\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"string\",\"var(--ch-2)\"],\" \",[\"})\",\"var(--ch-4)\"],\" \",[\"=\u003e\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"message\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"props.message;\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex border border-gray-200 p-4 rounded items-start'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Tent\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex-1 ml-3'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003eReact introduction\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'text-sm leading-6 mt-2 text-gray-600'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],[\"{\",\"var(--ch-7)\"],[\"message\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\\n\",[\"export default\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"]],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"17:[\"$\",\"div\",null,{\"className\":\"code-tabs border rounded border-gray-200 overflow-hidden my-5\",\"children\":[\"$\",\"$L27\",null,{\"children\":[[\"$\",\"$L28\",null,{\"tabs\":[{\"meta\":\"index.tsx -c\",\"value\":\"import { Suspense } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"lang\":\"tsx\"},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  // !mark\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\"},{\"meta\":\"api.ts -c\",\"value\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"lang\":\"tsx\"}]}],[\"$\",\"$L29\",null,{\"highlighteds\":[{\"meta\":\"index.tsx -c\",\"value\":\"import { Suspense } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"lang\":\"tsx\",\"code\":\"import { Suspense } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Page() {\\n  const promise = getMessage()\\n  return (\\n    \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\\n      \u003cMessage promise={promise} /\u003e\\n    \u003c/Suspense\u003e\\n  )\\n}\\n\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ Suspense }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Skeleton\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'components/ui/skeleton'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./message'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ getMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./api'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export default function\",\"var(--ch-7)\"],\" \",[\"Page\",\"var(--ch-5)\"],[\"()\",\"var(--ch-3)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"promise\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"getMessage\",\"var(--ch-5)\"],[\"()\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"Suspense\",\"var(--ch-6)\"],\" \",[\"fallback\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"\u003c\",\"var(--ch-4)\"],[\"Skeleton\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Message\",\"var(--ch-6)\"],\" \",[\"promise\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"promise\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"Suspense\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\"],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  // !mark\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\",\"code\":\"import { Tent } from 'lucide-react'\\nimport { use } from 'react'\\nimport { getMessage } from './api'\\n\\nconst Message = (props: { promise: ReturnType\u003ctypeof getMessage\u003e }) =\u003e {\\n  const message = use(props.promise);\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e\\n          {message.value}\\n        \u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ Tent }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'lucide-react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ use }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ getMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./api'\",\"var(--ch-8)\"],\"\\n\\n\",[\"const\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-5)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],[\"props\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\" \",[\"promise\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"ReturnType\",\"var(--ch-3)\"],[\"\u003c\",\"var(--ch-4)\"],[\"typeof\",\"var(--ch-7)\"],\" \",[\"getMessage\u003e })\",\"var(--ch-4)\"],\" \",[\"=\u003e\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"message\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"use\",\"var(--ch-5)\"],[\"(props.promise);\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex border border-gray-200 p-4 rounded items-start'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Tent\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex-1 ml-3'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003eReact introduction\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'text-sm leading-6 mt-2 text-gray-600'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n          \",[\"{\",\"var(--ch-7)\"],[\"message.value\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],\"\\n        \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\\n\",[\"export default\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"]],\"annotations\":[{\"name\":\"mark\",\"query\":\"\",\"fromLineNumber\":6,\"toLineNumber\":6}],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"api.ts -c\",\"value\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"lang\":\"tsx\",\"code\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ createRandomMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'@/utils'\",\"var(--ch-8)\"],[\";\",\"var(--ch-4)\"],\"\\n\\n\",[\"var\",\"var(--ch-7)\"],\" \",[\"requestOptions\",\"var(--ch-4)\"],[\":\",\"var(--ch-7)\"],\" \",[\"RequestInit\",\"var(--ch-3)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"method:\",\"var(--ch-4)\"],\" \",[\"'GET'\",\"var(--ch-8)\"],[\",\",\"var(--ch-4)\"],\"\\n  \",[\"redirect:\",\"var(--ch-4)\"],\" \",[\"'follow'\",\"var(--ch-8)\"],\"\\n\",[\"};\",\"var(--ch-4)\"],\"\\n\\n\",[\"const\",\"var(--ch-7)\"],\" \",[\"url\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export async function\",\"var(--ch-7)\"],\" \",[\"getMessage\",\"var(--ch-5)\"],[\"() {\",\"var(--ch-4)\"],\"\\n  \",[\"await\",\"var(--ch-7)\"],\" \",[\"fetch\",\"var(--ch-5)\"],[\"(url, requestOptions)\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"{ value:\",\"var(--ch-4)\"],\" \",[\"createRandomMessage\",\"var(--ch-5)\"],[\"()}\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"]],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"19:[\"$\",\"div\",null,{\"className\":\"code-tabs border rounded border-gray-200 overflow-hidden my-5\",\"children\":[\"$\",\"$L27\",null,{\"children\":[[\"$\",\"$L28\",null,{\"tabs\":[{\"meta\":\"index.tsx -c\",\"value\":\"import React, { useEffect, useState } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Demo04() {\\n  const [content, update] = useState({ value: '' })\\n  const [loading, setLoading] = useState(true)\\n\\n  useEffect(() =\u003e {\\n    getMessage().then(res =\u003e {\\n      update(res)\\n      setLoading(false)\\n    })\\n  }, []);\\n\\n  if (loading) {\\n    return \u003cSkeleton /\u003e\\n  }\\n\\n  return \u003cMessage message={content.value} /\u003e\\n}\\n\",\"lang\":\"tsx\"},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\n\\nconst Message = (props: { message: string }) =\u003e {\\n  const message = props.message;\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e{message}\u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\"},{\"meta\":\"api.ts -c\",\"value\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"lang\":\"tsx\"}]}],[\"$\",\"$L29\",null,{\"highlighteds\":[{\"meta\":\"index.tsx -c\",\"value\":\"import React, { useEffect, useState } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Demo04() {\\n  const [content, update] = useState({ value: '' })\\n  const [loading, setLoading] = useState(true)\\n\\n  useEffect(() =\u003e {\\n    getMessage().then(res =\u003e {\\n      update(res)\\n      setLoading(false)\\n    })\\n  }, []);\\n\\n  if (loading) {\\n    return \u003cSkeleton /\u003e\\n  }\\n\\n  return \u003cMessage message={content.value} /\u003e\\n}\\n\",\"lang\":\"tsx\",\"code\":\"import React, { useEffect, useState } from 'react'\\nimport Skeleton from 'components/ui/skeleton'\\nimport Message from './message'\\nimport { getMessage } from './api'\\n\\nexport default function Demo04() {\\n  const [content, update] = useState({ value: '' })\\n  const [loading, setLoading] = useState(true)\\n\\n  useEffect(() =\u003e {\\n    getMessage().then(res =\u003e {\\n      update(res)\\n      setLoading(false)\\n    })\\n  }, []);\\n\\n  if (loading) {\\n    return \u003cSkeleton /\u003e\\n  }\\n\\n  return \u003cMessage message={content.value} /\u003e\\n}\\n\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"React, { useEffect, useState }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'react'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Skeleton\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'components/ui/skeleton'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./message'\",\"var(--ch-8)\"],\"\\n\",[\"import\",\"var(--ch-7)\"],\" \",[\"{ getMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'./api'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export default function\",\"var(--ch-7)\"],\" \",[\"Demo04\",\"var(--ch-5)\"],[\"()\",\"var(--ch-3)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"[\",\"var(--ch-4)\"],[\"content\",\"var(--ch-2)\"],[\",\",\"var(--ch-4)\"],\" \",[\"update\",\"var(--ch-2)\"],[\"]\",\"var(--ch-4)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"useState\",\"var(--ch-5)\"],[\"({ value:\",\"var(--ch-4)\"],\" \",[\"''\",\"var(--ch-8)\"],\" \",[\"})\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"[\",\"var(--ch-4)\"],[\"loading\",\"var(--ch-2)\"],[\",\",\"var(--ch-4)\"],\" \",[\"setLoading\",\"var(--ch-2)\"],[\"]\",\"var(--ch-4)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"useState\",\"var(--ch-5)\"],[\"(\",\"var(--ch-4)\"],[\"true\",\"var(--ch-2)\"],[\")\",\"var(--ch-4)\"],\"\\n\\n  \",[\"useEffect\",\"var(--ch-5)\"],[\"(()\",\"var(--ch-4)\"],\" \",[\"=\u003e\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n    \",[\"getMessage\",\"var(--ch-5)\"],[\"().\",\"var(--ch-4)\"],[\"then\",\"var(--ch-5)\"],[\"(\",\"var(--ch-4)\"],[\"res\",\"var(--ch-3)\"],\" \",[\"=\u003e\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n      \",[\"update\",\"var(--ch-5)\"],[\"(res)\",\"var(--ch-4)\"],\"\\n      \",[\"setLoading\",\"var(--ch-5)\"],[\"(\",\"var(--ch-4)\"],[\"false\",\"var(--ch-2)\"],[\")\",\"var(--ch-4)\"],\"\\n    \",[\"})\",\"var(--ch-4)\"],\"\\n  \",[\"}, []);\",\"var(--ch-4)\"],\"\\n\\n  \",[\"if\",\"var(--ch-7)\"],\" \",[\"(loading) {\",\"var(--ch-4)\"],\"\\n    \",[\"return\",\"var(--ch-7)\"],\" \",[\"\u003c\",\"var(--ch-4)\"],[\"Skeleton\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n  \",[\"}\",\"var(--ch-4)\"],\"\\n\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"\u003c\",\"var(--ch-4)\"],[\"Message\",\"var(--ch-6)\"],\" \",[\"message\",\"var(--ch-2)\"],[\"={\",\"var(--ch-7)\"],[\"content.value\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\"],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"message.tsx -c\",\"value\":\"import { Tent } from 'lucide-react'\\n\\nconst Message = (props: { message: string }) =\u003e {\\n  const message = props.message;\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e{message}\u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"lang\":\"tsx\",\"code\":\"import { Tent } from 'lucide-react'\\n\\nconst Message = (props: { message: string }) =\u003e {\\n  const message = props.message;\\n  return (\\n    \u003cdiv className='flex border border-gray-200 p-4 rounded items-start'\u003e\\n      \u003cTent /\u003e\\n      \u003cdiv className='flex-1 ml-3'\u003e\\n        \u003cdiv\u003eReact introduction\u003c/div\u003e\\n        \u003cdiv className='text-sm leading-6 mt-2 text-gray-600'\u003e{message}\u003c/div\u003e\\n      \u003c/div\u003e\\n    \u003c/div\u003e\\n  )\\n}\\n\\nexport default Message\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ Tent }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'lucide-react'\",\"var(--ch-8)\"],\"\\n\\n\",[\"const\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-5)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],[\"props\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\" \",[\"message\",\"var(--ch-3)\"],[\":\",\"var(--ch-7)\"],\" \",[\"string\",\"var(--ch-2)\"],\" \",[\"})\",\"var(--ch-4)\"],\" \",[\"=\u003e\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"const\",\"var(--ch-7)\"],\" \",[\"message\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"props.message;\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"(\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex border border-gray-200 p-4 rounded items-start'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"Tent\",\"var(--ch-6)\"],\" \",[\"/\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'flex-1 ml-3'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003eReact introduction\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n        \",[\"\u003c\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],\" \",[\"className\",\"var(--ch-2)\"],[\"=\",\"var(--ch-7)\"],[\"'text-sm leading-6 mt-2 text-gray-600'\",\"var(--ch-8)\"],[\"\u003e\",\"var(--ch-4)\"],[\"{\",\"var(--ch-7)\"],[\"message\",\"var(--ch-4)\"],[\"}\",\"var(--ch-7)\"],[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n      \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n    \",[\"\u003c/\",\"var(--ch-4)\"],[\"div\",\"var(--ch-6)\"],[\"\u003e\",\"var(--ch-4)\"],\"\\n  \",[\")\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"],\"\\n\\n\",[\"export default\",\"var(--ch-7)\"],\" \",[\"Message\",\"var(--ch-4)\"]],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}},{\"meta\":\"api.ts -c\",\"value\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"lang\":\"tsx\",\"code\":\"import { createRandomMessage } from '@/utils';\\n\\nvar requestOptions: RequestInit = {\\n  method: 'GET',\\n  redirect: 'follow'\\n};\\n\\nconst url = 'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\\n\\nexport async function getMessage() {\\n  await fetch(url, requestOptions)\\n  return { value: createRandomMessage()}\\n}\",\"tokens\":[[\"import\",\"var(--ch-7)\"],\" \",[\"{ createRandomMessage }\",\"var(--ch-4)\"],\" \",[\"from\",\"var(--ch-7)\"],\" \",[\"'@/utils'\",\"var(--ch-8)\"],[\";\",\"var(--ch-4)\"],\"\\n\\n\",[\"var\",\"var(--ch-7)\"],\" \",[\"requestOptions\",\"var(--ch-4)\"],[\":\",\"var(--ch-7)\"],\" \",[\"RequestInit\",\"var(--ch-3)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"{\",\"var(--ch-4)\"],\"\\n  \",[\"method:\",\"var(--ch-4)\"],\" \",[\"'GET'\",\"var(--ch-8)\"],[\",\",\"var(--ch-4)\"],\"\\n  \",[\"redirect:\",\"var(--ch-4)\"],\" \",[\"'follow'\",\"var(--ch-8)\"],\"\\n\",[\"};\",\"var(--ch-4)\"],\"\\n\\n\",[\"const\",\"var(--ch-7)\"],\" \",[\"url\",\"var(--ch-2)\"],\" \",[\"=\",\"var(--ch-7)\"],\" \",[\"'https://randomuser.me/api/?results=2\u0026inc=name,gender,email,nat,picture\u0026noinfo'\",\"var(--ch-8)\"],\"\\n\\n\",[\"export async function\",\"var(--ch-7)\"],\" \",[\"getMessage\",\"var(--ch-5)\"],[\"() {\",\"var(--ch-4)\"],\"\\n  \",[\"await\",\"var(--ch-7)\"],\" \",[\"fetch\",\"var(--ch-5)\"],[\"(url, requestOptions)\",\"var(--ch-4)\"],\"\\n  \",[\"return\",\"var(--ch-7)\"],\" \",[\"{ value:\",\"var(--ch-4)\"],\" \",[\"createRandomMessage\",\"var(--ch-5)\"],[\"()}\",\"var(--ch-4)\"],\"\\n\",[\"}\",\"var(--ch-4)\"]],\"annotations\":[],\"themeName\":\"github-from-css\",\"style\":{\"color\":\"var(--ch-4)\",\"background\":\"var(--ch-16)\",\"colorScheme\":\"var(--ch-0)\"}}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"21:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n1f:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"usehook - 前端顶级精英俱乐部\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"最好的前端学习网站, react, react19, react hooks, zustand\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"这波能反杀\"}],[\"$\",\"meta\",\"4\",{\"name\":\"keywords\",\"content\":\"react, react19, react hooks, zustand\"}],[\"$\",\"link\",\"5\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"1d:null\n"])</script></body></html>