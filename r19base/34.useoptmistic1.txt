1:"$Sreact.fragment"
2:I[51790,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","7177","static/chunks/app/layout-42df43a67d50e5c7.js"],"default"]
3:I[73974,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","7177","static/chunks/app/layout-42df43a67d50e5c7.js"],"default"]
4:I[15244,[],""]
5:I[43866,[],""]
6:I[14547,[],"ClientSegmentRoot"]
7:I[34489,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","8083","static/chunks/app/r19base/layout-10c3c068f295bb96.js"],"default"]
9:I[98087,["8150","static/chunks/7cfd557f-0718c923d48595ad.js","7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","8173","static/chunks/8173-1aab990e083a60ce.js","3152","static/chunks/3152-e813ba8dd61cd947.js","8993","static/chunks/8993-c43ac361585ffaa4.js","4614","static/chunks/app/r19base/(5.formaction)/34.useoptmistic1/layout-45299650c8489370.js"],"default"]
a:I[86958,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","7429","static/chunks/app/r19base/(5.formaction)/34.useoptmistic1/page-e2470b4c0404a93f.js"],"default"]
19:I[99577,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","7429","static/chunks/app/r19base/(5.formaction)/34.useoptmistic1/page-e2470b4c0404a93f.js"],"default"]
1a:I[86213,[],"OutletBoundary"]
1c:I[86213,[],"MetadataBoundary"]
1e:I[86213,[],"ViewportBoundary"]
20:I[34835,[],""]
:HL["/_next/static/media/569ce4b8f30dc480-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/93f479601ee12b01-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/d498c84e4ab246b3.css","style"]
:HL["/_next/static/css/3b8b4919706de55d.css","style"]
:HL["/_next/static/css/738174a5e4c964fb.css","style"]
:HL["/_next/static/css/1823fcda9d6f3fc8.css","style"]
:HL["/_next/static/css/0b88b513390d781e.css","style"]
0:{"P":null,"b":"Ka-e-2FOtwj7xJufzArUu","p":"","c":["","r19base","34.useoptmistic1"],"i":false,"f":[[["",{"children":["r19base",{"children":["(5.formaction)",{"children":["34.useoptmistic1",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d498c84e4ab246b3.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/3b8b4919706de55d.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/738174a5e4c964fb.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","3",{"rel":"stylesheet","href":"/_next/static/css/1823fcda9d6f3fc8.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"zh","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","meta",null,{"charSet":"UTF-8"}],["$","link",null,{"href":"https://framerusercontent.com/images/YRd2KCq4G2aXNg15aHvl7AtcGQ.png","rel":"icon","media":"(prefers-color-scheme: light)"}],["$","link",null,{"rel":"stylesheet","href":"https://rsms.me/inter/inter.css"}],["$","link",null,{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css","integrity":"sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV","crossOrigin":"anonymous"}],["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1.0 maximum-scale=1, user-scalable=no"}],["$","meta",null,{"name":"mobile-web-app-capable","content":"yes"}],["$","meta",null,{"name":"apple-mobile-web-app-status-bar-style","content":"black-translucent"}]]}],["$","body",null,{"className":"__variable_4d318d __variable_ea5f4b antialiased","children":["$","$L2",null,{"children":[["$","$L3",null,{}],["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}]}]]}]]}],{"children":["r19base",["$","$1","c",{"children":[null,["$","$L6",null,{"Component":"$7","slots":{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","r19base","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@8"}]]}],{"children":["(5.formaction)",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","r19base","children","(5.formaction)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["34.useoptmistic1",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/0b88b513390d781e.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L9",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","r19base","children","(5.formaction)","children","34.useoptmistic1","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[[["$","$La",null,{}],"\n",["$","h3",null,{"id":"1useoptimistic","children":["1、",["$","strong",null,{"children":"useOptimistic"}]]}],"\n",["$","p",null,{"children":["如果你在之前的项目开发过程中，被乐观更新的需求折磨过，那么你一定会喜欢这个新 hook：",["$","code",null,{"children":"useOptimistic"}],"。它让原本实现起来比较困难的乐观更新，变得非常简单。"]}],"\n",["$","p",null,{"children":"通常是指在提交数据时，乐观估计请求结果，不等待真实的请求结果，而直接基于乐观结果修改页面状态的交互方式。例如，我们在聊天软件中，发送一条消息时，当我们点击发送之后，消息就会立即出现在聊天界面。而不会等待发送成功之后再更新页面 UI"}],"\n",["$","p",null,{"children":"普通的逻辑为"}],"\n","$Lb","\n",["$","p",null,{"children":"乐观更新的执行过程为"}],"\n","$Lc","\n",["$","p",null,{"children":"乐观更新在合适的场景之下，能够更加快速的响应用户交互，在体验上更好一些，因此这是许多项目都想要追求的交互结果。"}],"\n",["$","h3",null,{"id":"2适用场景","children":"2、适用场景"}],"\n",["$","p",null,{"children":"并不是所有的操作都适合乐观更新，这需要一些明确的前提条件"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"1、请求成功的概率非常大，几乎不会失败"}],"\n",["$","li",null,{"children":"2、不涉及到频繁的，密集的 UI 变化"}],"\n",["$","li",null,{"children":"3、可撤回的 UI 变化"}],"\n",["$","li",null,{"children":"4、与服务端的反馈时间短，不是一个长期的持续的响应过程"}],"\n"]}],"\n",["$","p",null,{"children":"例如，在聊天软件中，发送一条消息，在阅读文章时，点赞收藏按钮的交互，给文章发送一条评论，删除一条评论等都非常适合乐观更新。"}],"\n",["$","h3",null,{"id":"3实现乐观更新需要具备的技术条件","children":"3、实现乐观更新需要具备的技术条件"}],"\n",["$","p",null,{"children":["由于乐观更新是一种在",["$","strong",null,{"children":"低概率"}],"的情况下，需要撤回更新状态的交互机制，因此，我们在第一时间更新到最新状态时，需要保留上一次的更新状态以便撤回。"]}],"\n",["$","p",null,{"children":["这样的场景与 ",["$","code",null,{"children":"redux/useReducer"}]," 需要的技术架构非常类似。因此，每一次的更新我们都可以将其设计为一次 action，通过 reducer 的方式将其合并到完整数据中去"]}],"\n","$Ld","\n","$Le","\n",["$","p",null,{"children":"如果保留了上一次的更新状态，我们也可以非常方便的还原数据。"}],"\n",["$","p",null,{"children":["除此之外，乐观更新的数据结构是我们在客户端根据预估情况生成的，因此不能直接存储在服务端，有的数据需要按照服务端的逻辑来创建，例如一条数据包含了 ",["$","code",null,{"children":"id"}],"，那么我们就不能按照客户端的逻辑来创建 id，这个时候，需要我们",["$","strong",null,{"children":"在接口请求成功之后，完整的完成一次数据的替换"}],"。"]}],"\n",["$","p",null,{"children":"最后，还有一个非常重要的问题。那就是更新快速重复的发生时如何处理。这是乐观更新最考验开发者技术能力的地方。"}],"\n",["$","p",null,{"children":"当第一次请求还没结束的时候，但是此时当乐观更新重复发生，就会引发一系列不合理的问题。因此，什么时候将 action 合并到真实数据中去，就需要反正斟酌。"}],"\n",["$","p",null,{"children":"这里不仅要考虑更新失败时我们应该如何处理，更需要考虑竞态的顺序问题，我们必须以 action 创建的顺序将 action 合并到数据中。"}],"\n",["$","p",null,{"children":"在保证顺序的这个基础之上，我们还需要考虑前面如果某个 action 迟迟得不到响应，会阻塞后面 action 的合并。因此，我们还需要设计一个合理的超时机制。"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"所以，如果我们自己来设计一套完善的乐观更新机制，对开发者开发能力的要求非常高，我们可以将其作为项目亮点在面试中去介绍"}],"\n"]}],"\n",["$","p",null,{"children":"因此，显而易见的是，基于并发模式的 React，解决乐观更新这类交互问题非常的适合，接下来我们就一起来学习一下 React 19 中，针对乐观更新提出来的解决方案"}],"\n",["$","h3",null,{"id":"4react-19-是如何实现乐观更新的","children":"4、React 19 是如何实现乐观更新的"}],"\n",["$","p",null,{"children":"React 19 针对乐观更新，提出了一个新的 hook，useOptimistic"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"注意，乐观更新完整的技术实现一定要结合我们刚才所提到的技术基础来理解，单独只学习一个 hook，无法构成乐观更新的完整方案"}],"\n"]}],"\n",["$","p",null,{"children":"它的基础语法如下"}],"\n","$Lf","\n",["$","p",null,{"children":["注意看，useOptimistic 接收两个参数，其实这两个参数与 ",["$","code",null,{"children":"reducer"}]," 的参数非常相似。"]}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"state"}]," 表示当前状态，",["$","code",null,{"children":"updateFn"}]," 表示我们如何将新的 action 合并到 ",["$","code",null,{"children":"state"}]," 中去"]}],"\n","$L10","\n",["$","p",null,{"children":[["$","strong",null,{"children":"optimisticState"}]," 表示合并之后的新状态。但是这里我们需要特别注意的是，它是一个临时状态，并非最终状态。通常情况下，我们会使用该临时状态渲染 UI，以便 UI 能够得到最快速的响应。"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"addOptimistic"}]," 是一次操作行为，类似于 dispatch，它会将参数传递给 ",["$","code",null,{"children":"updateFn"}]]}],"\n","$L11","\n",["$","p",null,{"children":"因此，在使用 useOptimistic 之前，我们还需要借助 useState 创造一个状态，该状态为更新的真实状态。我们通过 useOptimistic 得到的状态是一个副本，它通过 useState 的状态来初始化，在接口请求成功之后，真实状态才会得到更新。"}],"\n",["$","p",null,{"children":"接下来，我们来实现一个简单的案例。"}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"id":"5案例消息发送","children":"5、案例：消息发送"}],"\n",["$","p",null,{"children":"直接来看一下目标案例"}],"\n",["$","$La",null,{}],"\n","$L12","\n",["$","p",null,{"children":["消息发送是一个异步过程，因此我们把这个过程使用 ",["$","code",null,{"children":"Sending..."}]," 字符来表示，当每条消息的 ",["$","code",null,{"children":"Sending..."}]," 消失，才表示数据更新成功。"]}],"\n",["$","p",null,{"children":"先来考虑布局。"}],"\n",["$","p",null,{"children":"首先我们需要一个 form 表单来处理输入的交互"}],"\n","$L13","\n",["$","p",null,{"children":["然后我们需要一个列表来渲染输出之后的结果。根据我们之前的学习结果，该列表需要用 ",["$","code",null,{"children":"useOptimistic"}]," 返回的临时状态来处理，这样我们才能够第一时间在 UI 上看到反馈结果"]}],"\n","$L14","\n",["$","p",null,{"children":"再来思考状态如何设计。"}],"\n",["$","p",null,{"children":"首先我们需要使用 useState 来设计一个状态，用于存储真实的状态结果"}],"\n","$L15","\n",["$","p",null,{"children":["然后我们需要使用 ",["$","code",null,{"children":"useOptimistic"}]," 来设计临时状态，这里需要注意的是，我们可以把它当成一个 reducer 来看待，第一个参数表示当前状态，第二参数表示一个合并方式"]}],"\n","$L16","\n",["$","p",null,{"children":["临时状态中包含一个 ",["$","code",null,{"children":"sending: true"}],"，用于标识当前请求正在发生。"]}],"\n",["$","p",null,{"children":["在 ",["$","code",null,{"children":"formAction"}]," 回调函数中，我们会调用 ",["$","code",null,{"children":"addOptimisticMessage"}]," 立即更新临时状态，并发送请求，我们提前把发送请求的接口写好"]}],"\n","$L17","\n",["$","p",null,{"children":["那么，",["$","code",null,{"children":"formAction"}]," 的完整逻辑为"]}],"\n","$L18","\n",["$","p",null,{"children":"这样，一个简单的乐观更新交互，我们就完成了"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"reset() 用于立即重置表单内容，可进行下一次输入。默认行为是接口请求成功之后才会重置"}],"\n"]}],"\n",["$","h3",null,{"id":"6问题","children":"6、问题"}],"\n",["$","p",null,{"children":["尝试一下快速连续输入内容并 ",["$","code",null,{"children":"Send"}],"，我们会发现，最终的效果并非我们所愿，此时会有多条内容同时正在 ",["$","code",null,{"children":"Sending"}],"，但是最终请求成功之后，这些同时的 ",["$","code",null,{"children":"Sending"}]," 内容仅有一条信息被合并到最终结果中，其他的内容会消失。那么在此基础之上，我们需要如何来解决这个问题呢？下一章我们继续学习。"]}],"\n",["$","$L19",null,{}]],null,["$","$L1a",null,{"children":"$L1b"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","nytSn5RPYAOtPnXM-ZSQO",{"children":[["$","$L1c",null,{"children":"$L1d"}],["$","$L1e",null,{"children":"$L1f"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]]}],false]],"m":"$undefined","G":["$20","$undefined"],"s":false,"S":true}
8:{}
21:I[86531,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","7429","static/chunks/app/r19base/(5.formaction)/34.useoptmistic1/page-e2470b4c0404a93f.js"],"CopyButton"]
b:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base shellscript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"shellscript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-3)"},"children":"1、事件触发"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-3)"},"children":"2、发起请求，等待请求成功"}]," ",["$","span","2",{"style":{"color":"var(--ch-8)"},"children":"Loading"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-3)"},"children":"3、请求成功"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-3)"},"children":"4、更新"}]," ",["$","span","2",{"style":{"color":"var(--ch-8)"},"children":"UI 为正确结果"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
c:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base shellscript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"shellscript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-3)"},"children":"1、事件触发"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"-"}],["$","span","3",{"style":{"color":"var(--ch-7)"},"children":">"}]," ",["$","span","5",{"style":{"color":"var(--ch-8)"},"children":"直接更新 UI"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-3)"},"children":"2、更新"}]," ",["$","span","2",{"style":{"color":"var(--ch-8)"},"children":"UI 的同时发起请求 Loading"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-3)"},"children":"3、请求成功"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"-"}],["$","span","3",{"style":{"color":"var(--ch-7)"},"children":">"}]," ",["$","span","5",{"style":{"color":"var(--ch-8)"},"children":"保持UI 不变"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-3)"},"children":"4、若请求失败"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"-"}],["$","span","3",{"style":{"color":"var(--ch-7)"},"children":">"}]," ",["$","span","5",{"style":{"color":"var(--ch-8)"},"children":"则回退 UI"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
d:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base javascript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"javascript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"interface"}]," ",["$","span","2",{"style":{"color":"var(--ch-3)"},"children":"Action"}]," ",["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"{"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-1)"},"children":"// 操作方式"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-3)"},"children":"type"}],["$","span","2",{"style":{"color":"var(--ch-7)"},"children":":"}]," ",["$","span","4",{"style":{"color":"var(--ch-2)"},"children":"string"}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":","}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-1)"},"children":"// 乐观更新的数据结构"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-3)"},"children":"state"}],["$","span","2",{"style":{"color":"var(--ch-7)"},"children":":"}]," ",["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"{"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","6,6",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[6,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-3)"},"children":"id"}],["$","span","2",{"style":{"color":"var(--ch-7)"},"children":":"}]," ",["$","span","4",{"style":{"color":"var(--ch-8)"},"children":"'xxx'"}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":","}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","7,7",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[7,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-3)"},"children":"text"}],["$","span","2",{"style":{"color":"var(--ch-7)"},"children":":"}]," ",["$","span","4",{"style":{"color":"var(--ch-8)"},"children":"'xxx'"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","8,8",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[8,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"}"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","9,9",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[9,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
e:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base javascript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"javascript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-1)"},"children":"// 假设 state 是一个列表"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-5)"},"children":"reducer"}],["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"(state, action) {"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"return"}]," ",["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"["}],["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"..."}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":"state, action.state]"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
f:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":14,"height":14,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-terminal","children":[["$","polyline","akl6gq",{"points":"4 17 10 11 4 5"}],["$","line","q2wloq",{"x1":"12","x2":"20","y1":"19","y2":"19"}],"$undefined"]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"const"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"["}],["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"optimisticState"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":","}]," ",["$","span","6",{"style":{"color":"var(--ch-2)"},"children":"addOptimistic"}],["$","span","7",{"style":{"color":"var(--ch-4)"},"children":"]"}]," ",["$","span","9",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","11",{"style":{"color":"var(--ch-5)"},"children":"useOptimistic"}],["$","span","12",{"style":{"color":"var(--ch-4)"},"children":"(state, updateFn);"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
10:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-5)"},"children":"updateFn"}]," ",["$","span","2",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","5",{"style":{"color":"var(--ch-3)"},"children":"currentState"}],["$","span","6",{"style":{"color":"var(--ch-4)"},"children":","}]," ",["$","span","8",{"style":{"color":"var(--ch-3)"},"children":"value"}],["$","span","9",{"style":{"color":"var(--ch-4)"},"children":")"}]," ",["$","span","11",{"style":{"color":"var(--ch-7)"},"children":"=>"}]," ",["$","span","13",{"style":{"color":"var(--ch-4)"},"children":"{"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-1)"},"children":"// 根据上一次状态与新的 value 合并"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-1)"},"children":"// merge and return new state"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
11:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-5)"},"children":"addOptimistic"}],["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"({a:"}]," ",["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"1"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"})"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"->"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-1)"},"children":"// 此时 value = {a: 1}"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","6,6",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[6,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-5)"},"children":"updateFn"}]," ",["$","span","2",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","5",{"style":{"color":"var(--ch-3)"},"children":"currentState"}],["$","span","6",{"style":{"color":"var(--ch-4)"},"children":","}]," ",["$","span","8",{"style":{"color":"var(--ch-3)"},"children":"value"}],["$","span","9",{"style":{"color":"var(--ch-4)"},"children":")"}]," ",["$","span","11",{"style":{"color":"var(--ch-7)"},"children":"=>"}]," ",["$","span","13",{"style":{"color":"var(--ch-4)"},"children":"{"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","7,7",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[7,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"return"}]," ",["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"["}],["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"..."}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":"currentState, value]"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","8,8",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[8,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
14:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base jsx","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"jsx","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"{optimisticMessages."}],["$","span","1",{"style":{"color":"var(--ch-5)"},"children":"map"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"(("}],["$","span","3",{"style":{"color":"var(--ch-3)"},"children":"message"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":")"}]," ",["$","span","6",{"style":{"color":"var(--ch-7)"},"children":"=>"}]," ",["$","span","8",{"style":{"color":"var(--ch-4)"},"children":"("}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--ch-6)"},"children":"div"}]," ",["$","span","4",{"style":{"color":"var(--ch-2)"},"children":"key"}],["$","span","5",{"style":{"color":"var(--ch-7)"},"children":"={"}],["$","span","6",{"style":{"color":"var(--ch-4)"},"children":"message.id"}],["$","span","7",{"style":{"color":"var(--ch-7)"},"children":"}"}]," ",["$","span","9",{"style":{"color":"var(--ch-2)"},"children":"className"}],["$","span","10",{"style":{"color":"var(--ch-7)"},"children":"="}],["$","span","11",{"style":{"color":"var(--ch-8)"},"children":"'indent-1 text-slate-600 mt-1 hover:bg-slate-100 p-2 cursor-pointer rounded'"}],["$","span","12",{"style":{"color":"var(--ch-4)"},"children":">"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"{"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"message.value"}],["$","span","3",{"style":{"color":"var(--ch-7)"},"children":"} {!!"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"message.sending"}]," ",["$","span","6",{"style":{"color":"var(--ch-7)"},"children":"&&"}]," ",["$","span","8",{"style":{"color":"var(--ch-4)"},"children":"<"}],["$","span","9",{"style":{"color":"var(--ch-6)"},"children":"small"}],["$","span","10",{"style":{"color":"var(--ch-4)"},"children":"> (Sending...)</"}],["$","span","11",{"style":{"color":"var(--ch-6)"},"children":"small"}],["$","span","12",{"style":{"color":"var(--ch-4)"},"children":">"}],["$","span","13",{"style":{"color":"var(--ch-7)"},"children":"}"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"</"}],["$","span","2",{"style":{"color":"var(--ch-6)"},"children":"div"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":">"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"))}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
15:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base javascript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"javascript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":14,"height":14,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-terminal","children":[["$","polyline","akl6gq",{"points":"4 17 10 11 4 5"}],["$","line","q2wloq",{"x1":"12","x2":"20","y1":"19","y2":"19"}],"$undefined"]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"const"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"["}],["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"messages"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":","}]," ",["$","span","6",{"style":{"color":"var(--ch-2)"},"children":"setMessages"}],["$","span","7",{"style":{"color":"var(--ch-4)"},"children":"]"}]," ",["$","span","9",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","11",{"style":{"color":"var(--ch-5)"},"children":"useState"}],["$","span","12",{"style":{"color":"var(--ch-4)"},"children":"([]);"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
16:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base javascript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"javascript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"const"}]," ",["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"["}],["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"optimisticMessages"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":","}]," ",["$","span","6",{"style":{"color":"var(--ch-2)"},"children":"addOptimisticMessage"}],["$","span","7",{"style":{"color":"var(--ch-4)"},"children":"]"}]," ",["$","span","9",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","11",{"style":{"color":"var(--ch-5)"},"children":"useOptimistic"}],["$","span","12",{"style":{"color":"var(--ch-4)"},"children":"("}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"messages,"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","2",{"style":{"color":"var(--ch-3)"},"children":"state"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":","}]," ",["$","span","5",{"style":{"color":"var(--ch-3)"},"children":"newMessage"}],["$","span","6",{"style":{"color":"var(--ch-4)"},"children":")"}]," ",["$","span","8",{"style":{"color":"var(--ch-7)"},"children":"=>"}]," ",["$","span","10",{"style":{"color":"var(--ch-4)"},"children":"["}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"..."}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"state,"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"{"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","6,6",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[6,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["      ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"value: newMessage,"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","7,7",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[7,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["      ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"sending:"}]," ",["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"true"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","8,8",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[8,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"}"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","9,9",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[9,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"]"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","10,10",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[10,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":");"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
17:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[["$","div",null,{"className":"code-header px-2 py-2 text-sm border-b border-gray-200 bg-gray-50","children":["$","div",null,{"className":"flex items-center gap-1 relative z-10","children":[["$","span",null,{"dangerouslySetInnerHTML":{"__html":"<svg fill='#498ba7' height='20' viewBox=\"0 0 32 32\"><path d=\"M15.6 11.8h-3.4V22H9.7V11.8H6.3V10h9.2v1.8zm7.7 7.1c0-.5-.2-.8-.5-1.1-.3-.3-.9-.5-1.7-.8-1.4-.4-2.5-.9-3.3-1.5-.7-.6-1.1-1.3-1.1-2.3 0-1 .4-1.8 1.3-2.4.8-.6 1.9-.9 3.2-.9 1.3 0 2.4.4 3.2 1.1.8.7 1.2 1.6 1.2 2.6h-2.3c0-.6-.2-1-.6-1.4-.4-.3-.9-.5-1.6-.5-.6 0-1.1.1-1.5.4-.4.3-.5.7-.5 1.1 0 .4.2.7.6 1 .4.3 1 .5 2 .8 1.3.4 2.3.9 3 1.5.7.6 1 1.4 1 2.4s-.4 1.9-1.2 2.4c-.8.6-1.9.9-3.2.9-1.3 0-2.5-.3-3.4-1s-1.5-1.6-1.4-2.9h2.4c0 .7.2 1.2.7 1.6.4.3 1.1.5 1.8.5s1.2-.1 1.5-.4c.2-.3.4-.7.4-1.1z\"/></svg>"}}],["$","span",null,{"children":"api.ts"}]]}]}],["$","div",null,{"className":"code-base typescript","children":[["$","$L21",null,{"text":"export async function getMessage(msg: string) {\n  await fetch(url, requestOptions)\n  return { value: msg, id: uuid()}\n}"}],["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"export async function"}]," ",["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"getMessage"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","4",{"style":{"color":"var(--ch-3)"},"children":"msg"}],["$","span","5",{"style":{"color":"var(--ch-7)"},"children":":"}]," ",["$","span","7",{"style":{"color":"var(--ch-2)"},"children":"string"}],["$","span","8",{"style":{"color":"var(--ch-4)"},"children":") {"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"await"}]," ",["$","span","3",{"style":{"color":"var(--ch-5)"},"children":"fetch"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"(url, requestOptions)"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"return"}]," ",["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"{ value: msg, id:"}]," ",["$","span","5",{"style":{"color":"var(--ch-5)"},"children":"uuid"}],["$","span","6",{"style":{"color":"var(--ch-4)"},"children":"()}"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
18:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base javascript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"javascript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"async function"}]," ",["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"formAction"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","4",{"style":{"color":"var(--ch-3)"},"children":"formData"}],["$","span","5",{"style":{"color":"var(--ch-7)"},"children":":"}]," ",["$","span","7",{"style":{"color":"var(--ch-3)"},"children":"FormData"}],["$","span","8",{"style":{"color":"var(--ch-4)"},"children":") {"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"let"}]," ",["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"newMessage"}]," ",["$","span","5",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","7",{"style":{"color":"var(--ch-4)"},"children":"formData."}],["$","span","8",{"style":{"color":"var(--ch-5)"},"children":"get"}],["$","span","9",{"style":{"color":"var(--ch-4)"},"children":"("}],["$","span","10",{"style":{"color":"var(--ch-8)"},"children":"\"message\""}],["$","span","11",{"style":{"color":"var(--ch-4)"},"children":")"}]," ",["$","span","13",{"style":{"color":"var(--ch-7)"},"children":"as"}]," ",["$","span","15",{"style":{"color":"var(--ch-2)"},"children":"string"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-5)"},"children":"addOptimisticMessage"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"({"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"value: newMessage,"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"id:"}]," ",["$","span","3",{"style":{"color":"var(--ch-5)"},"children":"uuid"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"(),"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","6,6",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[6,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"});"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","7,7",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[7,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"form.current."}],["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"reset"}],["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"();"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","8,8",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[8,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-7)"},"children":"let"}]," ",["$","span","3",{"style":{"color":"var(--ch-4)"},"children":"msg"}]," ",["$","span","5",{"style":{"color":"var(--ch-7)"},"children":"= await"}]," ",["$","span","7",{"style":{"color":"var(--ch-5)"},"children":"getMessage"}],["$","span","8",{"style":{"color":"var(--ch-4)"},"children":"(newMessage);"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","9,9",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[9,["$","span",null,{"className":"invisible","children":"0"}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-1)"},"children":"// 请求发送成功之后，更新真实状态"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","10,10",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[10,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-5)"},"children":"setMessages"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"(["}],["$","span","3",{"style":{"color":"var(--ch-7)"},"children":"..."}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"messages, msg])"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","11,11",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[11,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
22:I[34034,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","7429","static/chunks/app/r19base/(5.formaction)/34.useoptmistic1/page-e2470b4c0404a93f.js"],"default"]
23:I[65470,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","7429","static/chunks/app/r19base/(5.formaction)/34.useoptmistic1/page-e2470b4c0404a93f.js"],"CodeTabHeader"]
25:I[65703,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","7429","static/chunks/app/r19base/(5.formaction)/34.useoptmistic1/page-e2470b4c0404a93f.js"],"CodeTabsInner"]
24:T4d7,import { useOptimistic, useState, useRef } from "react"
import { getMessage } from './api'
import { reducer, Message } from './reducer'
import { uuid } from '@/utils';

export default function Index() {
  const [messages, setMessages] = useState<Message[]>([]);
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(messages, reducer);

  const form = useRef<any>(null);

  async function formAction(formData: FormData) {
    let newMessage = formData.get("message") as string
    addOptimisticMessage({
      value: newMessage,
      id: uuid(),
    });
    form.current.reset();
    let msg = await getMessage(newMessage);
    setMessages([...messages, msg])
  }

  return (
    <>
      <form action={formAction} ref={form} className='flex'>
        <input
          type="text"
          name="message"
          placeholder="enter your message"
        />
        <button type="submit" className='button ml-2'>Send</button>
      </form>

      {optimisticMessages.map((message) => (
        <div key={message.id} className='indent-1 text-slate-600 mt-1 hover:bg-slate-100 p-2 cursor-pointer rounded'>
          {message.value} {!!message.sending && <small> (Sending...)</small>}
        </div>
      ))}
    </>
  );
}

26:T4d7,import { useOptimistic, useState, useRef } from "react"
import { getMessage } from './api'
import { reducer, Message } from './reducer'
import { uuid } from '@/utils';

export default function Index() {
  const [messages, setMessages] = useState<Message[]>([]);
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(messages, reducer);

  const form = useRef<any>(null);

  async function formAction(formData: FormData) {
    let newMessage = formData.get("message") as string
    addOptimisticMessage({
      value: newMessage,
      id: uuid(),
    });
    form.current.reset();
    let msg = await getMessage(newMessage);
    setMessages([...messages, msg])
  }

  return (
    <>
      <form action={formAction} ref={form} className='flex'>
        <input
          type="text"
          name="message"
          placeholder="enter your message"
        />
        <button type="submit" className='button ml-2'>Send</button>
      </form>

      {optimisticMessages.map((message) => (
        <div key={message.id} className='indent-1 text-slate-600 mt-1 hover:bg-slate-100 p-2 cursor-pointer rounded'>
          {message.value} {!!message.sending && <small> (Sending...)</small>}
        </div>
      ))}
    </>
  );
}

27:T4d7,import { useOptimistic, useState, useRef } from "react"
import { getMessage } from './api'
import { reducer, Message } from './reducer'
import { uuid } from '@/utils';

export default function Index() {
  const [messages, setMessages] = useState<Message[]>([]);
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(messages, reducer);

  const form = useRef<any>(null);

  async function formAction(formData: FormData) {
    let newMessage = formData.get("message") as string
    addOptimisticMessage({
      value: newMessage,
      id: uuid(),
    });
    form.current.reset();
    let msg = await getMessage(newMessage);
    setMessages([...messages, msg])
  }

  return (
    <>
      <form action={formAction} ref={form} className='flex'>
        <input
          type="text"
          name="message"
          placeholder="enter your message"
        />
        <button type="submit" className='button ml-2'>Send</button>
      </form>

      {optimisticMessages.map((message) => (
        <div key={message.id} className='indent-1 text-slate-600 mt-1 hover:bg-slate-100 p-2 cursor-pointer rounded'>
          {message.value} {!!message.sending && <small> (Sending...)</small>}
        </div>
      ))}
    </>
  );
}

12:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L22",null,{"children":[["$","$L23",null,{"tabs":[{"meta":"index.tsx -c","value":"$24","lang":"jsx"},{"meta":"reducer.ts -c","value":"export interface Message {\n  value: string,\n  id: string,\n  sending?: boolean\n}\n\nexport function reducer(state: Message[], newMessage: Message) {\n  let newItem = {\n    ...newMessage,\n    sending: true\n  }\n  return [...state, newItem]\n}","lang":"jsx"},{"meta":"api.ts -c","value":"import { uuid } from '@/utils';\n\nvar requestOptions: RequestInit = {\n  method: 'GET',\n  redirect: 'follow'\n};\n\nconst url = 'https://randomuser.me/api/?results=2&inc=name,gender,email,nat,picture&noinfo'\n\nexport async function getMessage(msg: string) {\n  await fetch(url, requestOptions)\n  return { value: msg, id: uuid()}\n}","lang":"jsx"}]}],["$","$L25",null,{"highlighteds":[{"meta":"index.tsx -c","value":"$26","lang":"jsx","code":"$27","tokens":[["import","var(--ch-7)"]," ",["{ useOptimistic, useState, useRef }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["\"react\"","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["{ getMessage }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./api'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["{ reducer, Message }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./reducer'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["{ uuid }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'@/utils'","var(--ch-8)"],[";","var(--ch-4)"],"\n\n",["export default function","var(--ch-7)"]," ",["Index","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["[","var(--ch-4)"],["messages","var(--ch-2)"],[",","var(--ch-4)"]," ",["setMessages","var(--ch-2)"],["]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["useState","var(--ch-5)"],["<","var(--ch-4)"],["Message","var(--ch-3)"],["[]>([]);","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["[","var(--ch-4)"],["optimisticMessages","var(--ch-2)"],[",","var(--ch-4)"]," ",["addOptimisticMessage","var(--ch-2)"],["]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["useOptimistic","var(--ch-5)"],["(messages, reducer);","var(--ch-4)"],"\n\n  ",["const","var(--ch-7)"]," ",["form","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useRef","var(--ch-5)"],["<","var(--ch-4)"],["any","var(--ch-2)"],[">(","var(--ch-4)"],["null","var(--ch-2)"],[");","var(--ch-4)"],"\n\n  ",["async function","var(--ch-7)"]," ",["formAction","var(--ch-5)"],["(","var(--ch-4)"],["formData","var(--ch-3)"],[":","var(--ch-7)"]," ",["FormData","var(--ch-3)"],[") {","var(--ch-4)"],"\n    ",["let","var(--ch-7)"]," ",["newMessage","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["formData.","var(--ch-4)"],["get","var(--ch-5)"],["(","var(--ch-4)"],["\"message\"","var(--ch-8)"],[")","var(--ch-4)"]," ",["as","var(--ch-7)"]," ",["string","var(--ch-2)"],"\n    ",["addOptimisticMessage","var(--ch-5)"],["({","var(--ch-4)"],"\n      ",["value: newMessage,","var(--ch-4)"],"\n      ",["id:","var(--ch-4)"]," ",["uuid","var(--ch-5)"],["(),","var(--ch-4)"],"\n    ",["});","var(--ch-4)"],"\n    ",["form.current.","var(--ch-4)"],["reset","var(--ch-5)"],["();","var(--ch-4)"],"\n    ",["let","var(--ch-7)"]," ",["msg","var(--ch-4)"]," ",["= await","var(--ch-7)"]," ",["getMessage","var(--ch-5)"],["(newMessage);","var(--ch-4)"],"\n    ",["setMessages","var(--ch-5)"],["([","var(--ch-4)"],["...","var(--ch-7)"],["messages, msg])","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<>","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["form","var(--ch-6)"]," ",["action","var(--ch-2)"],["={","var(--ch-7)"],["formAction","var(--ch-4)"],["}","var(--ch-7)"]," ",["ref","var(--ch-2)"],["={","var(--ch-7)"],["form","var(--ch-4)"],["}","var(--ch-7)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["input","var(--ch-6)"],"\n          ",["type","var(--ch-2)"],["=","var(--ch-7)"],["\"text\"","var(--ch-8)"],"\n          ",["name","var(--ch-2)"],["=","var(--ch-7)"],["\"message\"","var(--ch-8)"],"\n          ",["placeholder","var(--ch-2)"],["=","var(--ch-7)"],["\"enter your message\"","var(--ch-8)"],"\n        ",["/>","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["button","var(--ch-6)"]," ",["type","var(--ch-2)"],["=","var(--ch-7)"],["\"submit\"","var(--ch-8)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'button ml-2'","var(--ch-8)"],[">Send</","var(--ch-4)"],["button","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["form","var(--ch-6)"],[">","var(--ch-4)"],"\n\n      ",["{","var(--ch-7)"],["optimisticMessages.","var(--ch-4)"],["map","var(--ch-5)"],["((","var(--ch-4)"],["message","var(--ch-3)"],[")","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["key","var(--ch-2)"],["={","var(--ch-7)"],["message.id","var(--ch-4)"],["}","var(--ch-7)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'indent-1 text-slate-600 mt-1 hover:bg-slate-100 p-2 cursor-pointer rounded'","var(--ch-8)"],[">","var(--ch-4)"],"\n          ",["{","var(--ch-7)"],["message.value","var(--ch-4)"],["} {!!","var(--ch-7)"],["message.sending","var(--ch-4)"]," ",["&&","var(--ch-7)"]," ",["<","var(--ch-4)"],["small","var(--ch-6)"],["> (Sending...)</","var(--ch-4)"],["small","var(--ch-6)"],[">","var(--ch-4)"],["}","var(--ch-7)"],"\n        ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["))","var(--ch-4)"],["}","var(--ch-7)"],"\n    ",["</>","var(--ch-4)"],"\n  ",[");","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n\n"],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"reducer.ts -c","value":"export interface Message {\n  value: string,\n  id: string,\n  sending?: boolean\n}\n\nexport function reducer(state: Message[], newMessage: Message) {\n  let newItem = {\n    ...newMessage,\n    sending: true\n  }\n  return [...state, newItem]\n}","lang":"jsx","code":"export interface Message {\n  value: string,\n  id: string,\n  sending?: boolean\n}\n\nexport function reducer(state: Message[], newMessage: Message) {\n  let newItem = {\n    ...newMessage,\n    sending: true\n  }\n  return [...state, newItem]\n}","tokens":[["export interface","var(--ch-7)"]," ",["Message","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["value","var(--ch-3)"],[":","var(--ch-7)"]," ",["string","var(--ch-2)"],[",","var(--ch-4)"],"\n  ",["id","var(--ch-3)"],[":","var(--ch-7)"]," ",["string","var(--ch-2)"],[",","var(--ch-4)"],"\n  ",["sending","var(--ch-3)"],["?:","var(--ch-7)"]," ",["boolean","var(--ch-2)"],"\n",["}","var(--ch-4)"],"\n\n",["export function","var(--ch-7)"]," ",["reducer","var(--ch-5)"],["(","var(--ch-4)"],["state","var(--ch-3)"],[":","var(--ch-7)"]," ",["Message","var(--ch-3)"],["[],","var(--ch-4)"]," ",["newMessage","var(--ch-3)"],[":","var(--ch-7)"]," ",["Message","var(--ch-3)"],[") {","var(--ch-4)"],"\n  ",["let","var(--ch-7)"]," ",["newItem","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n    ",["...","var(--ch-7)"],["newMessage,","var(--ch-4)"],"\n    ",["sending:","var(--ch-4)"]," ",["true","var(--ch-2)"],"\n  ",["}","var(--ch-4)"],"\n  ",["return","var(--ch-7)"]," ",["[","var(--ch-4)"],["...","var(--ch-7)"],["state, newItem]","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"api.ts -c","value":"import { uuid } from '@/utils';\n\nvar requestOptions: RequestInit = {\n  method: 'GET',\n  redirect: 'follow'\n};\n\nconst url = 'https://randomuser.me/api/?results=2&inc=name,gender,email,nat,picture&noinfo'\n\nexport async function getMessage(msg: string) {\n  await fetch(url, requestOptions)\n  return { value: msg, id: uuid()}\n}","lang":"jsx","code":"import { uuid } from '@/utils';\n\nvar requestOptions: RequestInit = {\n  method: 'GET',\n  redirect: 'follow'\n};\n\nconst url = 'https://randomuser.me/api/?results=2&inc=name,gender,email,nat,picture&noinfo'\n\nexport async function getMessage(msg: string) {\n  await fetch(url, requestOptions)\n  return { value: msg, id: uuid()}\n}","tokens":[["import","var(--ch-7)"]," ",["{ uuid }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'@/utils'","var(--ch-8)"],[";","var(--ch-4)"],"\n\n",["var","var(--ch-7)"]," ",["requestOptions","var(--ch-4)"],[":","var(--ch-7)"]," ",["RequestInit","var(--ch-3)"]," ",["=","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n  ",["method:","var(--ch-4)"]," ",["'GET'","var(--ch-8)"],[",","var(--ch-4)"],"\n  ",["redirect:","var(--ch-4)"]," ",["'follow'","var(--ch-8)"],"\n",["};","var(--ch-4)"],"\n\n",["const","var(--ch-7)"]," ",["url","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["'https://randomuser.me/api/?results=2&inc=name,gender,email,nat,picture&noinfo'","var(--ch-8)"],"\n\n",["export async function","var(--ch-7)"]," ",["getMessage","var(--ch-5)"],["(","var(--ch-4)"],["msg","var(--ch-3)"],[":","var(--ch-7)"]," ",["string","var(--ch-2)"],[") {","var(--ch-4)"],"\n  ",["await","var(--ch-7)"]," ",["fetch","var(--ch-5)"],["(url, requestOptions)","var(--ch-4)"],"\n  ",["return","var(--ch-7)"]," ",["{ value: msg, id:","var(--ch-4)"]," ",["uuid","var(--ch-5)"],["()}","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
13:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base html","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"html","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"<"}],["$","span","1",{"style":{"color":"var(--ch-6)"},"children":"form"}]," ",["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"id"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"="}],["$","span","5",{"style":{"color":"var(--ch-8)"},"children":"{s.form}"}]," ",["$","span","7",{"style":{"color":"var(--ch-2)"},"children":"action"}],["$","span","8",{"style":{"color":"var(--ch-4)"},"children":"="}],["$","span","9",{"style":{"color":"var(--ch-8)"},"children":"{formAction}"}],["$","span","10",{"style":{"color":"var(--ch-4)"},"children":">"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--ch-6)"},"children":"input"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-2)"},"children":"type"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"="}],["$","span","3",{"style":{"color":"var(--ch-8)"},"children":"\"text\""}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","4,4",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[4,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-2)"},"children":"name"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"="}],["$","span","3",{"style":{"color":"var(--ch-8)"},"children":"\"message\""}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","5,5",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[5,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["    ",["$","span","1",{"style":{"color":"var(--ch-2)"},"children":"placeholder"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":"="}],["$","span","3",{"style":{"color":"var(--ch-8)"},"children":"\"enter your message\""}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","6,6",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[6,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"/>"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","7,7",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[7,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-4)"},"children":"<"}],["$","span","2",{"style":{"color":"var(--ch-6)"},"children":"button"}]," ",["$","span","4",{"style":{"color":"var(--ch-2)"},"children":"type"}],["$","span","5",{"style":{"color":"var(--ch-4)"},"children":"="}],["$","span","6",{"style":{"color":"var(--ch-8)"},"children":"\"submit\""}],["$","span","7",{"style":{"color":"var(--ch-4)"},"children":">Send</"}],["$","span","8",{"style":{"color":"var(--ch-6)"},"children":"button"}],["$","span","9",{"style":{"color":"var(--ch-4)"},"children":">"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","8,8",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[8,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"</"}],["$","span","1",{"style":{"color":"var(--ch-6)"},"children":"form"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":">"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
1f:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
1d:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"usehook - 前端顶级精英俱乐部"}],["$","meta","2",{"name":"description","content":"最好的前端学习网站, react, react19, react hooks, zustand"}],["$","meta","3",{"name":"author","content":"这波能反杀"}],["$","meta","4",{"name":"keywords","content":"react, react19, react hooks, zustand"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
1b:null
