1:"$Sreact.fragment"
2:I[51790,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","7177","static/chunks/app/layout-42df43a67d50e5c7.js"],"default"]
3:I[73974,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","7177","static/chunks/app/layout-42df43a67d50e5c7.js"],"default"]
4:I[15244,[],""]
5:I[43866,[],""]
6:I[14547,[],"ClientSegmentRoot"]
7:I[34489,["7525","static/chunks/7525-411280bffc37a107.js","8173","static/chunks/8173-1aab990e083a60ce.js","5926","static/chunks/5926-2f921190ce1e6581.js","3974","static/chunks/3974-a1a1a9aca3315bf5.js","8083","static/chunks/app/r19base/layout-c8756c3f6eb7e24a.js"],"default"]
9:I[98087,["8150","static/chunks/7cfd557f-0718c923d48595ad.js","7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","8173","static/chunks/8173-1aab990e083a60ce.js","3152","static/chunks/3152-e813ba8dd61cd947.js","8993","static/chunks/8993-10d1253d2b3d0966.js","3001","static/chunks/app/r19base/(3.concurrent)/20.deferred/layout-cc26a7677e948c95.js"],"default"]
a:I[53883,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"default"]
b:I[46252,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"default"]
d:I[91778,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"default"]
f:I[41501,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"default"]
13:I[21588,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"default"]
15:I[79591,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"default"]
1b:I[86213,[],"OutletBoundary"]
1d:I[86213,[],"MetadataBoundary"]
1f:I[86213,[],"ViewportBoundary"]
21:I[34835,[],""]
:HL["/_next/static/media/569ce4b8f30dc480-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/93f479601ee12b01-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/d498c84e4ab246b3.css","style"]
:HL["/_next/static/css/3b8b4919706de55d.css","style"]
:HL["/_next/static/css/738174a5e4c964fb.css","style"]
:HL["/_next/static/css/1823fcda9d6f3fc8.css","style"]
:HL["/_next/static/css/0b88b513390d781e.css","style"]
0:{"P":null,"b":"XRDOJ7yo6q-YQttM3BdNa","p":"","c":["","r19base","20.deferred"],"i":false,"f":[[["",{"children":["r19base",{"children":["(3.concurrent)",{"children":["20.deferred",{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d498c84e4ab246b3.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/3b8b4919706de55d.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/738174a5e4c964fb.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","3",{"rel":"stylesheet","href":"/_next/static/css/1823fcda9d6f3fc8.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"zh","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","meta",null,{"charSet":"UTF-8"}],["$","link",null,{"href":"https://framerusercontent.com/images/YRd2KCq4G2aXNg15aHvl7AtcGQ.png","rel":"icon","media":"(prefers-color-scheme: light)"}],["$","link",null,{"rel":"stylesheet","href":"https://rsms.me/inter/inter.css"}],["$","link",null,{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css","integrity":"sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV","crossOrigin":"anonymous"}],["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1.0 maximum-scale=1, user-scalable=no"}],["$","meta",null,{"name":"mobile-web-app-capable","content":"yes"}],["$","meta",null,{"name":"apple-mobile-web-app-status-bar-style","content":"black-translucent"}]]}],["$","body",null,{"className":"__variable_4d318d __variable_ea5f4b antialiased","children":["$","$L2",null,{"children":[["$","$L3",null,{}],["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}]}]]}]]}],{"children":["r19base",["$","$1","c",{"children":[null,["$","$L6",null,{"Component":"$7","slots":{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","r19base","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]},"params":{},"promise":"$@8"}]]}],{"children":["(3.concurrent)",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","r19base","children","(3.concurrent)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["20.deferred",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/0b88b513390d781e.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L9",null,{"children":["$","$L4",null,{"parallelRouterKey":"children","segmentPath":["children","r19base","children","(3.concurrent)","children","20.deferred","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[[["$","h3",null,{"id":"1效果对比","children":"1、效果对比"}],"\n",["$","p",null,{"children":"重头戏来了！"}],"\n",["$","p",null,{"children":"在进一步学习之前，道友们先操作感受一下这个案例中，搜索时 loading 的交互状态。在输入框中，快速输入任意内容。这是未使用并发 API 实现的交互效果。"}],"\n",["$","$La",null,{}],"\n",["$","p",null,{"children":"然后接下来是使用了并发 API 的交互效果。"}],"\n",["$","$Lb",null,{}],"\n",["$","p",null,{"children":"很显然，我更偏好于第二个案例的 Loading 交互方案。"}],"\n",["$","p",null,{"children":"他的具体表现为：初始化时，显示 Skeleton 组件，表示此时列表中没有内容，即将加载新的内容进来。"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"更新时，保持现有列表"}],"，可在此的基础之上显示 Loading/蒙层，如果你确定接口请求的时间非常短，也可以没有任何 Loading 显示"]}],"\n",["$","p",null,{"children":"在前面的学习中，我们利用 Suspense 与 use 轻松做到了第一种交互方案，这种交互方案无论是在初始化还是在更新时，都是通过显示 Skeleton 来表示请求正在发生。接下来，我们需要学习如何利用新的知识，来做到第二种交互方案。"}],"\n",["$","h3",null,{"id":"2usedeferredvalue","children":["2、",["$","strong",null,{"children":"useDeferredValue"}]]}],"\n",["$","p",null,{"children":"在 React 并发模式的基础之上，我们可以利用 useDeferredValue 在不变动代码顺序的情况之下，推迟指定 UI 更新任务的执行。"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"并发模式的基础理论详细学习，你需要关注我的 React 知命境"}],"\n"]}],"\n","$Lc","\n",["$","p",null,{"children":"对于刚接触的道友们来说，useDeferredValue 理解起来比较困难，我们循序渐进的用 4 个案例来理解一下。"}],"\n",["$","p",null,{"children":"首先，在正常情况下，一个 state 的变化，会导致 UI 发生变化。"}],"\n",["$","p",null,{"children":["例如下面这个案例，状态 ",["$","code",null,{"children":"counter"}]," 被两个元素使用，这两个元素的更改，实际上是",["$","strong",null,{"children":"一个任务"}],"，他们必定会同时响应 counter 的变化。"]}],"\n",["$","p",null,{"children":"因此，当你快速点击按钮时，两个元素的变化是同时进行的。"}],"\n",["$","$Ld",null,{}],"\n","$Le","\n",["$","p",null,{"children":"这个时候，我们可以利用 useDeferredValue，把他们拆分成两个任务。"}],"\n",["$","$Lf",null,{}],"\n","$L10","\n",["$","p",null,{"children":"注意看，我们使用 counter 作为 useDeferredValue 的初始值"}],"\n","$L11","\n",["$","p",null,{"children":"并将其返回值替换第二个元素"}],"\n","$L12","\n",["$","p",null,{"children":"此时，第二个元素的更新，就不再与第一个元素同步。它更新的优先级被降低。这个时候它的执行在理论上是可以被更高的优先级插队和中断的。"}],"\n",["$","p",null,{"children":"快速点击按钮查看一下演示效果，但是由于渲染都太短了，我们肉眼无法区分出来两个任务已经被分开了，因此，从视觉上的表现结果和刚才的案例没啥区别。"}],"\n",["$","p",null,{"children":"为了看出区别，我们把第二个元素重构成一个子组件，并模拟成一个耗时组件"}],"\n",["$","$L13",null,{}],"\n","$L14","\n",["$","p",null,{"children":"快速点击按钮，此时我们发现，两个按钮的更新可以区分开了。并且在快速点击时，第二个 counter 的更新，会落后于第一个 counter，此时表示，我们可以利用 useDeferredValue 推迟 UI 的更新。将对应任务的优先级降低，使其可以被插队与中断。"}],"\n",["$","p",null,{"children":["此时我们也发现另外一个情况，那就是 counter 直接对应的高优先级执行也没有那么流畅，这是为什么呢？其实很简单，因为在我们的模拟案例中，",["$","strong",null,{"children":"并没有把耗时定位在渲染上"}],"。这就和实际的情况不太一样了。我们把耗时写在了 Expensive 函数里，而这个函数每次都会执行，它的执行阻塞了渲染。所以我们会觉得第一个 counter 的更新变得比较卡顿"]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"所以这里我们一定要区分开渲染任务和 Expensive 函数，他们是不同的，UI 渲染是一个异步任务，而 Expensive 函数是同步执行的。useDeferredValue 推迟的是 UI 渲染任务。因此，我们需要特别注意的是，不要在同步逻辑上执行过多的耗时任务。"}],"\n"]}],"\n",["$","p",null,{"children":"这里我们可以通过任务拆分的方式，把执行耗时时间分散到更多的子组件中去，这样 React 就可以利用任务中断的机制，在不阻塞渲染的情况下，中断低优先级的任务。"}],"\n",["$","p",null,{"children":"再来感受一下演示结果，我们就发现，第一个 counter 的更新也变得非常流畅了。"}],"\n",["$","$L15",null,{}],"\n","$L16","\n",["$","p",null,{"children":"此时我们注意观察，不要错漏这个细节。slowList 中包含了 250 个子组件。每个子组件都渲染 1ms，那么整个组件渲染就需要耗时至少 250ms."}],"\n",["$","p",null,{"children":"在父组件中，我们把 deferred 传递给 Expensive"}],"\n","$L17","\n",["$","p",null,{"children":"那么此时表示，Expensive 的 UI 更新任务是低优先级。counter 对应的任务可以中断它的执行。"}],"\n",["$","p",null,{"children":"此时一个很明显的区别就是，counter 的 UI 变化变得更加流畅了。这是因为耗时被拆分到了多个子组件中，React 就有机会中断这些函数的执行，并执行优先级更高的任务，以确保高优先级任务的流畅。"}],"\n",["$","p",null,{"children":["如果你没有使用 React Compiler，你需要使用 memo 手动缓存 ",["$","code",null,{"children":"Expensive"}],"。"]}],"\n","$L18","\n",["$","p",null,{"children":"当更新发生时，useDefferdValue 会首先使用旧值传递给组件。"}],"\n","$L19","\n",["$","p",null,{"children":"因此，当 counter 发生变化时，deferred 依然是旧值，那么此时，如果我们使用 memo 包裹，Expensive 的 props 就没有发生变化，我们可以跳过此次针对 Expensive 的更新。所以当我们快速点击时，Expensive 总是接受到旧值，它本身的渲染也会被中断，因此最终的表现结果是，当我们连续点击 7 次，counter 从 0 依次变成 7，而 deferred 会直接从 0 变成 7."}],"\n",["$","p",null,{"children":"这跟 React 的性能优化策略有关。"}],"\n",["$","h3",null,{"id":"3运行原理","children":["3、",["$","strong",null,{"children":"运行原理"}]]}],"\n",["$","p",null,{"children":"看了上面两个例子，肯定还是有一部分人会觉得很懵，不要急，接下来我们把运行原理分析一下，整个情况就清晰了。"}],"\n",["$","p",null,{"children":"useDeferredValue 会尝试将 UI 任务更新两次。"}],"\n",["$","p",null,{"children":["第一次，会给子组件传递旧值。此时 ",["$","code",null,{"children":"Expensive"}]," 接收到的 props 会与上一次完全相同。如果结合了 React.memo，那么该组件就不会重新渲染。该组件可以重复使用之前的渲染结果"]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"Compiler 编译之后不需要 memo"}],"\n"]}],"\n",["$","p",null,{"children":["此时，高优先级的任务渲染会发生，渲染完成之后，将会开始第二次渲染。此时，将会传入刚才更新之后的新值。对于 ",["$","code",null,{"children":"Expensive"}]," 而言，props 发生了变化，整个组件会重新渲染。"]}],"\n",["$","p",null,{"children":"我们通常会将已经非常明确的耗时任务标记为 deferred，因此，这些任务都被视为低优先级。当重要的高优先级更新已经完成，低优先级任务在第二次渲染时尝试更新..."}],"\n",["$","p",null,{"children":"在它第二次更新的过程中，如果又有新的高优先级任务进来，那么 React 就会中断并放弃第二次更新，去执行高优先级的任务。"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"注意：是中断，并放弃这次更新，所以表现出来的结果就是，中间会漏掉许多任务的执行"}],"\n"]}],"\n",["$","p",null,{"children":"这样的运行机制有一个非常重要的好处。"}],"\n",["$","p",null,{"children":"那就是，如果你的电脑性能足够强悍，那么第二次的更新可能会快速完成，高优先级的任务来不及中断，那么我们的页面响应就是非常理想的。"}],"\n",["$","p",null,{"children":"但是如果我们的电脑性能比较差，第二次更新还没完成，新的高优先级任务又来了，那么就可以通过中断的方式，降级处理，保证重要 UI 的流畅，放弃低优先级任务。"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"在不同性能的设备上，有不同的反应，这个是跟防抖、节流的最重要的区别"}],"\n"]}],"\n",["$","h3",null,{"id":"4重新分析取消请求案例","children":["4、",["$","strong",null,{"children":"重新分析取消请求案例"}]]}],"\n",["$","p",null,{"children":"那我们回过头来，分析一下最开始的那个案例，重新看一眼代码"}],"\n",["$","$Lb",null,{}],"\n","$L1a","\n",["$","p",null,{"children":"这里我们将 promise 做为 state，当 promise 被重新赋值时，List 会经历两次更新。"}],"\n",["$","p",null,{"children":"首先点击事件触发，请求立即发生。promise 被改变。触发组件更新。"}],"\n",["$","p",null,{"children":"第一次更新时，deferred 使用旧值传参，此时对于 List 而言，api 没有发生变化。因此，利用这个机制，我们可以阻止 Suspense 直接渲染成 fallback."}],"\n",["$","p",null,{"children":"在 Suspense 包裹之下，只有当接口请求成功之后，deferred 的第二次更新才会发生，因此，在这个过程中，如果我们快速进行第二次点击，可以直接取消上一次请求，让第二次更新来不及执行。此时新的请求发生。"}],"\n",["$","h3",null,{"id":"5总结","children":["5、",["$","strong",null,{"children":"总结"}]]}],"\n",["$","p",null,{"children":"这种场景的最佳实践代码非常的简洁和优雅。写起来也很舒服，性能也非常强悍。但是理解起来会比较困难。因此想要做到灵活运用，还需要多多消化。"}],"\n",["$","p",null,{"children":"但是，等你彻底掌握它之后，你就会发现 React 19 在异步交互上真的太优雅了。这样的开发体验，是依赖 useEffect 完全比不了的。"}]],null,["$","$L1b",null,{"children":"$L1c"}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","xWeLz6lslBkDh7MfloXAe",{"children":[["$","$L1d",null,{"children":"$L1e"}],["$","$L1f",null,{"children":"$L20"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]]}],false]],"m":"$undefined","G":["$21","$undefined"],"s":false,"S":true}
8:{}
22:I[34034,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"default"]
23:I[65470,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"CodeTabHeader"]
24:I[65703,["7525","static/chunks/7525-411280bffc37a107.js","4320","static/chunks/4320-eb0b4108191194bc.js","5926","static/chunks/5926-2f921190ce1e6581.js","2794","static/chunks/2794-e7741df2722cee1f.js","4974","static/chunks/app/r19base/(3.concurrent)/20.deferred/page-8af72803a33dd83e.js"],"CodeTabsInner"]
12:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base tsx","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"tsx","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-1)"},"children":"// return"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"<"}],["$","span","1",{"style":{"color":"var(--ch-6)"},"children":"div"}]," ",["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"className"}],["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}],["$","span","5",{"style":{"color":"var(--ch-8)"},"children":"'mt-4'"}],["$","span","6",{"style":{"color":"var(--ch-4)"},"children":">counter:"}]," ",["$","span","8",{"style":{"color":"var(--ch-7)"},"children":"{"}],["$","span","9",{"style":{"color":"var(--ch-4)"},"children":"deferred"}],["$","span","10",{"style":{"color":"var(--ch-7)"},"children":"}"}],["$","span","11",{"style":{"color":"var(--ch-4)"},"children":"</"}],["$","span","12",{"style":{"color":"var(--ch-6)"},"children":"div"}],["$","span","13",{"style":{"color":"var(--ch-4)"},"children":">"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
e:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L22",null,{"children":[["$","$L23",null,{"tabs":[{"meta":"index.tsx -c","value":"import { useState } from 'react'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <div className=\"mt-4\">counter: {counter}</div>\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}\n","lang":"tsx"}]}],["$","$L24",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import { useState } from 'react'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <div className=\"mt-4\">counter: {counter}</div>\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}\n","lang":"tsx","code":"import { useState } from 'react'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <div className=\"mt-4\">counter: {counter}</div>\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}\n","tokens":[["import","var(--ch-7)"]," ",["{ useState }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Index","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["[","var(--ch-4)"],["counter","var(--ch-2)"],[",","var(--ch-4)"]," ",["setCounter","var(--ch-2)"],["]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["useState","var(--ch-5)"],["(","var(--ch-4)"],["0","var(--ch-2)"],[")","var(--ch-4)"],"\n\n  ",["function","var(--ch-7)"]," ",["__clickHanler","var(--ch-5)"],["() {","var(--ch-4)"],"\n    ",["setCounter","var(--ch-5)"],["(counter","var(--ch-4)"]," ",["+","var(--ch-7)"]," ",["1","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex justify-between items-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">counter:","var(--ch-4)"]," ",["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["\"mt-4\"","var(--ch-8)"],[">counter:","var(--ch-4)"]," ",["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["button","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'button'","var(--ch-8)"]," ",["onClick","var(--ch-2)"],["={","var(--ch-7)"],["__clickHanler","var(--ch-4)"],["}","var(--ch-7)"],[">counter++</","var(--ch-4)"],["button","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n"],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
10:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L22",null,{"children":[["$","$L23",null,{"tabs":[{"meta":"index.tsx -c","value":"import { useState, useDeferredValue } from 'react'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <div className='mt-4'>counter: {deferred}</div>\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}\n","lang":"tsx"}]}],["$","$L24",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import { useState, useDeferredValue } from 'react'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <div className='mt-4'>counter: {deferred}</div>\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}\n","lang":"tsx","code":"import { useState, useDeferredValue } from 'react'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <div className='mt-4'>counter: {deferred}</div>\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}\n","tokens":[["import","var(--ch-7)"]," ",["{ useState, useDeferredValue }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Index","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["[","var(--ch-4)"],["counter","var(--ch-2)"],[",","var(--ch-4)"]," ",["setCounter","var(--ch-2)"],["]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["useState","var(--ch-5)"],["(","var(--ch-4)"],["0","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["deferred","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useDeferredValue","var(--ch-5)"],["(counter)","var(--ch-4)"],"\n\n  ",["function","var(--ch-7)"]," ",["__clickHanler","var(--ch-5)"],["() {","var(--ch-4)"],"\n    ",["setCounter","var(--ch-5)"],["(counter","var(--ch-4)"]," ",["+","var(--ch-7)"]," ",["1","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex justify-between items-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">counter:","var(--ch-4)"]," ",["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'mt-4'","var(--ch-8)"],[">counter:","var(--ch-4)"]," ",["{","var(--ch-7)"],["deferred","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["button","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'button'","var(--ch-8)"]," ",["onClick","var(--ch-2)"],["={","var(--ch-7)"],["__clickHanler","var(--ch-4)"],["}","var(--ch-7)"],[">counter++</","var(--ch-4)"],["button","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n"],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
14:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L22",null,{"children":[["$","$L23",null,{"tabs":[{"meta":"index.tsx -c","value":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter, 0)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <Expensive counter={deferred} />\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}","lang":"tsx"},{"meta":"expensive.tsx -c","value":"const Expensive = ({ counter }: { counter: number }) => {\n  const start = performance.now()\n  while (performance.now() - start < 200) { }\n  return (\n    <div className=\"mt-4\">Deferred: {counter}</div>\n  )\n}\n\nexport default Expensive","lang":"tsx"}]}],["$","$L24",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter, 0)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <Expensive counter={deferred} />\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}","lang":"tsx","code":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter, 0)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <Expensive counter={deferred} />\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}","tokens":[["import","var(--ch-7)"]," ",["{ useState, useDeferredValue }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Expensive","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./expensive'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Index","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["[","var(--ch-4)"],["counter","var(--ch-2)"],[",","var(--ch-4)"]," ",["setCounter","var(--ch-2)"],["]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["useState","var(--ch-5)"],["(","var(--ch-4)"],["0","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["deferred","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useDeferredValue","var(--ch-5)"],["(counter,","var(--ch-4)"]," ",["0","var(--ch-2)"],[")","var(--ch-4)"],"\n\n  ",["function","var(--ch-7)"]," ",["__clickHanler","var(--ch-5)"],["() {","var(--ch-4)"],"\n    ",["setCounter","var(--ch-5)"],["(counter","var(--ch-4)"]," ",["+","var(--ch-7)"]," ",["1","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex justify-between items-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">counter:","var(--ch-4)"]," ",["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["Expensive","var(--ch-6)"]," ",["counter","var(--ch-2)"],["={","var(--ch-7)"],["deferred","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["button","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'button'","var(--ch-8)"]," ",["onClick","var(--ch-2)"],["={","var(--ch-7)"],["__clickHanler","var(--ch-4)"],["}","var(--ch-7)"],[">counter++</","var(--ch-4)"],["button","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"expensive.tsx -c","value":"const Expensive = ({ counter }: { counter: number }) => {\n  const start = performance.now()\n  while (performance.now() - start < 200) { }\n  return (\n    <div className=\"mt-4\">Deferred: {counter}</div>\n  )\n}\n\nexport default Expensive","lang":"tsx","code":"const Expensive = ({ counter }: { counter: number }) => {\n  const start = performance.now()\n  while (performance.now() - start < 200) { }\n  return (\n    <div className=\"mt-4\">Deferred: {counter}</div>\n  )\n}\n\nexport default Expensive","tokens":[["const","var(--ch-7)"]," ",["Expensive","var(--ch-5)"]," ",["=","var(--ch-7)"]," ",["({","var(--ch-4)"]," ",["counter","var(--ch-3)"]," ",["}","var(--ch-4)"],[":","var(--ch-7)"]," ",["{","var(--ch-4)"]," ",["counter","var(--ch-3)"],[":","var(--ch-7)"]," ",["number","var(--ch-2)"]," ",["})","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["start","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["performance.","var(--ch-4)"],["now","var(--ch-5)"],["()","var(--ch-4)"],"\n  ",["while","var(--ch-7)"]," ",["(performance.","var(--ch-4)"],["now","var(--ch-5)"],["()","var(--ch-4)"]," ",["-","var(--ch-7)"]," ",["start","var(--ch-4)"]," ",["<","var(--ch-7)"]," ",["200","var(--ch-2)"],[") { }","var(--ch-4)"],"\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["\"mt-4\"","var(--ch-8)"],[">Deferred:","var(--ch-4)"]," ",["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n\n",["export default","var(--ch-7)"]," ",["Expensive","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
16:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L22",null,{"children":[["$","$L23",null,{"tabs":[{"meta":"index.tsx -c","value":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <Expensive counter={deferred} />\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}","lang":"tsx"},{"meta":"expensive.tsx -c","value":"import { memo } from 'react'\nimport SlowItem from './slow-item'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='mt-4 text-green-500'>\n      <div>Deferred: {counter}</div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","lang":"tsx"},{"meta":"slow-item.tsx -c","value":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","lang":"tsx"}]}],["$","$L24",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <Expensive counter={deferred} />\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}","lang":"tsx","code":"import { useState, useDeferredValue } from 'react'\nimport Expensive from './expensive'\n\nexport default function Index() {\n  const [counter, setCounter] = useState(0)\n  const deferred = useDeferredValue(counter)\n\n  function __clickHanler() {\n    setCounter(counter + 1)\n  }\n\n  return (\n    <div className='flex justify-between items-center'>\n      <div>\n        <div>counter: {counter}</div>\n        <Expensive counter={deferred} />\n      </div>\n      <button className='button' onClick={__clickHanler}>counter++</button>\n    </div>\n  )\n}","tokens":[["import","var(--ch-7)"]," ",["{ useState, useDeferredValue }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Expensive","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./expensive'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Index","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["[","var(--ch-4)"],["counter","var(--ch-2)"],[",","var(--ch-4)"]," ",["setCounter","var(--ch-2)"],["]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["useState","var(--ch-5)"],["(","var(--ch-4)"],["0","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["deferred","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useDeferredValue","var(--ch-5)"],["(counter)","var(--ch-4)"],"\n\n  ",["function","var(--ch-7)"]," ",["__clickHanler","var(--ch-5)"],["() {","var(--ch-4)"],"\n    ",["setCounter","var(--ch-5)"],["(counter","var(--ch-4)"]," ",["+","var(--ch-7)"]," ",["1","var(--ch-2)"],[")","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex justify-between items-center'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">counter:","var(--ch-4)"]," ",["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["Expensive","var(--ch-6)"]," ",["counter","var(--ch-2)"],["={","var(--ch-7)"],["deferred","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["button","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'button'","var(--ch-8)"]," ",["onClick","var(--ch-2)"],["={","var(--ch-7)"],["__clickHanler","var(--ch-4)"],["}","var(--ch-7)"],[">counter++</","var(--ch-4)"],["button","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"expensive.tsx -c","value":"import { memo } from 'react'\nimport SlowItem from './slow-item'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='mt-4 text-green-500'>\n      <div>Deferred: {counter}</div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","lang":"tsx","code":"import { memo } from 'react'\nimport SlowItem from './slow-item'\n\nconst Expensive = ({ counter }: { counter: number }) => {\n  let items = []\n  for (let i = 0; i < 200; i++) {\n    items.push(<SlowItem key={i} counter={counter} />);\n  }\n\n  return (\n    <div className='mt-4 text-green-500'>\n      <div>Deferred: {counter}</div>\n      <ul className='h-32 hidden'>\n        {items}\n      </ul>\n    </div>\n  );\n}\n\nexport default memo(Expensive)","tokens":[["import","var(--ch-7)"]," ",["{ memo }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["SlowItem","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./slow-item'","var(--ch-8)"],"\n\n",["const","var(--ch-7)"]," ",["Expensive","var(--ch-5)"]," ",["=","var(--ch-7)"]," ",["({","var(--ch-4)"]," ",["counter","var(--ch-3)"]," ",["}","var(--ch-4)"],[":","var(--ch-7)"]," ",["{","var(--ch-4)"]," ",["counter","var(--ch-3)"],[":","var(--ch-7)"]," ",["number","var(--ch-2)"]," ",["})","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n  ",["let","var(--ch-7)"]," ",["items","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["[]","var(--ch-4)"],"\n  ",["for","var(--ch-7)"]," ",["(","var(--ch-4)"],["let","var(--ch-7)"]," ",["i","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["0","var(--ch-2)"],["; i","var(--ch-4)"]," ",["<","var(--ch-7)"]," ",["200","var(--ch-2)"],["; i","var(--ch-4)"],["++","var(--ch-7)"],[") {","var(--ch-4)"],"\n    ",["items.","var(--ch-4)"],["push","var(--ch-5)"],["(<","var(--ch-4)"],["SlowItem","var(--ch-6)"]," ",["key","var(--ch-2)"],["={","var(--ch-7)"],["i","var(--ch-4)"],["}","var(--ch-7)"]," ",["counter","var(--ch-2)"],["={","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>);","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'mt-4 text-green-500'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["div","var(--ch-6)"],[">Deferred:","var(--ch-4)"]," ",["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["ul","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'h-32 hidden'","var(--ch-8)"],[">","var(--ch-4)"],"\n        ",["{","var(--ch-7)"],["items","var(--ch-4)"],["}","var(--ch-7)"],"\n      ",["</","var(--ch-4)"],["ul","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[");","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n\n",["export default","var(--ch-7)"]," ",["memo","var(--ch-5)"],["(","var(--ch-3)"],["Expensive","var(--ch-4)"],[")","var(--ch-3)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"slow-item.tsx -c","value":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","lang":"tsx","code":"function SlowItem({ counter }: { counter: number }) {\n  let startTime = performance.now();\n  while (performance.now() - startTime < 1) {\n    // Do nothing for 1 ms per item to emulate extremely slow code\n  }\n\n  return (\n    <li>{counter}</li>\n  )\n}\n\nexport default SlowItem","tokens":[["function","var(--ch-7)"]," ",["SlowItem","var(--ch-5)"],["({","var(--ch-4)"]," ",["counter","var(--ch-3)"]," ",["}","var(--ch-4)"],[":","var(--ch-7)"]," ",["{","var(--ch-4)"]," ",["counter","var(--ch-3)"],[":","var(--ch-7)"]," ",["number","var(--ch-2)"]," ",["}) {","var(--ch-4)"],"\n  ",["let","var(--ch-7)"]," ",["startTime","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["performance.","var(--ch-4)"],["now","var(--ch-5)"],["();","var(--ch-4)"],"\n  ",["while","var(--ch-7)"]," ",["(performance.","var(--ch-4)"],["now","var(--ch-5)"],["()","var(--ch-4)"]," ",["-","var(--ch-7)"]," ",["startTime","var(--ch-4)"]," ",["<","var(--ch-7)"]," ",["1","var(--ch-2)"],[") {","var(--ch-4)"],"\n    ",["// Do nothing for 1 ms per item to emulate extremely slow code","var(--ch-1)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["li","var(--ch-6)"],[">","var(--ch-4)"],["{","var(--ch-7)"],["counter","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["li","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n\n",["export default","var(--ch-7)"]," ",["SlowItem","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
1a:["$","div",null,{"className":"code-tabs border rounded border-gray-200 overflow-hidden my-5","children":["$","$L22",null,{"children":[["$","$L23",null,{"tabs":[{"meta":"index.tsx -c","value":"import { useState, Suspense, useDeferredValue } from 'react'\nimport Skeleton from 'components/ui/skeleton'\nimport Spin from 'components/ui/spin'\nimport { getUsersInfo } from './api'\nimport Input from './Input'\nimport List from './list'\n\nexport default function Search() {\n  const [promise, update] = useState(getUsersInfo)\n  const deferred = useDeferredValue(promise)\n\n  const __inputChange = () => {\n    promise.cancel()\n    update(getUsersInfo())\n  }\n\n  return (\n    <div className='space-y-2'>\n      <Input onChange={__inputChange} placeholder='Enter something' />\n      <Suspense fallback={<Skeleton />}>\n        <Spin loading={deferred !== promise} type='mask'>\n          <List promise={deferred} />\n        </Spin>\n      </Suspense>\n    </div>\n  )\n}","lang":"tsx"},{"meta":"list.tsx -c","value":"import { use } from 'react'\nimport { getUsersInfo } from './api'\n\nexport default function CurrentList({ promise }: {\n  promise: ReturnType<typeof getUsersInfo>\n}) {\n  const users = use(promise)\n  return (\n    <div className='space-y-2'>\n      {users.map(item => (\n        <div key={item.id} className='flex border rounded p-4 items-center border-gray-200'>\n          <img className='w-14 h-14 rounded-full' src={item.picture.large} alt='' />\n          <div className='flex-1 ml-4'>\n            <div className='font-bold'>{item.name.last}</div>\n            <div className='text-gray-400 text-sm mt-1 line-clamp-1'>{item.desc}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n","lang":"tsx"},{"meta":"Input.tsx -c","value":"import { Search } from 'lucide-react'\nimport { InputHTMLAttributes } from 'react'\n\nexport default function Input(props: InputHTMLAttributes<HTMLInputElement>) {\n  return (\n    <div className='flex items-center border border-gray-200 px-2 rounded text-gray-500'>\n      <Search size={18} />\n      <input className='flex-1 !border-none p-2 text-sm' type='text' {...props} />\n    </div>\n  )\n}\n","lang":"tsx"},{"meta":"api.ts -c","value":"import {createRandomMessage, uuid} from '@/utils'\n\ninterface PromiseWithCancel<T> extends Promise<T> {\n  cancel: () => any\n}\n\nexport function getUsersInfo() {\n  const url = `https://randomuser.me/api/?results=2&inc=name,gender,email,nat,picture&noinfo`;\n\n  let controller = new AbortController();\n  let signal = controller.signal;\n\n  const __promise = new Promise(async resolve => {\n    try {\n      const response = await fetch(url, {signal})\n      const data = await response.json()\n      const users: UserInfo[] = data.results.map((item: UserInfo) => {\n        item.desc = createRandomMessage()\n        item.id = uuid()\n        return item\n      })\n      resolve(users)\n    } catch {\n      console.warn('fetch have been canceled!')\n    }\n  })\n\n  const promise = __promise as PromiseWithCancel<UserInfo[]>\n  promise.cancel = () => {\n    if (controller) {\n      controller.abort()\n    }\n  }\n\n  return promise\n}","lang":"tsx"}]}],["$","$L24",null,{"highlighteds":[{"meta":"index.tsx -c","value":"import { useState, Suspense, useDeferredValue } from 'react'\nimport Skeleton from 'components/ui/skeleton'\nimport Spin from 'components/ui/spin'\nimport { getUsersInfo } from './api'\nimport Input from './Input'\nimport List from './list'\n\nexport default function Search() {\n  const [promise, update] = useState(getUsersInfo)\n  const deferred = useDeferredValue(promise)\n\n  const __inputChange = () => {\n    promise.cancel()\n    update(getUsersInfo())\n  }\n\n  return (\n    <div className='space-y-2'>\n      <Input onChange={__inputChange} placeholder='Enter something' />\n      <Suspense fallback={<Skeleton />}>\n        <Spin loading={deferred !== promise} type='mask'>\n          <List promise={deferred} />\n        </Spin>\n      </Suspense>\n    </div>\n  )\n}","lang":"tsx","code":"import { useState, Suspense, useDeferredValue } from 'react'\nimport Skeleton from 'components/ui/skeleton'\nimport Spin from 'components/ui/spin'\nimport { getUsersInfo } from './api'\nimport Input from './Input'\nimport List from './list'\n\nexport default function Search() {\n  const [promise, update] = useState(getUsersInfo)\n  const deferred = useDeferredValue(promise)\n\n  const __inputChange = () => {\n    promise.cancel()\n    update(getUsersInfo())\n  }\n\n  return (\n    <div className='space-y-2'>\n      <Input onChange={__inputChange} placeholder='Enter something' />\n      <Suspense fallback={<Skeleton />}>\n        <Spin loading={deferred !== promise} type='mask'>\n          <List promise={deferred} />\n        </Spin>\n      </Suspense>\n    </div>\n  )\n}","tokens":[["import","var(--ch-7)"]," ",["{ useState, Suspense, useDeferredValue }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Skeleton","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'components/ui/skeleton'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Spin","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'components/ui/spin'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["{ getUsersInfo }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./api'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["Input","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./Input'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["List","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./list'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Search","var(--ch-5)"],["()","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["[","var(--ch-4)"],["promise","var(--ch-2)"],[",","var(--ch-4)"]," ",["update","var(--ch-2)"],["]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["useState","var(--ch-5)"],["(getUsersInfo)","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["deferred","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["useDeferredValue","var(--ch-5)"],["(promise)","var(--ch-4)"],"\n\n  ",["const","var(--ch-7)"]," ",["__inputChange","var(--ch-5)"]," ",["=","var(--ch-7)"]," ",["()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n    ",["promise.","var(--ch-4)"],["cancel","var(--ch-5)"],["()","var(--ch-4)"],"\n    ",["update","var(--ch-5)"],["(","var(--ch-4)"],["getUsersInfo","var(--ch-5)"],["())","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'space-y-2'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["Input","var(--ch-6)"]," ",["onChange","var(--ch-2)"],["={","var(--ch-7)"],["__inputChange","var(--ch-4)"],["}","var(--ch-7)"]," ",["placeholder","var(--ch-2)"],["=","var(--ch-7)"],["'Enter something'","var(--ch-8)"]," ",["/>","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["Suspense","var(--ch-6)"]," ",["fallback","var(--ch-2)"],["={","var(--ch-7)"],["<","var(--ch-4)"],["Skeleton","var(--ch-6)"]," ",["/>","var(--ch-4)"],["}","var(--ch-7)"],[">","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["Spin","var(--ch-6)"]," ",["loading","var(--ch-2)"],["={","var(--ch-7)"],["deferred","var(--ch-4)"]," ",["!==","var(--ch-7)"]," ",["promise","var(--ch-4)"],["}","var(--ch-7)"]," ",["type","var(--ch-2)"],["=","var(--ch-7)"],["'mask'","var(--ch-8)"],[">","var(--ch-4)"],"\n          ",["<","var(--ch-4)"],["List","var(--ch-6)"]," ",["promise","var(--ch-2)"],["={","var(--ch-7)"],["deferred","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n        ",["</","var(--ch-4)"],["Spin","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["</","var(--ch-4)"],["Suspense","var(--ch-6)"],[">","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"list.tsx -c","value":"import { use } from 'react'\nimport { getUsersInfo } from './api'\n\nexport default function CurrentList({ promise }: {\n  promise: ReturnType<typeof getUsersInfo>\n}) {\n  const users = use(promise)\n  return (\n    <div className='space-y-2'>\n      {users.map(item => (\n        <div key={item.id} className='flex border rounded p-4 items-center border-gray-200'>\n          <img className='w-14 h-14 rounded-full' src={item.picture.large} alt='' />\n          <div className='flex-1 ml-4'>\n            <div className='font-bold'>{item.name.last}</div>\n            <div className='text-gray-400 text-sm mt-1 line-clamp-1'>{item.desc}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n","lang":"tsx","code":"import { use } from 'react'\nimport { getUsersInfo } from './api'\n\nexport default function CurrentList({ promise }: {\n  promise: ReturnType<typeof getUsersInfo>\n}) {\n  const users = use(promise)\n  return (\n    <div className='space-y-2'>\n      {users.map(item => (\n        <div key={item.id} className='flex border rounded p-4 items-center border-gray-200'>\n          <img className='w-14 h-14 rounded-full' src={item.picture.large} alt='' />\n          <div className='flex-1 ml-4'>\n            <div className='font-bold'>{item.name.last}</div>\n            <div className='text-gray-400 text-sm mt-1 line-clamp-1'>{item.desc}</div>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n","tokens":[["import","var(--ch-7)"]," ",["{ use }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["{ getUsersInfo }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'./api'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["CurrentList","var(--ch-5)"],["({ promise }","var(--ch-3)"],[":","var(--ch-7)"]," ",["{","var(--ch-3)"],"\n  ",["promise","var(--ch-3)"],[":","var(--ch-7)"]," ",["ReturnType<","var(--ch-3)"],["typeof","var(--ch-7)"]," ",["getUsersInfo","var(--ch-4)"],[">","var(--ch-3)"],"\n",["})","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["users","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["use","var(--ch-5)"],["(promise)","var(--ch-4)"],"\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'space-y-2'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["{","var(--ch-7)"],["users.","var(--ch-4)"],["map","var(--ch-5)"],["(","var(--ch-4)"],["item","var(--ch-3)"]," ",["=>","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n        ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["key","var(--ch-2)"],["={","var(--ch-7)"],["item.id","var(--ch-4)"],["}","var(--ch-7)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex border rounded p-4 items-center border-gray-200'","var(--ch-8)"],[">","var(--ch-4)"],"\n          ",["<","var(--ch-4)"],["img","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'w-14 h-14 rounded-full'","var(--ch-8)"]," ",["src","var(--ch-2)"],["={","var(--ch-7)"],["item.picture.large","var(--ch-4)"],["}","var(--ch-7)"]," ",["alt","var(--ch-2)"],["=","var(--ch-7)"],["''","var(--ch-8)"]," ",["/>","var(--ch-4)"],"\n          ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex-1 ml-4'","var(--ch-8)"],[">","var(--ch-4)"],"\n            ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'font-bold'","var(--ch-8)"],[">","var(--ch-4)"],["{","var(--ch-7)"],["item.name.last","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n            ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'text-gray-400 text-sm mt-1 line-clamp-1'","var(--ch-8)"],[">","var(--ch-4)"],["{","var(--ch-7)"],["item.desc","var(--ch-4)"],["}","var(--ch-7)"],["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n          ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n        ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n      ",["))","var(--ch-4)"],["}","var(--ch-7)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n"],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"Input.tsx -c","value":"import { Search } from 'lucide-react'\nimport { InputHTMLAttributes } from 'react'\n\nexport default function Input(props: InputHTMLAttributes<HTMLInputElement>) {\n  return (\n    <div className='flex items-center border border-gray-200 px-2 rounded text-gray-500'>\n      <Search size={18} />\n      <input className='flex-1 !border-none p-2 text-sm' type='text' {...props} />\n    </div>\n  )\n}\n","lang":"tsx","code":"import { Search } from 'lucide-react'\nimport { InputHTMLAttributes } from 'react'\n\nexport default function Input(props: InputHTMLAttributes<HTMLInputElement>) {\n  return (\n    <div className='flex items-center border border-gray-200 px-2 rounded text-gray-500'>\n      <Search size={18} />\n      <input className='flex-1 !border-none p-2 text-sm' type='text' {...props} />\n    </div>\n  )\n}\n","tokens":[["import","var(--ch-7)"]," ",["{ Search }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'lucide-react'","var(--ch-8)"],"\n",["import","var(--ch-7)"]," ",["{ InputHTMLAttributes }","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'react'","var(--ch-8)"],"\n\n",["export default function","var(--ch-7)"]," ",["Input","var(--ch-5)"],["(props","var(--ch-3)"],[":","var(--ch-7)"]," ",["InputHTMLAttributes<HTMLInputElement>)","var(--ch-3)"]," ",["{","var(--ch-4)"],"\n  ",["return","var(--ch-7)"]," ",["(","var(--ch-4)"],"\n    ",["<","var(--ch-4)"],["div","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex items-center border border-gray-200 px-2 rounded text-gray-500'","var(--ch-8)"],[">","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["Search","var(--ch-6)"]," ",["size","var(--ch-2)"],["={","var(--ch-7)"],["18","var(--ch-2)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n      ",["<","var(--ch-4)"],["input","var(--ch-6)"]," ",["className","var(--ch-2)"],["=","var(--ch-7)"],["'flex-1 !border-none p-2 text-sm'","var(--ch-8)"]," ",["type","var(--ch-2)"],["=","var(--ch-7)"],["'text'","var(--ch-8)"]," ",["{...","var(--ch-7)"],["props","var(--ch-4)"],["}","var(--ch-7)"]," ",["/>","var(--ch-4)"],"\n    ",["</","var(--ch-4)"],["div","var(--ch-6)"],[">","var(--ch-4)"],"\n  ",[")","var(--ch-4)"],"\n",["}","var(--ch-4)"],"\n"],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}},{"meta":"api.ts -c","value":"import {createRandomMessage, uuid} from '@/utils'\n\ninterface PromiseWithCancel<T> extends Promise<T> {\n  cancel: () => any\n}\n\nexport function getUsersInfo() {\n  const url = `https://randomuser.me/api/?results=2&inc=name,gender,email,nat,picture&noinfo`;\n\n  let controller = new AbortController();\n  let signal = controller.signal;\n\n  const __promise = new Promise(async resolve => {\n    try {\n      const response = await fetch(url, {signal})\n      const data = await response.json()\n      const users: UserInfo[] = data.results.map((item: UserInfo) => {\n        item.desc = createRandomMessage()\n        item.id = uuid()\n        return item\n      })\n      resolve(users)\n    } catch {\n      console.warn('fetch have been canceled!')\n    }\n  })\n\n  const promise = __promise as PromiseWithCancel<UserInfo[]>\n  promise.cancel = () => {\n    if (controller) {\n      controller.abort()\n    }\n  }\n\n  return promise\n}","lang":"tsx","code":"import {createRandomMessage, uuid} from '@/utils'\n\ninterface PromiseWithCancel<T> extends Promise<T> {\n  cancel: () => any\n}\n\nexport function getUsersInfo() {\n  const url = `https://randomuser.me/api/?results=2&inc=name,gender,email,nat,picture&noinfo`;\n\n  let controller = new AbortController();\n  let signal = controller.signal;\n\n  const __promise = new Promise(async resolve => {\n    try {\n      const response = await fetch(url, {signal})\n      const data = await response.json()\n      const users: UserInfo[] = data.results.map((item: UserInfo) => {\n        item.desc = createRandomMessage()\n        item.id = uuid()\n        return item\n      })\n      resolve(users)\n    } catch {\n      console.warn('fetch have been canceled!')\n    }\n  })\n\n  const promise = __promise as PromiseWithCancel<UserInfo[]>\n  promise.cancel = () => {\n    if (controller) {\n      controller.abort()\n    }\n  }\n\n  return promise\n}","tokens":[["import","var(--ch-7)"]," ",["{createRandomMessage, uuid}","var(--ch-4)"]," ",["from","var(--ch-7)"]," ",["'@/utils'","var(--ch-8)"],"\n\n",["interface","var(--ch-7)"]," ",["PromiseWithCancel","var(--ch-3)"],["<","var(--ch-4)"],["T","var(--ch-3)"],[">","var(--ch-4)"]," ",["extends","var(--ch-7)"]," ",["Promise","var(--ch-2)"],["<","var(--ch-4)"],["T","var(--ch-3)"],["> {","var(--ch-4)"],"\n  ",["cancel","var(--ch-5)"],[":","var(--ch-7)"]," ",["()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["any","var(--ch-2)"],"\n",["}","var(--ch-4)"],"\n\n",["export function","var(--ch-7)"]," ",["getUsersInfo","var(--ch-5)"],["() {","var(--ch-4)"],"\n  ",["const","var(--ch-7)"]," ",["url","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["`https://randomuser.me/api/?results=2&inc=name,gender,email,nat,picture&noinfo`","var(--ch-8)"],[";","var(--ch-4)"],"\n\n  ",["let","var(--ch-7)"]," ",["controller","var(--ch-4)"]," ",["= new","var(--ch-7)"]," ",["AbortController","var(--ch-5)"],["();","var(--ch-4)"],"\n  ",["let","var(--ch-7)"]," ",["signal","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["controller.signal;","var(--ch-4)"],"\n\n  ",["const","var(--ch-7)"]," ",["__promise","var(--ch-2)"]," ",["= new","var(--ch-7)"]," ",["Promise","var(--ch-2)"],["(","var(--ch-4)"],["async","var(--ch-7)"]," ",["resolve","var(--ch-3)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n    ",["try","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n      ",["const","var(--ch-7)"]," ",["response","var(--ch-2)"]," ",["= await","var(--ch-7)"]," ",["fetch","var(--ch-5)"],["(url, {signal})","var(--ch-4)"],"\n      ",["const","var(--ch-7)"]," ",["data","var(--ch-2)"]," ",["= await","var(--ch-7)"]," ",["response.","var(--ch-4)"],["json","var(--ch-5)"],["()","var(--ch-4)"],"\n      ",["const","var(--ch-7)"]," ",["users","var(--ch-2)"],[":","var(--ch-7)"]," ",["UserInfo","var(--ch-3)"],["[]","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["data.results.","var(--ch-4)"],["map","var(--ch-5)"],["((","var(--ch-4)"],["item","var(--ch-3)"],[":","var(--ch-7)"]," ",["UserInfo","var(--ch-3)"],[")","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n        ",["item.desc","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["createRandomMessage","var(--ch-5)"],["()","var(--ch-4)"],"\n        ",["item.id","var(--ch-4)"]," ",["=","var(--ch-7)"]," ",["uuid","var(--ch-5)"],["()","var(--ch-4)"],"\n        ",["return","var(--ch-7)"]," ",["item","var(--ch-4)"],"\n      ",["})","var(--ch-4)"],"\n      ",["resolve","var(--ch-5)"],["(users)","var(--ch-4)"],"\n    ",["}","var(--ch-4)"]," ",["catch","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n      ",["console.","var(--ch-4)"],["warn","var(--ch-5)"],["(","var(--ch-4)"],["'fetch have been canceled!'","var(--ch-8)"],[")","var(--ch-4)"],"\n    ",["}","var(--ch-4)"],"\n  ",["})","var(--ch-4)"],"\n\n  ",["const","var(--ch-7)"]," ",["promise","var(--ch-2)"]," ",["=","var(--ch-7)"]," ",["__promise","var(--ch-4)"]," ",["as","var(--ch-7)"]," ",["PromiseWithCancel","var(--ch-3)"],["<","var(--ch-4)"],["UserInfo","var(--ch-3)"],["[]>","var(--ch-4)"],"\n  ",["promise.","var(--ch-4)"],["cancel","var(--ch-5)"]," ",["=","var(--ch-7)"]," ",["()","var(--ch-4)"]," ",["=>","var(--ch-7)"]," ",["{","var(--ch-4)"],"\n    ",["if","var(--ch-7)"]," ",["(controller) {","var(--ch-4)"],"\n      ",["controller.","var(--ch-4)"],["abort","var(--ch-5)"],["()","var(--ch-4)"],"\n    ",["}","var(--ch-4)"],"\n  ",["}","var(--ch-4)"],"\n\n  ",["return","var(--ch-7)"]," ",["promise","var(--ch-4)"],"\n",["}","var(--ch-4)"]],"annotations":[],"themeName":"github-from-css","style":{"color":"var(--ch-4)","background":"var(--ch-16)","colorScheme":"var(--ch-0)"}}]}]]}]}]
c:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base javascript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"javascript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":14,"height":14,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-terminal","children":[["$","polyline","akl6gq",{"points":"4 17 10 11 4 5"}],["$","line","q2wloq",{"x1":"12","x2":"20","y1":"19","y2":"19"}],"$undefined"]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"const"}]," ",["$","span","2",{"style":{"color":"var(--ch-2)"},"children":"deferredValue"}]," ",["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","6",{"style":{"color":"var(--ch-5)"},"children":"useDeferredValue"}],["$","span","7",{"style":{"color":"var(--ch-4)"},"children":"(value, initialValue"}],["$","span","8",{"style":{"color":"var(--ch-7)"},"children":"?"}],["$","span","9",{"style":{"color":"var(--ch-4)"},"children":")"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
18:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base javascript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"javascript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[1,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"export default"}]," ",["$","span","2",{"style":{"color":"var(--ch-5)"},"children":"memo"}],["$","span","3",{"style":{"color":"var(--ch-3)"},"children":"("}],["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"function"}]," ",["$","span","6",{"style":{"color":"var(--ch-5)"},"children":"Expensive"}],["$","span","7",{"style":{"color":"var(--ch-3)"},"children":"({ text })"}]," ",["$","span","9",{"style":{"color":"var(--ch-4)"},"children":"{"}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","2,2",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[2,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":["  ",["$","span","1",{"style":{"color":"var(--ch-1)"},"children":"// ..."}],"\n"],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}],["$","div","3,3",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","span",null,{"children":[3,["$","span",null,{"className":"invisible","children":""}]]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"}"}],["$","span","1",{"style":{"color":"var(--ch-3)"},"children":")"}],["$","span","2",{"style":{"color":"var(--ch-4)"},"children":";"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
11:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base typescript","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"typescript","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":14,"height":14,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-terminal","children":[["$","polyline","akl6gq",{"points":"4 17 10 11 4 5"}],["$","line","q2wloq",{"x1":"12","x2":"20","y1":"19","y2":"19"}],"$undefined"]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-7)"},"children":"const"}]," ",["$","span","2",{"style":{"color":"var(--ch-2)"},"children":"deferred"}]," ",["$","span","4",{"style":{"color":"var(--ch-7)"},"children":"="}]," ",["$","span","6",{"style":{"color":"var(--ch-5)"},"children":"useDeferredValue"}],["$","span","7",{"style":{"color":"var(--ch-4)"},"children":"(counter)"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
17:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base html","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"html","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":14,"height":14,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-terminal","children":[["$","polyline","akl6gq",{"points":"4 17 10 11 4 5"}],["$","line","q2wloq",{"x1":"12","x2":"20","y1":"19","y2":"19"}],"$undefined"]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"<"}],["$","span","1",{"style":{"color":"var(--ch-9)","fontStyle":"italic"},"children":"Expensive"}]," ",["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"counter"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"="}],["$","span","5",{"style":{"color":"var(--ch-8)"},"children":"{deferred}"}]," ",["$","span","7",{"style":{"color":"var(--ch-4)"},"children":"/>"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
19:["$","div",null,{"className":"code-wrapper border my-4 border-gray-200 rounded overflow-hidden","children":[null,["$","div",null,{"className":"code-base html","children":[false,["$","pre",null,{"data-theme":"github-from-css","data-lang":"html","ref":"$undefined","data-ch":true,"children":["$","div",null,{"style":{"minWidth":"fit-content"},"children":[["$","div","1,1",{"style":{"borderLeft":"solid 2px transparent","borderLeftColor":"$undefined","backgroundColor":"$undefined"},"className":"flex","children":["$","div",null,{"className":"flex items-center","children":[["$","span",null,{"className":"line-number px-4 text-gray-400 text-xs select-none","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":14,"height":14,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-terminal","children":[["$","polyline","akl6gq",{"points":"4 17 10 11 4 5"}],["$","line","q2wloq",{"x1":"12","x2":"20","y1":"19","y2":"19"}],"$undefined"]}]}],["$","div",null,{"children":[["$","span","0",{"style":{"color":"var(--ch-4)"},"children":"<"}],["$","span","1",{"style":{"color":"var(--ch-9)","fontStyle":"italic"},"children":"Expensive"}]," ",["$","span","3",{"style":{"color":"var(--ch-2)"},"children":"counter"}],["$","span","4",{"style":{"color":"var(--ch-4)"},"children":"="}],["$","span","5",{"style":{"color":"var(--ch-8)"},"children":"{deferred}"}]," ",["$","span","7",{"style":{"color":"var(--ch-4)"},"children":"/>"}]],"className":"px-2 flex-1 flex-1 pl-2"}]]}]}]]}]}]]}]]}]
20:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
1e:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"usehook - 前端顶级精英俱乐部"}],["$","meta","2",{"name":"description","content":"最好的前端学习网站, react, react19, react hooks, zustand"}],["$","meta","3",{"name":"author","content":"这波能反杀"}],["$","meta","4",{"name":"keywords","content":"react, react19, react hooks, zustand"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
1c:null
